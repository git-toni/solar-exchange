(function(e){function t(e){delete installedChunks[e]}function a(e){var t=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.src=h.p+""+e+"."+y+".hot-update.js",t.appendChild(a)}function n(e){return e=e||1e4,new Promise(function(t,a){if("undefined"==typeof XMLHttpRequest)return a(new Error("No browser support"));try{var n=new XMLHttpRequest,i=h.p+""+y+".hot-update.json";n.open("GET",i,!0),n.timeout=e,n.send(null)}catch(e){return a(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)a(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)a(new Error("Manifest request to "+i+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(t){return void a(t)}t(e)}}})}function i(e){var t=k[e];if(!t)return h;var a=function(a){return t.hot.active?(k[a]?0>k[a].parents.indexOf(e)&&k[a].parents.push(e):(S=[e],E=a),0>t.children.indexOf(a)&&t.children.push(a)):(console.warn("[HMR] unexpected require("+a+") from disposed module "+e),S=[]),h(a)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return h[e]},set:function(t){h[e]=t}}};for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&"e"!=i&&Object.defineProperty(a,i,n(i));return a.e=function(e){function t(){P--,"prepare"===T&&(!C[e]&&c(e),0===P&&0===A&&g())}return"ready"===T&&o("prepare"),P++,h.e(e).then(t,function(e){throw t(),e})},a}function r(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:E!==e,active:!0,accept:function(e,a){if("undefined"==typeof e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=a||function(){};else t._acceptedDependencies[e]=a||function(){}},decline:function(e){if("undefined"==typeof e)t._selfDeclined=!0;else if("object"==typeof e)for(var a=0;a<e.length;a++)t._declinedDependencies[e[a]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var a=t._disposeHandlers.indexOf(e);0<=a&&t._disposeHandlers.splice(a,1)},check:d,apply:p,status:function(e){return e?void v.push(e):T},addStatusHandler:function(e){v.push(e)},removeStatusHandler:function(e){var t=v.indexOf(e);0<=t&&v.splice(t,1)},data:f[e]};return E=void 0,t}function o(e){T=e;for(var t=0;t<v.length;t++)v[t].call(null,e)}function s(e){return+e+""===e?+e:e}function d(e){if("idle"!==T)throw new Error("check() is only allowed in idle status");return x=e,o("check"),n(m).then(function(e){if(!e)return o("idle"),null;w={},C={},L=e.c,G=e.h,o("prepare");var t=new Promise(function(e,t){V={resolve:e,reject:t}});I={};return c(0),"prepare"===T&&0===P&&0==A&&g(),t})}function l(e,t){if(L[e]&&w[e]){for(var a in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,a)&&(I[a]=t[a]);0==--A&&0===P&&g()}}function c(e){L[e]?(w[e]=!0,A++,a(e)):C[e]=!0}function g(){o("ready");var e=V;if(V=null,!!e)if(x)Promise.resolve().then(function(){return p(x)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var a in I)Object.prototype.hasOwnProperty.call(I,a)&&t.push(s(a));e.resolve(t)}}function p(a){function n(e){for(var t=[e],a={},n=t.slice().map(function(e){return{chain:[e],id:e}});0<n.length;){var o=n.pop(),s=o.id,d=o.chain;if(x=k[s],x&&!x.hot._selfAccepted){if(x.hot._selfDeclined)return{type:"self-declined",chain:d,moduleId:s};if(x.hot._main)return{type:"unaccepted",chain:d,moduleId:s};for(var l=0;l<x.parents.length;l++){var i=x.parents[l],c=k[i];if(c){if(c.hot._declinedDependencies[s])return{type:"declined",chain:d.concat([i]),moduleId:s,parentId:i};if(!(0<=t.indexOf(i))){if(c.hot._acceptedDependencies[s]){a[i]||(a[i]=[]),r(a[i],[s]);continue}delete a[i],t.push(i),n.push({chain:d.concat([i]),id:i})}}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:a}}function r(e,t){for(var a=0,n;a<t.length;a++)n=t[a],0>e.indexOf(n)&&e.push(n)}if("ready"!==T)throw new Error("apply() is only allowed in ready status");a=a||{};var d={},l=[],c={},g=function(){console.warn("[HMR] unexpected require("+v.moduleId+") to disposed module")},p,u,i,x,m;for(var b in I)if(Object.prototype.hasOwnProperty.call(I,b)){m=s(b);var v=I[b]?n(m):{type:"disposed",moduleId:b};var A=!1,P=!1,C=!1,w="";switch(v.chain&&(w="\nUpdate propagation: "+v.chain.join(" -> ")),v.type){case"self-declined":a.onDeclined&&a.onDeclined(v),a.ignoreDeclined||(A=new Error("Aborted because of self decline: "+v.moduleId+w));break;case"declined":a.onDeclined&&a.onDeclined(v),a.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+v.moduleId+" in "+v.parentId+w));break;case"unaccepted":a.onUnaccepted&&a.onUnaccepted(v),a.ignoreUnaccepted||(A=new Error("Aborted because "+m+" is not accepted"+w));break;case"accepted":a.onAccepted&&a.onAccepted(v),P=!0;break;case"disposed":a.onDisposed&&a.onDisposed(v),C=!0;break;default:throw new Error("Unexception type "+v.type);}if(A)return o("abort"),Promise.reject(A);if(P)for(m in c[m]=I[m],r(l,v.outdatedModules),v.outdatedDependencies)Object.prototype.hasOwnProperty.call(v.outdatedDependencies,m)&&(d[m]||(d[m]=[]),r(d[m],v.outdatedDependencies[m]));C&&(r(l,[v.moduleId]),c[m]=g)}var E=[];for(u=0;u<l.length;u++)m=l[u],k[m]&&k[m].hot._selfAccepted&&E.push({module:m,errorHandler:k[m].hot._selfAccepted});o("dispose"),Object.keys(L).forEach(function(e){!1===L[e]&&t(e)});for(var V=l.slice(),R;0<V.length;)if(m=V.pop(),x=k[m],x){var O={},D=x.hot._disposeHandlers;for(i=0;i<D.length;i++)p=D[i],p(O);for(f[m]=O,x.hot.active=!1,delete k[m],delete d[m],i=0;i<x.children.length;i++){var z=k[x.children[i]];z&&(R=z.parents.indexOf(m),0<=R&&z.parents.splice(R,1))}}var F,M;for(m in d)if(Object.prototype.hasOwnProperty.call(d,m)&&(x=k[m],x))for(M=d[m],i=0;i<M.length;i++)F=M[i],R=x.children.indexOf(F),0<=R&&x.children.splice(R,1);for(m in o("apply"),y=G,c)Object.prototype.hasOwnProperty.call(c,m)&&(e[m]=c[m]);var X=null;for(m in d)if(Object.prototype.hasOwnProperty.call(d,m)&&(x=k[m],x)){M=d[m];var H=[];for(u=0;u<M.length;u++)if(F=M[u],p=x.hot._acceptedDependencies[F],p){if(0<=H.indexOf(p))continue;H.push(p)}for(u=0;u<H.length;u++){p=H[u];try{p(M)}catch(e){a.onErrored&&a.onErrored({type:"accept-errored",moduleId:m,dependencyId:M[u],error:e}),a.ignoreErrored||X||(X=e)}}}for(u=0;u<E.length;u++){var j=E[u];m=j.module,S=[m];try{h(m)}catch(e){if("function"==typeof j.errorHandler)try{j.errorHandler(e)}catch(t){a.onErrored&&a.onErrored({type:"self-accept-error-handler-errored",moduleId:m,error:t,orginalError:e,originalError:e}),a.ignoreErrored||X||(X=t),X||(X=e)}else a.onErrored&&a.onErrored({type:"self-accept-errored",moduleId:m,error:e}),a.ignoreErrored||X||(X=e)}}return X?(o("fail"),Promise.reject(X)):(o("idle"),new Promise(function(e){e(l)}))}function h(t){if(k[t])return k[t].exports;var a=k[t]={i:t,l:!1,exports:{},hot:r(t),parents:(b=S,S=[],b),children:[]};return e[t].call(a.exports,a,a.exports,i(t)),a.l=!0,a.exports}var u=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){l(e,t),u&&u(e,t)};var x=!0,y="985c68febd4184ebce6b",m=1e4,f={},S=[],b=[],v=[],T="idle",A=0,P=0,C={},w={},L={},k={},E,V,I,G;return h.m=e,h.c=k,h.d=function(e,t,a){h.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},h.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return h.d(t,"a",t),t},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.p="",h.h=function(){return y},i(9)(h.s=9)})([function(e,t,a){(function(e,n){var i;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){function r(e,t){return e.set(t[0],t[1]),e}function o(e,t){return e.add(t),e}function s(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2]);}return e.apply(t,a)}function d(e,t,a,n){for(var i=-1,r=null==e?0:e.length;++i<r;){var o=e[i];t(n,o,a(o),e)}return n}function l(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!(!1===t(e[a],a,e)););return e}function c(e,t){for(var a=null==e?0:e.length;a--&&!(!1===t(e[a],a,e)););return e}function g(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(!t(e[a],a,e))return!1;return!0}function p(e,t){for(var a=-1,n=null==e?0:e.length,i=0,r=[];++a<n;){var o=e[a];t(o,a,e)&&(r[i++]=o)}return r}function h(e,t){var a=null==e?0:e.length;return!!a&&-1<P(e,t,0)}function u(e,t,a){for(var n=-1,i=null==e?0:e.length;++n<i;)if(a(t,e[n]))return!0;return!1}function x(e,t){for(var a=-1,n=null==e?0:e.length,i=Array(n);++a<n;)i[a]=t(e[a],a,e);return i}function y(e,t){for(var a=-1,n=t.length,i=e.length;++a<n;)e[i+a]=t[a];return e}function m(e,t,a,n){var i=-1,r=null==e?0:e.length;for(n&&r&&(a=e[++i]);++i<r;)a=t(a,e[i],i,e);return a}function f(e,t,a,n){var i=null==e?0:e.length;for(n&&i&&(a=e[--i]);i--;)a=t(a,e[i],i,e);return a}function S(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}function b(e){return e.split("")}function v(e){return e.match(Pt)||[]}function T(e,t,a){var n;return a(e,function(e,a,i){if(t(e,a,i))return n=a,!1}),n}function A(e,t,a,n){for(var i=e.length,r=a+(n?1:-1);n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function P(e,t,a){return t===t?$(e,t,a):A(e,w,a)}function C(e,t,a,n){for(var i=a-1,r=e.length;++i<r;)if(n(e[i],t))return i;return-1}function w(e){return e!==e}function L(e,t){var a=null==e?0:e.length;return a?G(e,t)/a:we}function k(e){return function(t){return null==t?void 0:t[e]}}function E(e){return function(t){return null==e?void 0:e[t]}}function V(e,t,a,n,i){return i(e,function(e,i,r){a=n?(n=!1,e):t(a,e,i,r)}),a}function I(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}function G(e,t){for(var a=-1,n=e.length,i;++a<n;){var r=t(e[a]);r!==void 0&&(i=i==void 0?r:i+r)}return i}function R(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}function O(e,t){return x(t,function(t){return[t,e[t]]})}function D(e){return function(t){return e(t)}}function z(e,t){return x(t,function(t){return e[t]})}function F(e,t){return e.has(t)}function M(e,t){for(var a=-1,n=e.length;++a<n&&-1<P(t,e[a],0););return a}function X(e,t){for(var a=e.length;a--&&-1<P(t,e[a],0););return a}function H(e,t){for(var a=e.length,n=0;a--;)e[a]===t&&++n;return n}function j(e){return"\\"+ma[e]}function B(e,t){return null==e?void 0:e[t]}function N(e){return pa.test(e)}function Y(e){return ha.test(e)}function U(e){for(var t=[],a;!(a=e.next()).done;)t.push(a.value);return t}function W(e){var t=-1,a=Array(e.size);return e.forEach(function(e,n){a[++t]=[n,e]}),a}function q(e,t){return function(a){return e(t(a))}}function Q(e,t){for(var a=-1,n=e.length,i=0,r=[];++a<n;){var o=e[a];(o===t||o===de)&&(e[a]=de,r[i++]=a)}return r}function Z(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}function K(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=[e,e]}),a}function $(e,t,a){for(var n=a-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function J(e,t,a){for(var n=a+1;n--;)if(e[n]===t)return n;return n}function ee(e){return N(e)?ae(e):Oa(e)}function te(e){return N(e)?ne(e):b(e)}function ae(e){for(var t=ca.lastIndex=0;ca.test(e);)++t;return t}function ne(e){return e.match(ca)||[]}function ie(e){return e.match(ga)||[]}var re=200,oe="Expected a function",se="__lodash_hash_undefined__",de="__lodash_placeholder__",le=1,ce=2,ge=4,pe=1,he=2,ue=1,_e=2,xe=4,ye=8,me=16,fe=32,Se=64,be=128,ve=256,Te=512,Ae=1,Pe=1/0,Ce=9007199254740991,we=0/0,Le=4294967295,ke=[["ary",be],["bind",ue],["bindKey",_e],["curry",ye],["curryRight",me],["flip",Te],["partial",fe],["partialRight",Se],["rearg",ve]],Ee="[object Arguments]",Ve="[object Array]",Ie="[object Boolean]",Ge="[object Date]",Re="[object Error]",Oe="[object Function]",De="[object GeneratorFunction]",ze="[object Map]",Fe="[object Number]",Me="[object Object]",Xe="[object Promise]",He="[object RegExp]",je="[object Set]",Be="[object String]",Ne="[object Symbol]",Ye="[object WeakMap]",Ue="[object ArrayBuffer]",We="[object DataView]",qe="[object Float32Array]",Qe="[object Float64Array]",Ze="[object Int8Array]",Ke="[object Int16Array]",$e="[object Int32Array]",Je="[object Uint8Array]",et="[object Uint8ClampedArray]",tt="[object Uint16Array]",at="[object Uint32Array]",nt=/\b__p \+= '';/g,it=/\b(__p \+=) '' \+/g,rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ot=/&(?:amp|lt|gt|quot|#39);/g,st=/[&<>"']/g,dt=RegExp(ot.source),lt=RegExp(st.source),ct=/<%-([\s\S]+?)%>/g,pt=/<%([\s\S]+?)%>/g,ht=/<%=([\s\S]+?)%>/g,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/,_t=/^\./,xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yt=/[\\^$.*+?()[\]{}|]/g,mt=RegExp(yt.source),ft=/^\s+|\s+$/g,St=/^\s+/,bt=/\s+$/,vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tt=/\{\n\/\* \[wrapped with (.+)\] \*/,At=/,? & /,Pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ct=/\\(\\)?/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,kt=/^[-+]0x[0-9a-f]+$/i,Et=/^0b[01]+$/i,Vt=/^\[object .+?Constructor\]$/,It=/^0o[0-7]+$/i,Gt=/^(?:0|[1-9]\d*)$/,Rt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ot=/($^)/,Dt=/['\n\r\u2028\u2029\\]/g,zt="\\ud800-\\udfff",Ft="\\u2700-\\u27bf",Mt="a-z\\xdf-\\xf6\\xf8-\\xff",Xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ht="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jt="['\u2019]",Bt="["+Ht+"]",Nt="["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]",Yt="\\d+",Ut="["+Mt+"]",Wt="[^"+zt+Ht+Yt+Ft+Mt+Xt+"]",qt="\\ud83c[\\udffb-\\udfff]",Qt="[^"+zt+"]",Zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Kt="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="["+Xt+"]",Jt="(?:"+Ut+"|"+Wt+")",ea="(?:"+jt+"(?:d|ll|m|re|s|t|ve))?",ta="(?:"+jt+"(?:D|LL|M|RE|S|T|VE))?",aa="(?:"+Nt+"|"+qt+")"+"?",na="["+"\\ufe0e\\ufe0f"+"]?",ia="(?:"+"\\u200d"+"(?:"+[Qt,Zt,Kt].join("|")+")"+na+aa+")*",ra=na+aa+ia,oa="(?:"+["["+Ft+"]",Zt,Kt].join("|")+")"+ra,sa="(?:"+[Qt+Nt+"?",Nt,Zt,Kt,"["+zt+"]"].join("|")+")",da=/['’]/g,la=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,ca=RegExp(qt+"(?="+qt+")|"+sa+ra,"g"),ga=RegExp([$t+"?"+Ut+"+"+ea+"(?="+[Bt,$t,"$"].join("|")+")","(?:"+$t+"|"+Wt+")"+"+"+ta+"(?="+[Bt,$t+Jt,"$"].join("|")+")",$t+"?"+Jt+"+"+ea,$t+"+"+ta,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Yt,oa].join("|"),"g"),pa=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,ha=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ua=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_a=-1,xa={};xa[qe]=xa[Qe]=xa[Ze]=xa[Ke]=xa[$e]=xa[Je]=xa[et]=xa[tt]=xa[at]=!0,xa[Ee]=xa[Ve]=xa[Ue]=xa[Ie]=xa[We]=xa[Ge]=xa[Re]=xa[Oe]=xa[ze]=xa[Fe]=xa[Me]=xa[He]=xa[je]=xa[Be]=xa[Ye]=!1;var ya={};ya[Ee]=ya[Ve]=ya[Ue]=ya[We]=ya[Ie]=ya[Ge]=ya[qe]=ya[Qe]=ya[Ze]=ya[Ke]=ya[$e]=ya[ze]=ya[Fe]=ya[Me]=ya[He]=ya[je]=ya[Be]=ya[Ne]=ya[Je]=ya[et]=ya[tt]=ya[at]=!0,ya[Re]=ya[Oe]=ya[Ye]=!1;var ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fa=parseFloat,Sa=parseInt,ba="object"==typeof e&&e&&e.Object===Object&&e,va="object"==typeof self&&self&&self.Object===Object&&self,Ta=ba||va||Function("return this")(),Aa="object"==typeof t&&t&&!t.nodeType&&t,Pa=Aa&&"object"==typeof n&&n&&!n.nodeType&&n,Ca=Pa&&Pa.exports===Aa,wa=Ca&&ba.process,La=function(){try{return wa&&wa.binding&&wa.binding("util")}catch(t){}}(),ka=La&&La.isArrayBuffer,Ea=La&&La.isDate,Va=La&&La.isMap,Ia=La&&La.isRegExp,Ga=La&&La.isSet,Ra=La&&La.isTypedArray,Oa=k("length"),Da=E({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),za=E({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Fa=E({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&#39;":"'"}),Ma=function e(t){function a(e){if(Mr(e)&&!kd(e)&&!(e instanceof b)){if(e instanceof i)return e;if(Eo.call(e,"__wrapped__"))return lr(e)}return new i(e)}function n(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function b(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Le,this.__views__=[]}function E(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function $(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function ae(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function ne(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new ae;++t<a;)this.add(e[t])}function Pt(e){var t=this.__data__=new $(e);this.size=t.size}function zt(e,t){var a=kd(e),n=!a&&Ld(e),i=!a&&!n&&Vd(e),r=!a&&!n&&!i&&Dd(e),o=a||n||i||r,s=o?R(e.length,To):[],d=s.length;for(var l in e)(t||Eo.call(e,l))&&!(o&&("length"==l||i&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ji(l,d)))&&s.push(l);return s}function Ft(e){var t=e.length;return t?e[sn(0,t-1)]:void 0}function Mt(e,t){return rr(Yn(e),Qt(t,0,e.length))}function Xt(e){return rr(Yn(e))}function Ht(e,t,a){(void 0===a||Vr(e[t],a))&&(void 0!==a||t in e)||Wt(e,t,a)}function jt(e,t,a){var n=e[t];Eo.call(e,t)&&Vr(n,a)&&(void 0!==a||t in e)||Wt(e,t,a)}function Bt(e,t){for(var a=e.length;a--;)if(Vr(e[a][0],t))return a;return-1}function Nt(e,t,a,n){return Ls(e,function(e,i,r){t(n,e,a(e),r)}),n}function Yt(e,t){return e&&Un(t,Jr(t),e)}function Ut(e,t){return e&&Un(t,eo(t),e)}function Wt(e,t,a){"__proto__"==t&&qo?qo(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function qt(e,t){for(var a=-1,n=t.length,i=xo(n);++a<n;)i[a]=null==e?void 0:Kr(e,t[a]);return i}function Qt(e,t,a){return e===e&&(void 0!==a&&(e=e<=a?e:a),void 0!==t&&(e=e>=t?e:t)),e}function Zt(e,t,a,n,i,r){var o=t&le,s=t&ce,d;if(a&&(d=i?a(e,n,i,r):a(e)),void 0!==d)return d;if(!Fr(e))return e;var c=kd(e);if(!c){var g=Ms(e),p=g==Oe||g==De;if(Vd(e))return Gn(e,o);if(g!=Me&&g!=Ee&&(!p||i)){if(!ya[g])return i?e:{};d=Mi(e,g,Zt,o)}else if(d=s||p?{}:Fi(e),!o)return s?qn(e,Ut(d,e)):Wn(e,Yt(d,e))}else if(d=zi(e),!o)return Yn(e,d);r||(r=new Pt);var h=r.get(e);if(h)return h;r.set(e,d);var u=t&ge?s?Ci:Pi:s?eo:Jr,x=c?void 0:u(e);return l(x||e,function(n,i){x&&(i=n,n=e[i]),jt(d,i,Zt(n,t,a,i,e,r))}),d}function Kt(e){var t=Jr(e);return function(a){return $t(a,e,t)}}function $t(e,t,a){var n=a.length;if(null==e)return!n;for(e=bo(e);n--;){var i=a[n],r=t[i],o=e[i];if(void 0===o&&!(i in e)||!r(o))return!1}return!0}function Jt(e,t,a){if("function"!=typeof e)throw new Ao(oe);return js(function(){e.apply(void 0,a)},t)}function ea(e,t,a,n){var i=-1,r=h,o=!0,s=e.length,d=[],l=t.length;if(!s)return d;a&&(t=x(t,D(a))),n?(r=u,o=!1):t.length>=re&&(r=F,o=!1,t=new ne(t));outer:for(;++i<s;){var c=e[i],g=null==a?c:a(c);if(c=n||0!==c?c:0,o&&g===g){for(var p=l;p--;)if(t[p]===g)continue outer;d.push(c)}else r(t,g,n)||d.push(c)}return d}function ta(e,t){var a=!0;return Ls(e,function(e,n,i){return a=!!t(e,n,i),a}),a}function aa(e,t,a){for(var n=-1,i=e.length;++n<i;){var r=e[n],o=t(r);if(null!=o&&(void 0===s?o===o&&!Br(o):a(o,s)))var s=o,d=r}return d}function na(e,t,a,n){var i=e.length;for(a=Ur(a),0>a&&(a=-a>i?0:i+a),n=void 0===n||n>i?i:Ur(n),0>n&&(n+=i),n=a>n?0:Wr(n);a<n;)e[a++]=t;return e}function ia(e,t){var a=[];return Ls(e,function(e,n,i){t(e,n,i)&&a.push(e)}),a}function ra(e,t,a,n,i){var r=-1,o=e.length;for(a||(a=Hi),i||(i=[]);++r<o;){var s=e[r];0<t&&a(s)?1<t?ra(s,t-1,a,n,i):y(i,s):!n&&(i[i.length]=s)}return i}function oa(e,t){return e&&Es(e,t,Jr)}function sa(e,t){return e&&Vs(e,t,Jr)}function ca(e,t){return p(t,function(t){return Or(e[t])})}function ga(e,t){t=Vn(t,e);for(var a=0,n=t.length;null!=e&&a<n;)e=e[or(t[a++])];return a&&a==n?e:void 0}function pa(e,t,a){var n=t(e);return kd(e)?n:y(n,a(e))}function ha(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Wo&&Wo in bo(e)?Gi(e):Ji(e)}function ma(e,t){return e>t}function ba(e,t){return null!=e&&Eo.call(e,t)}function va(e,t){return null!=e&&t in bo(e)}function Aa(e,t,a){return e>=os(t,a)&&e<rs(t,a)}function Pa(e,t,a){for(var n=a?u:h,i=e[0].length,r=e.length,o=r,s=xo(r),d=Infinity,l=[],c;o--;)c=e[o],o&&t&&(c=x(c,D(t))),d=os(c.length,d),s[o]=!a&&(t||120<=i&&120<=c.length)?new ne(o&&c):void 0;c=e[0];var g=-1,p=s[0];outer:for(;++g<i&&l.length<d;){var y=c[g],m=t?t(y):y;if(y=a||0!==y?y:0,p?!F(p,m):!n(l,m,a)){for(o=r;--o;){var f=s[o];if(f?!F(f,m):!n(e[o],m,a))continue outer}p&&p.push(m),l.push(y)}}return l}function wa(e,t,a,n){return oa(e,function(e,i,r){t(n,a(e),i,r)}),n}function La(e,t,a){t=Vn(t,e),e=tr(e,t);var n=null==e?e:e[or(ur(t))];return null==n?void 0:s(n,e,a)}function Oa(e){return Mr(e)&&ha(e)==Ee}function Xa(e,t,a,n,i){return e===t||(null!=e&&null!=t&&(Mr(e)||Mr(t))?Ha(e,t,a,n,Xa,i):e!==e&&t!==t)}function Ha(e,t,a,n,i,r){var o=kd(e),s=kd(t),d=o?Ve:Ms(e),l=s?Ve:Ms(t);d=d==Ee?Me:d,l=l==Ee?Me:l;var c=d==Me,g=l==Me,p=d==l;if(p&&Vd(e)){if(!Vd(t))return!1;o=!0,c=!1}if(p&&!c)return r||(r=new Pt),o||Dd(e)?bi(e,t,a,n,i,r):vi(e,t,d,a,n,i,r);if(!(a&pe)){var h=c&&Eo.call(e,"__wrapped__"),u=g&&Eo.call(t,"__wrapped__");if(h||u){var x=h?e.value():e,y=u?t.value():t;return r||(r=new Pt),i(x,y,a,n,r)}}return!!p&&(r||(r=new Pt),Ti(e,t,a,n,i,r))}function ja(e,t,a,n){var i=a.length,r=i,o=!n;if(null==e)return!r;for(e=bo(e);i--;){var s=a[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<r;){s=a[i];var d=s[0],l=e[d],c=s[1];if(!(o&&s[2])){var g=new Pt;if(n)var p=n(l,c,d,e,t,g);if(void 0===p?!Xa(c,l,pe|he,n,g):!p)return!1}else if(void 0===l&&!(d in e))return!1}return!0}function Ba(e){if(!Fr(e)||Wi(e))return!1;var t=Or(e)?Do:Vt;return t.test(sr(e))}function Na(e){return"function"==typeof e?e:null==e?lo:"object"==typeof e?kd(e)?Za(e[0],e[1]):Qa(e):ho(e)}function Ya(e){if(!qi(e))return is(e);var t=[];for(var a in bo(e))Eo.call(e,a)&&"constructor"!=a&&t.push(a);return t}function Ua(e){if(!Fr(e))return $i(e);var t=qi(e),a=[];for(var n in e)("constructor"!=n||!t&&Eo.call(e,n))&&a.push(n);return a}function Wa(e,t){return e<t}function qa(e,t){var a=-1,n=Ir(e)?xo(e.length):[];return Ls(e,function(e,i,r){n[++a]=t(e,i,r)}),n}function Qa(e){var t=Vi(e);return 1==t.length&&t[0][2]?Zi(t[0][0],t[0][1]):function(a){return a===e||ja(a,e,t)}}function Za(e,t){return Ni(e)&&Qi(t)?Zi(or(e),t):function(a){var n=Kr(a,e);return void 0===n&&n===t?$r(a,e):Xa(t,n,pe|he)}}function Ka(e,t,a,n,i){e===t||Es(t,function(r,o){if(Fr(r))i||(i=new Pt),$a(e,t,o,a,Ka,n,i);else{var s=n?n(e[o],r,o+"",e,t,i):void 0;void 0===s&&(s=r),Ht(e,o,s)}},eo)}function $a(e,t,a,n,i,r,o){var s=e[a],d=t[a],l=o.get(d);if(l)return void Ht(e,a,l);var c=r?r(s,d,a+"",e,t,o):void 0,g=void 0===c;if(g){var p=kd(d),h=!p&&Vd(d),u=!p&&!h&&Dd(d);c=d,p||h||u?kd(s)?c=s:Gr(s)?c=Yn(s):h?(g=!1,c=Gn(d,!0)):u?(g=!1,c=Xn(d,!0)):c=[]:Hr(d)||Ld(d)?(c=s,Ld(s)?c=Qr(s):(!Fr(s)||n&&Or(s))&&(c=Fi(d))):g=!1}g&&(o.set(d,c),i(c,d,n,r,o),o["delete"](d)),Ht(e,a,c)}function Ja(e,t){var a=e.length;if(a)return t+=0>t?a:0,ji(t,a)?e[t]:void 0}function en(e,t,a){var n=-1;t=x(t.length?t:[lo],D(ki()));var i=qa(e,function(e){var a=x(t,function(t){return t(e)});return{criteria:a,index:++n,value:e}});return I(i,function(e,t){return jn(e,t,a)})}function tn(e,t){return an(e,t,function(t,a){return $r(e,a)})}function an(e,t,a){for(var n=-1,i=t.length,r={};++n<i;){var o=t[n],s=ga(e,o);a(s,o)&&hn(r,Vn(o,e),s)}return r}function nn(e){return function(t){return ga(t,e)}}function rn(e,t,a,n){var i=n?C:P,r=-1,o=t.length,s=e;for(e===t&&(t=Yn(t)),a&&(s=x(e,D(a)));++r<o;)for(var d=0,l=t[r],c=a?a(l):l;-1<(d=i(s,c,d,n));)s!==e&&No.call(s,d,1),No.call(e,d,1);return e}function on(e,t){for(var a=e?t.length:0,n=a-1,i;a--;)if(i=t[a],a==n||i!==r){var r=i;ji(i)?No.call(e,i,1):Tn(e,i)}return e}function sn(e,t){return e+Jo(ls()*(t-e+1))}function dn(e,t,a,n){for(var i=-1,r=rs($o((t-e)/(a||1)),0),o=xo(r);r--;)o[n?r:++i]=e,e+=a;return o}function ln(e,t){var a="";if(!e||1>t||t>Ce)return a;do t%2&&(a+=e),t=Jo(t/2),t&&(e+=e);while(t);return a}function cn(e,t){return Bs(er(e,t,lo),e+"")}function gn(e){return Ft(no(e))}function pn(e,t){var a=no(e);return rr(a,Qt(t,0,a.length))}function hn(e,t,a,n){if(!Fr(e))return e;t=Vn(t,e);for(var i=-1,r=t.length,o=e;null!=o&&++i<r;){var s=or(t[i]),d=a;if(i!=r-1){var l=o[s];d=n?n(l,s,o):void 0,void 0===d&&(d=Fr(l)?l:ji(t[i+1])?[]:{})}jt(o,s,d),o=o[s]}return e}function un(e){return rr(no(e))}function _n(e,t,a){var n=-1,i=e.length;0>t&&(t=-t>i?0:i+t),a=a>i?i:a,0>a&&(a+=i),i=t>a?0:a-t>>>0,t>>>=0;for(var r=xo(i);++n<i;)r[n]=e[n+t];return r}function xn(e,t){var a;return Ls(e,function(e,n,i){return a=t(e,n,i),!a}),!!a}function yn(e,t,a){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=Le>>>1){for(;n<i;){var r=n+i>>>1,o=e[r];null!==o&&!Br(o)&&(a?o<=t:o<t)?n=r+1:i=r}return i}return mn(e,t,lo,a)}function mn(e,t,a,n){t=a(t);for(var i=0,r=null==e?0:e.length,o=t!==t,s=null===t,d=Br(t),l=void 0===t;i<r;){var c=Jo((i+r)/2),g=a(e[c]),p=void 0!==g,h=null===g,u=g===g,x=Br(g);if(o)var y=n||u;else y=l?u&&(n||p):s?u&&p&&(n||!h):d?u&&p&&!h&&(n||!x):h||x?!1:n?g<=t:g<t;y?i=c+1:r=c}return os(r,Le-1)}function fn(e,t){for(var a=-1,n=e.length,i=0,r=[];++a<n;){var o=e[a],s=t?t(o):o;if(!a||!Vr(s,d)){var d=s;r[i++]=0===o?0:o}}return r}function Sn(e){return"number"==typeof e?e:Br(e)?we:+e}function bn(e){if("string"==typeof e)return e;if(kd(e))return x(e,bn)+"";if(Br(e))return Cs?Cs.call(e):"";var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function vn(e,t,a){var n=-1,i=h,r=e.length,o=!0,s=[],d=s;if(a)o=!1,i=u;else if(r>=re){var l=t?null:Os(e);if(l)return Z(l);o=!1,i=F,d=new ne}else d=t?[]:s;outer:for(;++n<r;){var c=e[n],g=t?t(c):c;if(c=a||0!==c?c:0,o&&g===g){for(var p=d.length;p--;)if(d[p]===g)continue outer;t&&d.push(g),s.push(c)}else i(d,g,a)||(d!==s&&d.push(g),s.push(c))}return s}function Tn(e,t){return t=Vn(t,e),e=tr(e,t),null==e||delete e[or(ur(t))]}function An(e,t,a,n){return hn(e,t,a(ga(e,t)),n)}function Pn(e,t,a,n){for(var i=e.length,r=n?i:-1;(n?r--:++r<i)&&t(e[r],r,e););return a?_n(e,n?0:r,n?r+1:i):_n(e,n?r+1:0,n?i:r)}function Cn(e,t){var a=e;return a instanceof b&&(a=a.value()),m(t,function(e,t){return t.func.apply(t.thisArg,y([e],t.args))},a)}function wn(e,t,a){var n=e.length;if(2>n)return n?vn(e[0]):[];for(var i=-1,r=xo(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(r[i]=ea(r[i]||o,e[s],t,a));return vn(ra(r,1),t,a)}function Ln(e,t,a){for(var n=-1,i=e.length,r=t.length,o={},s;++n<i;)s=n<r?t[n]:void 0,a(o,e[n],s);return o}function kn(e){return Gr(e)?e:[]}function En(e){return"function"==typeof e?e:lo}function Vn(e,t){return kd(e)?e:Ni(e,t)?[e]:Ns(Zr(e))}function In(e,t,a){var n=e.length;return a=void 0===a?n:a,!t&&a>=n?e:_n(e,t,a)}function Gn(e,t){if(t)return e.slice();var a=e.length,n=Xo?Xo(a):new e.constructor(a);return e.copy(n),n}function Rn(e){var t=new e.constructor(e.byteLength);return new Mo(t).set(new Mo(e)),t}function On(e,t){var a=t?Rn(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Dn(e,t,a){var n=t?a(W(e),le):W(e);return m(n,r,new e.constructor)}function zn(e){var t=new e.constructor(e.source,Lt.exec(e));return t.lastIndex=e.lastIndex,t}function Fn(e,t,a){var n=t?a(Z(e),le):Z(e);return m(n,o,new e.constructor)}function Mn(e){return Ps?bo(Ps.call(e)):{}}function Xn(e,t){var a=t?Rn(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Hn(e,t){if(e!==t){var a=void 0!==e,n=null===e,i=e===e,r=Br(e),o=void 0!==t,s=null===t,d=t===t,l=Br(t);if(!s&&!l&&!r&&e>t||r&&o&&d&&!s&&!l||n&&o&&d||!a&&d||!i)return 1;if(!n&&!r&&!l&&e<t||l&&a&&i&&!n&&!r||s&&a&&i||!o&&i||!d)return-1}return 0}function jn(e,t,a){for(var n=-1,i=e.criteria,r=t.criteria,o=i.length,s=a.length,d;++n<o;)if(d=Hn(i[n],r[n]),d){if(n>=s)return d;var l=a[n];return d*("desc"==l?-1:1)}return e.index-t.index}function Bn(e,t,a,n){for(var i=-1,r=e.length,o=a.length,s=-1,d=t.length,l=rs(r-o,0),c=xo(d+l),g=!n;++s<d;)c[s]=t[s];for(;++i<o;)(g||i<r)&&(c[a[i]]=e[i]);for(;l--;)c[s++]=e[i++];return c}function Nn(e,t,a,n){for(var i=-1,r=e.length,o=-1,s=a.length,d=-1,l=t.length,c=rs(r-s,0),g=xo(c+l),p=!n;++i<c;)g[i]=e[i];for(var h=i;++d<l;)g[h+d]=t[d];for(;++o<s;)(p||i<r)&&(g[h+a[o]]=e[i++]);return g}function Yn(e,t){var a=-1,n=e.length;for(t||(t=xo(n));++a<n;)t[a]=e[a];return t}function Un(e,t,a,n){var i=!a;a||(a={});for(var r=-1,o=t.length;++r<o;){var s=t[r],d=n?n(a[s],e[s],s,a,e):void 0;void 0===d&&(d=e[s]),i?Wt(a,s,d):jt(a,s,d)}return a}function Wn(e,t){return Un(e,zs(e),t)}function qn(e,t){return Un(e,Fs(e),t)}function Qn(e,t){return function(a,n){var i=kd(a)?d:Nt,r=t?t():{};return i(a,e,ki(n,2),r)}}function Zn(e){return cn(function(t,a){var n=-1,i=a.length,r=1<i?a[i-1]:void 0,o=2<i?a[2]:void 0;for(r=3<e.length&&"function"==typeof r?(i--,r):void 0,o&&Bi(a[0],a[1],o)&&(r=3>i?void 0:r,i=1),t=bo(t);++n<i;){var s=a[n];s&&e(t,s,n,r)}return t})}function Kn(e,t){return function(a,n){if(null==a)return a;if(!Ir(a))return e(a,n);for(var i=a.length,r=t?i:-1,o=bo(a);(t?r--:++r<i)&&!1!==n(o[r],r,o););return a}}function $n(e){return function(t,a,n){for(var i=-1,r=bo(t),o=n(t),s=o.length,d;s--&&(d=o[e?s:++i],!1!==a(r[d],d,r)););return t}}function Jn(e,t,a){function n(){var t=this&&this!==Ta&&this instanceof n?r:e;return t.apply(i?a:this,arguments)}var i=t&ue,r=ai(e);return n}function ei(e){return function(t){t=Zr(t);var a=N(t)?te(t):void 0,n=a?a[0]:t.charAt(0),i=a?In(a,1).join(""):t.slice(1);return n[e]()+i}}function ti(e){return function(t){return m(oo(ro(t).replace(da,"")),e,"")}}function ai(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);}var a=ws(e.prototype),n=e.apply(a,t);return Fr(n)?n:a}}function ni(e,t,a){function n(){for(var r=arguments.length,o=xo(r),d=r,l=Li(n);d--;)o[d]=arguments[d];var c=3>r&&o[0]!==l&&o[r-1]!==l?[]:Q(o,l);if(r-=c.length,r<a)return ui(e,t,oi,n.placeholder,void 0,o,c,void 0,void 0,a-r);var g=this&&this!==Ta&&this instanceof n?i:e;return s(g,this,o)}var i=ai(e);return n}function ii(e){return function(t,a,n){var i=bo(t);if(!Ir(t)){var r=ki(a,3);t=Jr(t),a=function(e){return r(i[e],e,i)}}var o=e(t,a,n);return-1<o?i[r?t[o]:o]:void 0}}function ri(e){return Ai(function(t){var a=t.length,n=a,r=i.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new Ao(oe);if(r&&!s&&"wrapper"==wi(o))var s=new i([],!0)}for(n=s?n:a;++n<a;){o=t[n];var d=wi(o),l="wrapper"==d?Ds(o):void 0;s=l&&Ui(l[0])&&l[1]==(be|ye|fe|ve)&&!l[4].length&&1==l[9]?s[wi(l[0])].apply(s,l[3]):1==o.length&&Ui(o)?s[d]():s.thru(o)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&kd(n))return s.plant(n).value();for(var i=0,r=a?t[i].apply(this,e):n;++i<a;)r=t[i].call(this,r);return r}})}function oi(e,t,a,n,i,r,o,s,d,l){function c(){for(var m=arguments.length,f=xo(m),S=m;S--;)f[S]=arguments[S];if(u)var b=Li(c),v=H(f,b);if(n&&(f=Bn(f,n,i,u)),r&&(f=Nn(f,r,o,u)),m-=v,u&&m<l){var T=Q(f,b);return ui(e,t,oi,c.placeholder,a,f,T,s,d,l-m)}var A=p?a:this,P=h?A[e]:e;return m=f.length,s?f=ar(f,s):x&&1<m&&f.reverse(),g&&d<m&&(f.length=d),this&&this!==Ta&&this instanceof c&&(P=y||ai(P)),P.apply(A,f)}var g=t&be,p=t&ue,h=t&_e,u=t&(ye|me),x=t&Te,y=h?void 0:ai(e);return c}function si(e,t){return function(a,n){return wa(a,e,t(n),{})}}function di(e,t){return function(a,n){var i;if(void 0===a&&void 0===n)return t;if(void 0!==a&&(i=a),void 0!==n){if(void 0===i)return n;"string"==typeof a||"string"==typeof n?(a=bn(a),n=bn(n)):(a=Sn(a),n=Sn(n)),i=e(a,n)}return i}}function li(e){return Ai(function(t){return t=x(t,D(ki())),cn(function(a){var n=this;return e(t,function(e){return s(e,n,a)})})})}function ci(e,t){t=void 0===t?" ":bn(t);var a=t.length;if(2>a)return a?ln(t,e):t;var n=ln(t,$o(e/ee(t)));return N(t)?In(te(n),0,e).join(""):n.slice(0,e)}function gi(e,t,a,n){function i(){for(var t=-1,d=arguments.length,l=-1,c=n.length,g=xo(c+d),p=this&&this!==Ta&&this instanceof i?o:e;++l<c;)g[l]=n[l];for(;d--;)g[l++]=arguments[++t];return s(p,r?a:this,g)}var r=t&ue,o=ai(e);return i}function pi(e){return function(t,a,n){return n&&"number"!=typeof n&&Bi(t,a,n)&&(a=n=void 0),t=Yr(t),void 0===a?(a=t,t=0):a=Yr(a),n=void 0===n?t<a?1:-1:Yr(n),dn(t,a,n,e)}}function hi(e){return function(t,a){return"string"==typeof t&&"string"==typeof a||(t=qr(t),a=qr(a)),e(t,a)}}function ui(e,t,a,n,i,r,o,s,d,l){var c=t&ye,g=c?o:void 0,p=c?void 0:o,h=c?r:void 0,u=c?void 0:r;t|=c?fe:Se,t&=~(c?Se:fe),t&xe||(t&=~(ue|_e));var x=[e,t,i,h,g,u,p,s,d,l],y=a.apply(void 0,x);return Ui(e)&&Hs(y,x),y.placeholder=n,nr(y,e,t)}function _i(e){var t=So[e];return function(e,a){if(e=qr(e),a=null==a?0:os(Ur(a),292),a){var n=(Zr(e)+"e").split("e"),i=t(n[0]+"e"+(+n[1]+a));return n=(Zr(i)+"e").split("e"),+(n[0]+"e"+(+n[1]-a))}return t(e)}}function xi(e){return function(t){var a=Ms(t);return a==ze?W(t):a==je?K(t):O(t,e(t))}}function yi(e,t,a,n,i,r,o,s){var d=t&_e;if(!d&&"function"!=typeof e)throw new Ao(oe);var l=n?n.length:0;if(l||(t&=~(fe|Se),n=i=void 0),o=void 0===o?o:rs(Ur(o),0),s=void 0===s?s:Ur(s),l-=i?i.length:0,t&Se){var c=n,g=i;n=i=void 0}var p=d?void 0:Ds(e),h=[e,t,a,n,i,c,g,r,o,s];if(p&&Ki(h,p),e=h[0],t=h[1],a=h[2],n=h[3],i=h[4],s=h[9]=void 0===h[9]?d?0:e.length:rs(h[9]-l,0),!s&&t&(ye|me)&&(t&=~(ye|me)),!t||t==ue)var u=Jn(e,t,a);else u=t==ye||t==me?ni(e,t,s):t!=fe&&t!=(ue|fe)||i.length?oi.apply(void 0,h):gi(e,t,a,n);var x=p?Is:Hs;return nr(x(u,h),e,t)}function mi(e,t,a,n){return void 0===e||Vr(e,wo[a])&&!Eo.call(n,a)?t:e}function fi(e,t,a,n,i,r){return Fr(e)&&Fr(t)&&(r.set(t,e),Ka(e,t,void 0,fi,r),r["delete"](t)),e}function Si(e){return Hr(e)?void 0:e}function bi(e,t,a,n,i,r){var o=a&pe,s=e.length,d=t.length;if(s!=d&&!(o&&d>s))return!1;var l=r.get(e);if(l&&r.get(t))return l==t;var c=-1,g=!0,p=a&he?new ne:void 0;for(r.set(e,t),r.set(t,e);++c<s;){var h=e[c],u=t[c];if(n)var x=o?n(u,h,c,t,e,r):n(h,u,c,e,t,r);if(void 0!==x){if(x)continue;g=!1;break}if(p){if(!S(t,function(e,t){if(!F(p,t)&&(h===e||i(h,e,a,n,r)))return p.push(t)})){g=!1;break}}else if(!(h===u||i(h,u,a,n,r))){g=!1;break}}return r["delete"](e),r["delete"](t),g}function vi(e,t,a,n,i,r,o){switch(a){case We:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ue:return e.byteLength==t.byteLength&&r(new Mo(e),new Mo(t));case Ie:case Ge:case Fe:return Vr(+e,+t);case Re:return e.name==t.name&&e.message==t.message;case He:case Be:return e==t+"";case ze:var s=W;case je:var d=n&pe;if(s||(s=Z),e.size!=t.size&&!d)return!1;var l=o.get(e);if(l)return l==t;n|=he,o.set(e,t);var c=bi(s(e),s(t),n,i,r,o);return o["delete"](e),c;case Ne:if(Ps)return Ps.call(e)==Ps.call(t);}return!1}function Ti(e,t,a,n,i,r){var o=a&pe,s=Pi(e),d=s.length,l=Pi(t),c=l.length;if(d!=c&&!o)return!1;for(var g=d,p;g--;)if(p=s[g],o?!(p in t):!Eo.call(t,p))return!1;var h=r.get(e);if(h&&r.get(t))return h==t;var u=!0;r.set(e,t),r.set(t,e);for(var x=o;++g<d;){p=s[g];var y=e[p],m=t[p];if(n)var f=o?n(m,y,p,t,e,r):n(y,m,p,e,t,r);if(void 0===f?!(y===m||i(y,m,a,n,r)):!f){u=!1;break}x||(x="constructor"==p)}if(u&&!x){var S=e.constructor,b=t.constructor;S!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof S&&S instanceof S&&"function"==typeof b&&b instanceof b)&&(u=!1)}return r["delete"](e),r["delete"](t),u}function Ai(e){return Bs(er(e,void 0,pr),e+"")}function Pi(e){return pa(e,Jr,zs)}function Ci(e){return pa(e,eo,Fs)}function wi(e){for(var t=e.name+"",a=ms[t],n=Eo.call(ms,t)?a.length:0;n--;){var i=a[n],r=i.func;if(null==r||r==e)return i.name}return t}function Li(e){var t=Eo.call(a,"placeholder")?a:e;return t.placeholder}function ki(){var e=a.iteratee||co;return e=e===co?Na:e,arguments.length?e(arguments[0],arguments[1]):e}function Ei(e,t){var a=e.__data__;return Yi(t)?a["string"==typeof t?"string":"hash"]:a.map}function Vi(e){for(var t=Jr(e),a=t.length;a--;){var n=t[a],i=e[n];t[a]=[n,i,Qi(i)]}return t}function Ii(e,t){var a=B(e,t);return Ba(a)?a:void 0}function Gi(e){var t=Eo.call(e,Wo),a=e[Wo];try{e[Wo]=void 0}catch(t){}var n=Go.call(e);return t?e[Wo]=a:delete e[Wo],n}function Ri(e,t,a){for(var n=-1,i=a.length;++n<i;){var r=a[n],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=os(t,e+o);break;case"takeRight":e=rs(e,t-o);}}return{start:e,end:t}}function Oi(e){var t=e.match(Tt);return t?t[1].split(At):[]}function Di(e,t,a){t=Vn(t,e);for(var n=-1,i=t.length,r=!1,o;++n<i&&(o=or(t[n]),!!(r=null!=e&&a(e,o)));)e=e[o];return r||++n!=i?r:(i=null==e?0:e.length,!!i&&zr(i)&&ji(o,i)&&(kd(e)||Ld(e)))}function zi(e){var t=e.length,a=e.constructor(t);return t&&"string"==typeof e[0]&&Eo.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Fi(e){return"function"!=typeof e.constructor||qi(e)?{}:ws(Ho(e))}function Mi(e,t,a,n){var i=e.constructor;return t===Ue?Rn(e):t===Ie||t===Ge?new i(+e):t===We?On(e,n):t===qe||t===Qe||t===Ze||t===Ke||t===$e||t===Je||t===et||t===tt||t===at?Xn(e,n):t===ze?Dn(e,n,a):t===Fe||t===Be?new i(e):t===He?zn(e):t===je?Fn(e,n,a):t===Ne?Mn(e):void 0}function Xi(e,t){var a=t.length;if(!a)return e;var n=a-1;return t[n]=(1<a?"& ":"")+t[n],t=t.join(2<a?", ":" "),e.replace(vt,"{\n/* [wrapped with "+t+"] */\n")}function Hi(e){return kd(e)||Ld(e)||!!(Yo&&e&&e[Yo])}function ji(e,t){return t=null==t?Ce:t,!!t&&("number"==typeof e||Gt.test(e))&&-1<e&&0==e%1&&e<t}function Bi(e,t,a){if(!Fr(a))return!1;var n=typeof t;return("number"==n?!!(Ir(a)&&ji(t,a.length)):!!("string"==n&&t in a))&&Vr(a[t],e)}function Ni(e,t){if(kd(e))return!1;var a=typeof e;return"number"==a||"symbol"==a||"boolean"==a||null==e||Br(e)||ut.test(e)||!gt.test(e)||null!=t&&e in bo(t)}function Yi(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ui(e){var t=wi(e),n=a[t];if("function"!=typeof n||!(t in b.prototype))return!1;if(e===n)return!0;var i=Ds(n);return!!i&&e===i[0]}function Wi(e){return!!Io&&Io in e}function qi(e){var t=e&&e.constructor,a="function"==typeof t&&t.prototype||wo;return e===a}function Qi(e){return e===e&&!Fr(e)}function Zi(e,t){return function(a){return null!=a&&a[e]===t&&(void 0!==t||e in bo(a))}}function Ki(e,t){var a=e[1],n=t[1],i=a|n,r=i<(ue|_e|be),o=n==be&&a==ye||n==be&&a==ve&&e[7].length<=t[8]||n==(be|ve)&&t[7].length<=t[8]&&a==ye;if(!(r||o))return e;n&ue&&(e[2]=t[2],i|=a&ue?0:xe);var s=t[3];if(s){var d=e[3];e[3]=d?Bn(d,s,t[4]):s,e[4]=d?Q(e[3],de):t[4]}return s=t[5],s&&(d=e[5],e[5]=d?Nn(d,s,t[6]):s,e[6]=d?Q(e[5],de):t[6]),s=t[7],s&&(e[7]=s),n&be&&(e[8]=null==e[8]?t[8]:os(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function $i(e){var t=[];if(null!=e)for(var a in bo(e))t.push(a);return t}function Ji(e){return Go.call(e)}function er(e,t,a){return t=rs(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,r=rs(n.length-t,0),o=xo(r);++i<r;)o[i]=n[t+i];i=-1;for(var d=xo(t+1);++i<t;)d[i]=n[i];return d[t]=a(o),s(e,this,d)}}function tr(e,t){return 2>t.length?e:ga(e,_n(t,0,-1))}function ar(e,t){for(var a=e.length,n=os(t.length,a),i=Yn(e),r;n--;)r=t[n],e[n]=ji(r,a)?i[r]:void 0;return e}function nr(e,t,a){var n=t+"";return Bs(e,Xi(n,dr(Oi(n),a)))}function ir(e){var t=0,a=0;return function(){var n=ss(),i=16-(n-a);if(a=n,!(0<i))t=0;else if(++t>=800)return arguments[0];return e.apply(void 0,arguments)}}function rr(e,t){var a=-1,n=e.length;for(t=void 0===t?n:t;++a<t;){var i=sn(a,n-1),r=e[i];e[i]=e[a],e[a]=r}return e.length=t,e}function or(e){if("string"==typeof e||Br(e))return e;var t=e+"";return"0"==t&&1/e==-Pe?"-0":t}function sr(e){if(null!=e){try{return ko.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function dr(e,t){return l(ke,function(a){var n="_."+a[0];t&a[1]&&!h(e,n)&&e.push(n)}),e.sort()}function lr(e){if(e instanceof b)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Yn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function cr(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var i=null==a?0:Ur(a);return 0>i&&(i=rs(n+i,0)),A(e,ki(t,3),i)}function gr(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==a&&(i=Ur(a),i=0>a?rs(n+i,0):os(i,n-1)),A(e,ki(t,3),i,!0)}function pr(e){var t=null==e?0:e.length;return t?ra(e,1):[]}function hr(e){return e&&e.length?e[0]:void 0}function ur(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function _r(e,t){return e&&e.length&&t&&t.length?rn(e,t):e}function xr(e){return null==e?e:cs.call(e)}function yr(e){if(!(e&&e.length))return[];var t=0;return e=p(e,function(e){if(Gr(e))return t=rs(e.length,t),!0}),R(t,function(t){return x(e,k(t))})}function mr(e,t){if(!(e&&e.length))return[];var a=yr(e);return null==t?a:x(a,function(e){return s(t,void 0,e)})}function fr(e){var t=a(e);return t.__chain__=!0,t}function Sr(e,t){return t(e)}function br(e,t){var a=kd(e)?l:Ls;return a(e,ki(t,3))}function vr(e,t){var a=kd(e)?c:ks;return a(e,ki(t,3))}function Tr(e,t){var a=kd(e)?x:qa;return a(e,ki(t,3))}function Ar(e,t,a){return t=a?void 0:t,t=e&&null==t?e.length:t,yi(e,be,void 0,void 0,void 0,void 0,t)}function Pr(e,t){var a;if("function"!=typeof t)throw new Ao(oe);return e=Ur(e),function(){return 0<--e&&(a=t.apply(this,arguments)),1>=e&&(t=void 0),a}}function Cr(e,t,a){t=a?void 0:t;var n=yi(e,ye,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=Cr.placeholder,n}function wr(e,t,a){t=a?void 0:t;var n=yi(e,me,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=wr.placeholder,n}function Lr(e,t,a){function n(t){var a=u,n=x;return u=x=void 0,c=t,m=e.apply(n,a),m}function i(e){return c=e,f=js(s,t),g?n(e):m}function r(e){var a=e-S,n=e-c,i=t-a;return p?os(i,y-n):i}function o(e){var a=e-S,n=e-c;return void 0==S||a>=t||0>a||p&&n>=y}function s(){var e=yd();return o(e)?d(e):void(f=js(s,r(e)))}function d(e){return(f=void 0,h&&u)?n(e):(u=x=void 0,m)}function l(){var e=yd(),a=o(e);if(u=arguments,x=this,S=e,a){if(void 0===f)return i(S);if(p)return f=js(s,t),n(S)}return void 0===f&&(f=js(s,t)),m}var c=0,g=!1,p=!1,h=!0,u,x,y,m,f,S;if("function"!=typeof e)throw new Ao(oe);return t=qr(t)||0,Fr(a)&&(g=!!a.leading,p="maxWait"in a,y=p?rs(qr(a.maxWait)||0,t):y,h="trailing"in a?!!a.trailing:h),l.cancel=function(){void 0!==f&&Rs(f),c=0,u=S=x=f=void 0},l.flush=function(){return void 0===f?m:d(yd())},l}function kr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ao(oe);var a=function(){var n=arguments,i=t?t.apply(this,n):n[0],r=a.cache;if(r.has(i))return r.get(i);var o=e.apply(this,n);return a.cache=r.set(i,o)||r,o};return a.cache=new(kr.Cache||ae),a}function Er(e){if("function"!=typeof e)throw new Ao(oe);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2]);}return!e.apply(this,t)}}function Vr(e,t){return e===t||e!==e&&t!==t}function Ir(e){return null!=e&&zr(e.length)&&!Or(e)}function Gr(e){return Mr(e)&&Ir(e)}function Rr(e){if(!Mr(e))return!1;var t=ha(e);return t==Re||t=="[object DOMException]"||"string"==typeof e.message&&"string"==typeof e.name&&!Hr(e)}function Or(e){if(!Fr(e))return!1;var t=ha(e);return t==Oe||t==De||t=="[object AsyncFunction]"||t=="[object Proxy]"}function Dr(e){return"number"==typeof e&&e==Ur(e)}function zr(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=Ce}function Fr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Mr(e){return null!=e&&"object"==typeof e}function Xr(e){return"number"==typeof e||Mr(e)&&ha(e)==Fe}function Hr(e){if(!Mr(e)||ha(e)!=Me)return!1;var t=Ho(e);if(null===t)return!0;var a=Eo.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&ko.call(a)==Ro}function jr(e){return"string"==typeof e||!kd(e)&&Mr(e)&&ha(e)==Be}function Br(e){return"symbol"==typeof e||Mr(e)&&ha(e)==Ne}function Nr(e){if(!e)return[];if(Ir(e))return jr(e)?te(e):Yn(e);if(Uo&&e[Uo])return U(e[Uo]());var t=Ms(e),a=t==ze?W:t==je?Z:no;return a(e)}function Yr(e){if(!e)return 0===e?e:0;if(e=qr(e),e===Pe||e===-Pe){var t=0>e?-1:1;return t*1.7976931348623157e308}return e===e?e:0}function Ur(e){var t=Yr(e),a=t%1;return t===t?a?t-a:t:0}function Wr(e){return e?Qt(Ur(e),0,Le):0}function qr(e){if("number"==typeof e)return e;if(Br(e))return we;if(Fr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Fr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ft,"");var a=Et.test(e);return a||It.test(e)?Sa(e.slice(2),a?2:8):kt.test(e)?we:+e}function Qr(e){return Un(e,eo(e))}function Zr(e){return null==e?"":bn(e)}function Kr(e,t,a){var n=null==e?void 0:ga(e,t);return void 0===n?a:n}function $r(e,t){return null!=e&&Di(e,t,va)}function Jr(e){return Ir(e)?zt(e):Ya(e)}function eo(e){return Ir(e)?zt(e,!0):Ua(e)}function to(e,t){if(null==e)return{};var a=x(Ci(e),function(e){return[e]});return t=ki(t),an(e,a,function(e,a){return t(e,a[0])})}function ao(e,t,a){t=Vn(t,e);var n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){var r=null==e?void 0:e[or(t[n])];void 0===r&&(n=i,r=a),e=Or(r)?r.call(e):r}return e}function no(e){return null==e?[]:z(e,Jr(e))}function io(e){return dl(Zr(e).toLowerCase())}function ro(e){return e=Zr(e),e&&e.replace(Rt,Da).replace(la,"")}function oo(e,t,a){return e=Zr(e),t=a?void 0:t,void 0===t?Y(e)?ie(e):v(e):e.match(t)||[]}function so(e){return function(){return e}}function lo(e){return e}function co(e){return Na("function"==typeof e?e:Zt(e,le))}function go(e,t,a){var n=Jr(t),i=ca(t,n);null!=a||Fr(t)&&(i.length||!n.length)||(a=t,t=e,e=this,i=ca(t,Jr(t)));var r=!(Fr(a)&&"chain"in a)||!!a.chain,o=Or(e);return l(i,function(a){var n=t[a];e[a]=n,o&&(e.prototype[a]=function(){var t=this.__chain__;if(r||t){var a=e(this.__wrapped__),i=a.__actions__=Yn(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),a.__chain__=t,a}return n.apply(e,y([this.value()],arguments))})}),e}function po(){}function ho(e){return Ni(e)?k(or(e)):nn(e)}function uo(){return[]}function _o(){return!1}t=null==t?Ta:Ma.defaults(Ta.Object(),t,Ma.pick(Ta,ua));var xo=t.Array,yo=t.Date,mo=t.Error,fo=t.Function,So=t.Math,bo=t.Object,vo=t.RegExp,To=t.String,Ao=t.TypeError,Po=xo.prototype,Co=fo.prototype,wo=bo.prototype,Lo=t["__core-js_shared__"],ko=Co.toString,Eo=wo.hasOwnProperty,Vo=0,Io=function(){var e=/[^.]+$/.exec(Lo&&Lo.keys&&Lo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Go=wo.toString,Ro=ko.call(bo),Oo=Ta._,Do=vo("^"+ko.call(Eo).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zo=Ca?t.Buffer:void 0,Fo=t.Symbol,Mo=t.Uint8Array,Xo=zo?zo.allocUnsafe:void 0,Ho=q(bo.getPrototypeOf,bo),jo=bo.create,Bo=wo.propertyIsEnumerable,No=Po.splice,Yo=Fo?Fo.isConcatSpreadable:void 0,Uo=Fo?Fo.iterator:void 0,Wo=Fo?Fo.toStringTag:void 0,qo=function(){try{var e=Ii(bo,"defineProperty");return e({},"",{}),e}catch(t){}}(),Qo=t.clearTimeout!==Ta.clearTimeout&&t.clearTimeout,Zo=yo&&yo.now!==Ta.Date.now&&yo.now,Ko=t.setTimeout!==Ta.setTimeout&&t.setTimeout,$o=So.ceil,Jo=So.floor,es=bo.getOwnPropertySymbols,ts=zo?zo.isBuffer:void 0,as=t.isFinite,ns=Po.join,is=q(bo.keys,bo),rs=So.max,os=So.min,ss=yo.now,ds=t.parseInt,ls=So.random,cs=Po.reverse,gs=Ii(t,"DataView"),ps=Ii(t,"Map"),hs=Ii(t,"Promise"),us=Ii(t,"Set"),_s=Ii(t,"WeakMap"),xs=Ii(bo,"create"),ys=_s&&new _s,ms={},fs=sr(gs),Ss=sr(ps),bs=sr(hs),vs=sr(us),Ts=sr(_s),As=Fo?Fo.prototype:void 0,Ps=As?As.valueOf:void 0,Cs=As?As.toString:void 0,ws=function(){function e(){}return function(t){if(!Fr(t))return{};if(jo)return jo(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();a.templateSettings={escape:ct,evaluate:pt,interpolate:ht,variable:"",imports:{_:a}},a.prototype=n.prototype,a.prototype.constructor=a,i.prototype=ws(n.prototype),i.prototype.constructor=i,b.prototype=ws(n.prototype),b.prototype.constructor=b,E.prototype.clear=function(){this.__data__=xs?xs(null):{},this.size=0},E.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},E.prototype.get=function(e){var t=this.__data__;if(xs){var a=t[e];return a===se?void 0:a}return Eo.call(t,e)?t[e]:void 0},E.prototype.has=function(e){var t=this.__data__;return xs?void 0!==t[e]:Eo.call(t,e)},E.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=xs&&void 0===t?se:t,this},$.prototype.clear=function(){this.__data__=[],this.size=0},$.prototype["delete"]=function(e){var t=this.__data__,a=Bt(t,e);if(0>a)return!1;var n=t.length-1;return a==n?t.pop():No.call(t,a,1),--this.size,!0},$.prototype.get=function(e){var t=this.__data__,a=Bt(t,e);return 0>a?void 0:t[a][1]},$.prototype.has=function(e){return-1<Bt(this.__data__,e)},$.prototype.set=function(e,t){var a=this.__data__,n=Bt(a,e);return 0>n?(++this.size,a.push([e,t])):a[n][1]=t,this},ae.prototype.clear=function(){this.size=0,this.__data__={hash:new E,map:new(ps||$),string:new E}},ae.prototype["delete"]=function(e){var t=Ei(this,e)["delete"](e);return this.size-=t?1:0,t},ae.prototype.get=function(e){return Ei(this,e).get(e)},ae.prototype.has=function(e){return Ei(this,e).has(e)},ae.prototype.set=function(e,t){var a=Ei(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this},ne.prototype.add=ne.prototype.push=function(e){return this.__data__.set(e,se),this},ne.prototype.has=function(e){return this.__data__.has(e)},Pt.prototype.clear=function(){this.__data__=new $,this.size=0},Pt.prototype["delete"]=function(e){var t=this.__data__,a=t["delete"](e);return this.size=t.size,a},Pt.prototype.get=function(e){return this.__data__.get(e)},Pt.prototype.has=function(e){return this.__data__.has(e)},Pt.prototype.set=function(e,t){var a=this.__data__;if(a instanceof $){var n=a.__data__;if(!ps||n.length<re-1)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new ae(n)}return a.set(e,t),this.size=a.size,this};var Ls=Kn(oa),ks=Kn(sa,!0),Es=$n(),Vs=$n(!0),Is=ys?function(e,t){return ys.set(e,t),e}:lo,Gs=qo?function(e,t){return qo(e,"toString",{configurable:!0,enumerable:!1,value:so(t),writable:!0})}:lo,Rs=Qo||function(e){return Ta.clearTimeout(e)},Os=us&&1/Z(new us([,-0]))[1]==Pe?function(e){return new us(e)}:po,Ds=ys?function(e){return ys.get(e)}:po,zs=es?function(e){return null==e?[]:(e=bo(e),p(es(e),function(t){return Bo.call(e,t)}))}:uo,Fs=es?function(e){for(var t=[];e;)y(t,zs(e)),e=Ho(e);return t}:uo,Ms=ha;(gs&&Ms(new gs(new ArrayBuffer(1)))!=We||ps&&Ms(new ps)!=ze||hs&&Ms(hs.resolve())!=Xe||us&&Ms(new us)!=je||_s&&Ms(new _s)!=Ye)&&(Ms=function(e){var t=ha(e),a=t==Me?e.constructor:void 0,n=a?sr(a):"";if(n)switch(n){case fs:return We;case Ss:return ze;case bs:return Xe;case vs:return je;case Ts:return Ye;}return t});var Xs=Lo?Or:_o,Hs=ir(Is),js=Ko||function(e,t){return Ta.setTimeout(e,t)},Bs=ir(Gs),Ns=function(e){var t=kr(e,function(e){return a.size===500&&a.clear(),e}),a=t.cache;return t}(function(e){var t=[];return _t.test(e)&&t.push(""),e.replace(xt,function(e,a,n,i){t.push(n?i.replace(Ct,"$1"):a||e)}),t}),Ys=cn(function(e,t){return Gr(e)?ea(e,ra(t,1,Gr,!0)):[]}),Us=cn(function(e,t){var a=ur(t);return Gr(a)&&(a=void 0),Gr(e)?ea(e,ra(t,1,Gr,!0),ki(a,2)):[]}),Ws=cn(function(e,t){var a=ur(t);return Gr(a)&&(a=void 0),Gr(e)?ea(e,ra(t,1,Gr,!0),void 0,a):[]}),qs=cn(function(e){var t=x(e,kn);return t.length&&t[0]===e[0]?Pa(t):[]}),Qs=cn(function(e){var t=ur(e),a=x(e,kn);return t===ur(a)?t=void 0:a.pop(),a.length&&a[0]===e[0]?Pa(a,ki(t,2)):[]}),Zs=cn(function(e){var t=ur(e),a=x(e,kn);return t="function"==typeof t?t:void 0,t&&a.pop(),a.length&&a[0]===e[0]?Pa(a,void 0,t):[]}),Ks=cn(_r),$s=Ai(function(e,t){var a=null==e?0:e.length,n=qt(e,t);return on(e,x(t,function(e){return ji(e,a)?+e:e}).sort(Hn)),n}),Js=cn(function(e){return vn(ra(e,1,Gr,!0))}),ed=cn(function(e){var t=ur(e);return Gr(t)&&(t=void 0),vn(ra(e,1,Gr,!0),ki(t,2))}),td=cn(function(e){var t=ur(e);return t="function"==typeof t?t:void 0,vn(ra(e,1,Gr,!0),void 0,t)}),ad=cn(function(e,t){return Gr(e)?ea(e,t):[]}),nd=cn(function(e){return wn(p(e,Gr))}),id=cn(function(e){var t=ur(e);return Gr(t)&&(t=void 0),wn(p(e,Gr),ki(t,2))}),rd=cn(function(e){var t=ur(e);return t="function"==typeof t?t:void 0,wn(p(e,Gr),void 0,t)}),od=cn(yr),sd=cn(function(e){var t=e.length,a=1<t?e[t-1]:void 0;return a="function"==typeof a?(e.pop(),a):void 0,mr(e,a)}),dd=Ai(function(e){var t=e.length,a=t?e[0]:0,n=this.__wrapped__,r=function(t){return qt(t,e)};return 1<t||this.__actions__.length||!(n instanceof b)||!ji(a)?this.thru(r):(n=n.slice(a,+a+(t?1:0)),n.__actions__.push({func:Sr,args:[r],thisArg:void 0}),new i(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e}))}),ld=Qn(function(e,t,a){Eo.call(e,a)?++e[a]:Wt(e,a,1)}),cd=ii(cr),gd=ii(gr),pd=Qn(function(e,t,a){Eo.call(e,a)?e[a].push(t):Wt(e,a,[t])}),hd=cn(function(e,t,a){var n=-1,i=Ir(e)?xo(e.length):[];return Ls(e,function(e){i[++n]="function"==typeof t?s(t,e,a):La(e,t,a)}),i}),ud=Qn(function(e,t,a){Wt(e,a,t)}),_d=Qn(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]}),xd=cn(function(e,t){if(null==e)return[];var a=t.length;return 1<a&&Bi(e,t[0],t[1])?t=[]:2<a&&Bi(t[0],t[1],t[2])&&(t=[t[0]]),en(e,ra(t,1),[])}),yd=Zo||function(){return Ta.Date.now()},md=cn(function(e,t,a){var n=ue;if(a.length){var i=Q(a,Li(md));n|=fe}return yi(e,n,t,a,i)}),fd=cn(function(e,t,a){var n=ue|_e;if(a.length){var i=Q(a,Li(fd));n|=fe}return yi(t,n,e,a,i)}),Sd=cn(function(e,t){return Jt(e,1,t)}),bd=cn(function(e,t,a){return Jt(e,qr(t)||0,a)});kr.Cache=ae;var vd=cn(function(e,t){t=1==t.length&&kd(t[0])?x(t[0],D(ki())):x(ra(t,1),D(ki()));var a=t.length;return cn(function(n){for(var i=-1,r=os(n.length,a);++i<r;)n[i]=t[i].call(this,n[i]);return s(e,this,n)})}),Td=cn(function(e,t){var a=Q(t,Li(Td));return yi(e,fe,void 0,t,a)}),Ad=cn(function(e,t){var a=Q(t,Li(Ad));return yi(e,Se,void 0,t,a)}),Pd=Ai(function(e,t){return yi(e,ve,void 0,void 0,void 0,t)}),Cd=hi(ma),wd=hi(function(e,t){return e>=t}),Ld=Oa(function(){return arguments}())?Oa:function(e){return Mr(e)&&Eo.call(e,"callee")&&!Bo.call(e,"callee")},kd=xo.isArray,Ed=ka?D(ka):function(e){return Mr(e)&&ha(e)==Ue},Vd=ts||_o,Id=Ea?D(Ea):function(e){return Mr(e)&&ha(e)==Ge},Gd=Va?D(Va):function(e){return Mr(e)&&Ms(e)==ze},Rd=Ia?D(Ia):function(e){return Mr(e)&&ha(e)==He},Od=Ga?D(Ga):function(e){return Mr(e)&&Ms(e)==je},Dd=Ra?D(Ra):function(e){return Mr(e)&&zr(e.length)&&!!xa[ha(e)]},zd=hi(Wa),Fd=hi(function(e,t){return e<=t}),Md=Zn(function(e,t){if(qi(t)||Ir(t))return void Un(t,Jr(t),e);for(var a in t)Eo.call(t,a)&&jt(e,a,t[a])}),Xd=Zn(function(e,t){Un(t,eo(t),e)}),Hd=Zn(function(e,t,a,n){Un(t,eo(t),e,n)}),jd=Zn(function(e,t,a,n){Un(t,Jr(t),e,n)}),Bd=Ai(qt),Nd=cn(function(e){return e.push(void 0,mi),s(Hd,void 0,e)}),Yd=cn(function(e){return e.push(void 0,fi),s(Zd,void 0,e)}),Ud=si(function(e,t,a){e[t]=a},so(lo)),Wd=si(function(e,t,a){Eo.call(e,t)?e[t].push(a):e[t]=[a]},ki),qd=cn(La),Qd=Zn(function(e,t,a){Ka(e,t,a)}),Zd=Zn(function(e,t,a,n){Ka(e,t,a,n)}),Kd=Ai(function(e,t){var a={};if(null==e)return a;var n=!1;t=x(t,function(t){return t=Vn(t,e),n||(n=1<t.length),t}),Un(e,Ci(e),a),n&&(a=Zt(a,le|ce|ge,Si));for(var i=t.length;i--;)Tn(a,t[i]);return a}),$d=Ai(function(e,t){return null==e?{}:tn(e,t)}),Jd=xi(Jr),el=xi(eo),tl=ti(function(e,t,a){return t=t.toLowerCase(),e+(a?io(t):t)}),al=ti(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),nl=ti(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),il=ei("toLowerCase"),rl=ti(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()}),ol=ti(function(e,t,a){return e+(a?" ":"")+dl(t)}),sl=ti(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),dl=ei("toUpperCase"),ll=cn(function(e,t){try{return s(e,void 0,t)}catch(t){return Rr(t)?t:new mo(t)}}),cl=Ai(function(e,t){return l(t,function(t){t=or(t),Wt(e,t,md(e[t],e))}),e}),gl=ri(),pl=ri(!0),hl=cn(function(e,t){return function(a){return La(a,e,t)}}),ul=cn(function(e,t){return function(a){return La(e,a,t)}}),_l=li(x),xl=li(g),yl=li(S),ml=pi(),fl=pi(!0),Sl=di(function(e,t){return e+t},0),bl=_i("ceil"),vl=di(function(e,t){return e/t},1),Tl=_i("floor"),Al=di(function(e,t){return e*t},1),Pl=_i("round"),Cl=di(function(e,t){return e-t},0);return a.after=function(e,t){if("function"!=typeof t)throw new Ao(oe);return e=Ur(e),function(){if(1>--e)return t.apply(this,arguments)}},a.ary=Ar,a.assign=Md,a.assignIn=Xd,a.assignInWith=Hd,a.assignWith=jd,a.at=Bd,a.before=Pr,a.bind=md,a.bindAll=cl,a.bindKey=fd,a.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return kd(e)?e:[e]},a.chain=fr,a.chunk=function(e,t,a){t=(a?Bi(e,t,a):void 0===t)?1:rs(Ur(t),0);var n=null==e?0:e.length;if(!n||1>t)return[];for(var i=0,r=0,o=xo($o(n/t));i<n;)o[r++]=_n(e,i,i+=t);return o},a.compact=function(e){for(var t=-1,a=null==e?0:e.length,n=0,i=[],r;++t<a;)r=e[t],r&&(i[n++]=r);return i},a.concat=function(){var e=arguments.length;if(!e)return[];for(var t=xo(e-1),a=arguments[0],n=e;n--;)t[n-1]=arguments[n];return y(kd(a)?Yn(a):[a],ra(t,1))},a.cond=function(e){var t=null==e?0:e.length,a=ki();return e=t?x(e,function(e){if("function"!=typeof e[1])throw new Ao(oe);return[a(e[0]),e[1]]}):[],cn(function(a){for(var n=-1,i;++n<t;)if(i=e[n],s(i[0],this,a))return s(i[1],this,a)})},a.conforms=function(e){return Kt(Zt(e,le))},a.constant=so,a.countBy=ld,a.create=function(e,t){var a=ws(e);return null==t?a:Yt(a,t)},a.curry=Cr,a.curryRight=wr,a.debounce=Lr,a.defaults=Nd,a.defaultsDeep=Yd,a.defer=Sd,a.delay=bd,a.difference=Ys,a.differenceBy=Us,a.differenceWith=Ws,a.drop=function(e,t,a){var n=null==e?0:e.length;return n?(t=a||void 0===t?1:Ur(t),_n(e,0>t?0:t,n)):[]},a.dropRight=function(e,t,a){var n=null==e?0:e.length;return n?(t=a||void 0===t?1:Ur(t),t=n-t,_n(e,0,0>t?0:t)):[]},a.dropRightWhile=function(e,t){return e&&e.length?Pn(e,ki(t,3),!0,!0):[]},a.dropWhile=function(e,t){return e&&e.length?Pn(e,ki(t,3),!0):[]},a.fill=function(e,t,a,n){var i=null==e?0:e.length;return i?(a&&"number"!=typeof a&&Bi(e,t,a)&&(a=0,n=i),na(e,t,a,n)):[]},a.filter=function(e,t){var a=kd(e)?p:ia;return a(e,ki(t,3))},a.flatMap=function(e,t){return ra(Tr(e,t),1)},a.flatMapDeep=function(e,t){return ra(Tr(e,t),Pe)},a.flatMapDepth=function(e,t,a){return a=void 0===a?1:Ur(a),ra(Tr(e,t),a)},a.flatten=pr,a.flattenDeep=function(e){var t=null==e?0:e.length;return t?ra(e,Pe):[]},a.flattenDepth=function(e,t){var a=null==e?0:e.length;return a?(t=void 0===t?1:Ur(t),ra(e,t)):[]},a.flip=function(e){return yi(e,Te)},a.flow=gl,a.flowRight=pl,a.fromPairs=function(e){for(var t=-1,a=null==e?0:e.length,n={},i;++t<a;)i=e[t],n[i[0]]=i[1];return n},a.functions=function(e){return null==e?[]:ca(e,Jr(e))},a.functionsIn=function(e){return null==e?[]:ca(e,eo(e))},a.groupBy=pd,a.initial=function(e){var t=null==e?0:e.length;return t?_n(e,0,-1):[]},a.intersection=qs,a.intersectionBy=Qs,a.intersectionWith=Zs,a.invert=Ud,a.invertBy=Wd,a.invokeMap=hd,a.iteratee=co,a.keyBy=ud,a.keys=Jr,a.keysIn=eo,a.map=Tr,a.mapKeys=function(e,t){var a={};return t=ki(t,3),oa(e,function(e,n,i){Wt(a,t(e,n,i),e)}),a},a.mapValues=function(e,t){var a={};return t=ki(t,3),oa(e,function(e,n,i){Wt(a,n,t(e,n,i))}),a},a.matches=function(e){return Qa(Zt(e,le))},a.matchesProperty=function(e,t){return Za(e,Zt(t,le))},a.memoize=kr,a.merge=Qd,a.mergeWith=Zd,a.method=hl,a.methodOf=ul,a.mixin=go,a.negate=Er,a.nthArg=function(e){return e=Ur(e),cn(function(t){return Ja(t,e)})},a.omit=Kd,a.omitBy=function(e,t){return to(e,Er(ki(t)))},a.once=function(e){return Pr(2,e)},a.orderBy=function(e,t,a,n){return null==e?[]:(kd(t)||(t=null==t?[]:[t]),a=n?void 0:a,kd(a)||(a=null==a?[]:[a]),en(e,t,a))},a.over=_l,a.overArgs=vd,a.overEvery=xl,a.overSome=yl,a.partial=Td,a.partialRight=Ad,a.partition=_d,a.pick=$d,a.pickBy=to,a.property=ho,a.propertyOf=function(e){return function(t){return null==e?void 0:ga(e,t)}},a.pull=Ks,a.pullAll=_r,a.pullAllBy=function(e,t,a){return e&&e.length&&t&&t.length?rn(e,t,ki(a,2)):e},a.pullAllWith=function(e,t,a){return e&&e.length&&t&&t.length?rn(e,t,void 0,a):e},a.pullAt=$s,a.range=ml,a.rangeRight=fl,a.rearg=Pd,a.reject=function(e,t){var a=kd(e)?p:ia;return a(e,Er(ki(t,3)))},a.remove=function(e,t){var a=[];if(!(e&&e.length))return a;var n=-1,i=[],r=e.length;for(t=ki(t,3);++n<r;){var o=e[n];t(o,n,e)&&(a.push(o),i.push(n))}return on(e,i),a},a.rest=function(e,t){if("function"!=typeof e)throw new Ao(oe);return t=void 0===t?t:Ur(t),cn(e,t)},a.reverse=xr,a.sampleSize=function(e,t,a){t=(a?Bi(e,t,a):void 0===t)?1:Ur(t);var n=kd(e)?Mt:pn;return n(e,t)},a.set=function(e,t,a){return null==e?e:hn(e,t,a)},a.setWith=function(e,t,a,n){return n="function"==typeof n?n:void 0,null==e?e:hn(e,t,a,n)},a.shuffle=function(e){var t=kd(e)?Xt:un;return t(e)},a.slice=function(e,t,a){var n=null==e?0:e.length;return n?(a&&"number"!=typeof a&&Bi(e,t,a)?(t=0,a=n):(t=null==t?0:Ur(t),a=void 0===a?n:Ur(a)),_n(e,t,a)):[]},a.sortBy=xd,a.sortedUniq=function(e){return e&&e.length?fn(e):[]},a.sortedUniqBy=function(e,t){return e&&e.length?fn(e,ki(t,2)):[]},a.split=function(e,t,a){return(a&&"number"!=typeof a&&Bi(e,t,a)&&(t=a=void 0),a=void 0===a?Le:a>>>0,!a)?[]:(e=Zr(e),e&&("string"==typeof t||null!=t&&!Rd(t))&&(t=bn(t),!t&&N(e))?In(te(e),0,a):e.split(t,a))},a.spread=function(e,t){if("function"!=typeof e)throw new Ao(oe);return t=null==t?0:rs(Ur(t),0),cn(function(a){var n=a[t],i=In(a,0,t);return n&&y(i,n),s(e,this,i)})},a.tail=function(e){var t=null==e?0:e.length;return t?_n(e,1,t):[]},a.take=function(e,t,a){return e&&e.length?(t=a||void 0===t?1:Ur(t),_n(e,0,0>t?0:t)):[]},a.takeRight=function(e,t,a){var n=null==e?0:e.length;return n?(t=a||void 0===t?1:Ur(t),t=n-t,_n(e,0>t?0:t,n)):[]},a.takeRightWhile=function(e,t){return e&&e.length?Pn(e,ki(t,3),!1,!0):[]},a.takeWhile=function(e,t){return e&&e.length?Pn(e,ki(t,3)):[]},a.tap=function(e,t){return t(e),e},a.throttle=function(e,t,a){var n=!0,i=!0;if("function"!=typeof e)throw new Ao(oe);return Fr(a)&&(n="leading"in a?!!a.leading:n,i="trailing"in a?!!a.trailing:i),Lr(e,t,{leading:n,maxWait:t,trailing:i})},a.thru=Sr,a.toArray=Nr,a.toPairs=Jd,a.toPairsIn=el,a.toPath=function(e){return kd(e)?x(e,or):Br(e)?[e]:Yn(Ns(Zr(e)))},a.toPlainObject=Qr,a.transform=function(e,t,a){var n=kd(e),i=n||Vd(e)||Dd(e);if(t=ki(t,4),null==a){var r=e&&e.constructor;a=i?n?new r:[]:Fr(e)?Or(r)?ws(Ho(e)):{}:{}}return(i?l:oa)(e,function(e,n,i){return t(a,e,n,i)}),a},a.unary=function(e){return Ar(e,1)},a.union=Js,a.unionBy=ed,a.unionWith=td,a.uniq=function(e){return e&&e.length?vn(e):[]},a.uniqBy=function(e,t){return e&&e.length?vn(e,ki(t,2)):[]},a.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?vn(e,void 0,t):[]},a.unset=function(e,t){return null==e||Tn(e,t)},a.unzip=yr,a.unzipWith=mr,a.update=function(e,t,a){return null==e?e:An(e,t,En(a))},a.updateWith=function(e,t,a,n){return n="function"==typeof n?n:void 0,null==e?e:An(e,t,En(a),n)},a.values=no,a.valuesIn=function(e){return null==e?[]:z(e,eo(e))},a.without=ad,a.words=oo,a.wrap=function(e,t){return Td(En(t),e)},a.xor=nd,a.xorBy=id,a.xorWith=rd,a.zip=od,a.zipObject=function(e,t){return Ln(e||[],t||[],jt)},a.zipObjectDeep=function(e,t){return Ln(e||[],t||[],hn)},a.zipWith=sd,a.entries=Jd,a.entriesIn=el,a.extend=Xd,a.extendWith=Hd,go(a,a),a.add=Sl,a.attempt=ll,a.camelCase=tl,a.capitalize=io,a.ceil=bl,a.clamp=function(e,t,a){return void 0===a&&(a=t,t=void 0),void 0!==a&&(a=qr(a),a=a===a?a:0),void 0!==t&&(t=qr(t),t=t===t?t:0),Qt(qr(e),t,a)},a.clone=function(e){return Zt(e,ge)},a.cloneDeep=function(e){return Zt(e,le|ge)},a.cloneDeepWith=function(e,t){return t="function"==typeof t?t:void 0,Zt(e,le|ge,t)},a.cloneWith=function(e,t){return t="function"==typeof t?t:void 0,Zt(e,ge,t)},a.conformsTo=function(e,t){return null==t||$t(e,t,Jr(t))},a.deburr=ro,a.defaultTo=function(e,t){return null==e||e!==e?t:e},a.divide=vl,a.endsWith=function(e,t,a){e=Zr(e),t=bn(t);var n=e.length;a=void 0===a?n:Qt(Ur(a),0,n);var i=a;return a-=t.length,0<=a&&e.slice(a,i)==t},a.eq=Vr,a.escape=function(e){return e=Zr(e),e&&lt.test(e)?e.replace(st,za):e},a.escapeRegExp=function(e){return e=Zr(e),e&&mt.test(e)?e.replace(yt,"\\$&"):e},a.every=function(e,t,a){var n=kd(e)?g:ta;return a&&Bi(e,t,a)&&(t=void 0),n(e,ki(t,3))},a.find=cd,a.findIndex=cr,a.findKey=function(e,t){return T(e,ki(t,3),oa)},a.findLast=gd,a.findLastIndex=gr,a.findLastKey=function(e,t){return T(e,ki(t,3),sa)},a.floor=Tl,a.forEach=br,a.forEachRight=vr,a.forIn=function(e,t){return null==e?e:Es(e,ki(t,3),eo)},a.forInRight=function(e,t){return null==e?e:Vs(e,ki(t,3),eo)},a.forOwn=function(e,t){return e&&oa(e,ki(t,3))},a.forOwnRight=function(e,t){return e&&sa(e,ki(t,3))},a.get=Kr,a.gt=Cd,a.gte=wd,a.has=function(e,t){return null!=e&&Di(e,t,ba)},a.hasIn=$r,a.head=hr,a.identity=lo,a.includes=function(e,t,a,n){e=Ir(e)?e:no(e),a=a&&!n?Ur(a):0;var i=e.length;return 0>a&&(a=rs(i+a,0)),jr(e)?a<=i&&-1<e.indexOf(t,a):!!i&&-1<P(e,t,a)},a.indexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var i=null==a?0:Ur(a);return 0>i&&(i=rs(n+i,0)),P(e,t,i)},a.inRange=function(e,t,a){return t=Yr(t),void 0===a?(a=t,t=0):a=Yr(a),e=qr(e),Aa(e,t,a)},a.invoke=qd,a.isArguments=Ld,a.isArray=kd,a.isArrayBuffer=Ed,a.isArrayLike=Ir,a.isArrayLikeObject=Gr,a.isBoolean=function(e){return!0===e||!1===e||Mr(e)&&ha(e)==Ie},a.isBuffer=Vd,a.isDate=Id,a.isElement=function(e){return Mr(e)&&1===e.nodeType&&!Hr(e)},a.isEmpty=function(e){if(null==e)return!0;if(Ir(e)&&(kd(e)||"string"==typeof e||"function"==typeof e.splice||Vd(e)||Dd(e)||Ld(e)))return!e.length;var t=Ms(e);if(t==ze||t==je)return!e.size;if(qi(e))return!Ya(e).length;for(var a in e)if(Eo.call(e,a))return!1;return!0},a.isEqual=function(e,t){return Xa(e,t)},a.isEqualWith=function(e,t,a){a="function"==typeof a?a:void 0;var n=a?a(e,t):void 0;return void 0===n?Xa(e,t,void 0,a):!!n},a.isError=Rr,a.isFinite=function(e){return"number"==typeof e&&as(e)},a.isFunction=Or,a.isInteger=Dr,a.isLength=zr,a.isMap=Gd,a.isMatch=function(e,t){return e===t||ja(e,t,Vi(t))},a.isMatchWith=function(e,t,a){return a="function"==typeof a?a:void 0,ja(e,t,Vi(t),a)},a.isNaN=function(e){return Xr(e)&&e!=+e},a.isNative=function(e){if(Xs(e))throw new mo("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ba(e)},a.isNil=function(e){return null==e},a.isNull=function(e){return null===e},a.isNumber=Xr,a.isObject=Fr,a.isObjectLike=Mr,a.isPlainObject=Hr,a.isRegExp=Rd,a.isSafeInteger=function(e){return Dr(e)&&e>=-Ce&&e<=Ce},a.isSet=Od,a.isString=jr,a.isSymbol=Br,a.isTypedArray=Dd,a.isUndefined=function(e){return void 0===e},a.isWeakMap=function(e){return Mr(e)&&Ms(e)==Ye},a.isWeakSet=function(e){return Mr(e)&&ha(e)=="[object WeakSet]"},a.join=function(e,t){return null==e?"":ns.call(e,t)},a.kebabCase=al,a.last=ur,a.lastIndexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==a&&(i=Ur(a),i=0>i?rs(n+i,0):os(i,n-1)),t===t?J(e,t,i):A(e,w,i,!0)},a.lowerCase=nl,a.lowerFirst=il,a.lt=zd,a.lte=Fd,a.max=function(e){return e&&e.length?aa(e,lo,ma):void 0},a.maxBy=function(e,t){return e&&e.length?aa(e,ki(t,2),ma):void 0},a.mean=function(e){return L(e,lo)},a.meanBy=function(e,t){return L(e,ki(t,2))},a.min=function(e){return e&&e.length?aa(e,lo,Wa):void 0},a.minBy=function(e,t){return e&&e.length?aa(e,ki(t,2),Wa):void 0},a.stubArray=uo,a.stubFalse=_o,a.stubObject=function(){return{}},a.stubString=function(){return""},a.stubTrue=function(){return!0},a.multiply=Al,a.nth=function(e,t){return e&&e.length?Ja(e,Ur(t)):void 0},a.noConflict=function(){return Ta._===this&&(Ta._=Oo),this},a.noop=po,a.now=yd,a.pad=function(e,t,a){e=Zr(e),t=Ur(t);var n=t?ee(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return ci(Jo(i),a)+e+ci($o(i),a)},a.padEnd=function(e,t,a){e=Zr(e),t=Ur(t);var n=t?ee(e):0;return t&&n<t?e+ci(t-n,a):e},a.padStart=function(e,t,a){e=Zr(e),t=Ur(t);var n=t?ee(e):0;return t&&n<t?ci(t-n,a)+e:e},a.parseInt=function(e,t,a){return a||null==t?t=0:t&&(t=+t),ds(Zr(e).replace(St,""),t||0)},a.random=function(e,t,a){if(a&&"boolean"!=typeof a&&Bi(e,t,a)&&(t=a=void 0),void 0===a&&("boolean"==typeof t?(a=t,t=void 0):"boolean"==typeof e&&(a=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Yr(e),void 0===t?(t=e,e=0):t=Yr(t)),e>t){var n=e;e=t,t=n}if(a||e%1||t%1){var i=ls();return os(e+i*(t-e+fa("1e-"+((i+"").length-1))),t)}return sn(e,t)},a.reduce=function(e,t,a){var n=kd(e)?m:V,i=3>arguments.length;return n(e,ki(t,4),a,i,Ls)},a.reduceRight=function(e,t,a){var n=kd(e)?f:V,i=3>arguments.length;return n(e,ki(t,4),a,i,ks)},a.repeat=function(e,t,a){return t=(a?Bi(e,t,a):void 0===t)?1:Ur(t),ln(Zr(e),t)},a.replace=function(){var e=arguments,t=Zr(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},a.result=ao,a.round=Pl,a.runInContext=e,a.sample=function(e){var t=kd(e)?Ft:gn;return t(e)},a.size=function(e){if(null==e)return 0;if(Ir(e))return jr(e)?ee(e):e.length;var t=Ms(e);return t==ze||t==je?e.size:Ya(e).length},a.snakeCase=rl,a.some=function(e,t,a){var n=kd(e)?S:xn;return a&&Bi(e,t,a)&&(t=void 0),n(e,ki(t,3))},a.sortedIndex=function(e,t){return yn(e,t)},a.sortedIndexBy=function(e,t,a){return mn(e,t,ki(a,2))},a.sortedIndexOf=function(e,t){var a=null==e?0:e.length;if(a){var n=yn(e,t);if(n<a&&Vr(e[n],t))return n}return-1},a.sortedLastIndex=function(e,t){return yn(e,t,!0)},a.sortedLastIndexBy=function(e,t,a){return mn(e,t,ki(a,2),!0)},a.sortedLastIndexOf=function(e,t){var a=null==e?0:e.length;if(a){var n=yn(e,t,!0)-1;if(Vr(e[n],t))return n}return-1},a.startCase=ol,a.startsWith=function(e,t,a){return e=Zr(e),a=null==a?0:Qt(Ur(a),0,e.length),t=bn(t),e.slice(a,a+t.length)==t},a.subtract=Cl,a.sum=function(e){return e&&e.length?G(e,lo):0},a.sumBy=function(e,t){return e&&e.length?G(e,ki(t,2)):0},a.template=function(e,t,n){var i=a.templateSettings;n&&Bi(e,t,n)&&(t=void 0),e=Zr(e),t=Hd({},t,i,mi);var r=Hd({},t.imports,i.imports,mi),o=Jr(r),s=z(r,o),d=0,l=t.interpolate||Ot,c="__p += '",g=vo((t.escape||Ot).source+"|"+l.source+"|"+(l===ht?wt:Ot).source+"|"+(t.evaluate||Ot).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++_a+"]")+"\n",h,u;e.replace(g,function(t,a,n,i,r,o){return n||(n=i),c+=e.slice(d,o).replace(Dt,j),a&&(h=!0,c+="' +\n__e("+a+") +\n'"),r&&(u=!0,c+="';\n"+r+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=o+t.length,t}),c+="';\n";var x=t.variable;x||(c="with (obj) {\n"+c+"\n}\n"),c=(u?c.replace(nt,""):c).replace(it,"$1").replace(rt,"$1;"),c="function("+(x||"obj")+") {\n"+(x?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(h?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var y=ll(function(){return fo(o,p+"return "+c).apply(void 0,s)});if(y.source=c,Rr(y))throw y;return y},a.times=function(e,t){if(e=Ur(e),1>e||e>Ce)return[];var a=Le,n=os(e,Le);t=ki(t),e-=Le;for(var i=R(n,t);++a<e;)t(a);return i},a.toFinite=Yr,a.toInteger=Ur,a.toLength=Wr,a.toLower=function(e){return Zr(e).toLowerCase()},a.toNumber=qr,a.toSafeInteger=function(e){return e?Qt(Ur(e),-Ce,Ce):0===e?e:0},a.toString=Zr,a.toUpper=function(e){return Zr(e).toUpperCase()},a.trim=function(e,t,a){if(e=Zr(e),e&&(a||void 0===t))return e.replace(ft,"");if(!e||!(t=bn(t)))return e;var n=te(e),i=te(t),r=M(n,i),o=X(n,i)+1;return In(n,r,o).join("")},a.trimEnd=function(e,t,a){if(e=Zr(e),e&&(a||void 0===t))return e.replace(bt,"");if(!e||!(t=bn(t)))return e;var n=te(e),i=X(n,te(t))+1;return In(n,0,i).join("")},a.trimStart=function(e,t,a){if(e=Zr(e),e&&(a||void 0===t))return e.replace(St,"");if(!e||!(t=bn(t)))return e;var n=te(e),i=M(n,te(t));return In(n,i).join("")},a.truncate=function(e,t){var a=30,n="...";if(Fr(t)){var i="separator"in t?t.separator:i;a="length"in t?Ur(t.length):a,n="omission"in t?bn(t.omission):n}e=Zr(e);var r=e.length;if(N(e)){var o=te(e);r=o.length}if(a>=r)return e;var s=a-ee(n);if(1>s)return n;var d=o?In(o,0,s).join(""):e.slice(0,s);if(void 0===i)return d+n;if(o&&(s+=d.length-s),Rd(i)){if(e.slice(s).search(i)){var l=d,c;for(i.global||(i=vo(i.source,Zr(Lt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var g=c.index;d=d.slice(0,void 0===g?s:g)}}else if(e.indexOf(bn(i),s)!=s){var p=d.lastIndexOf(i);-1<p&&(d=d.slice(0,p))}return d+n},a.unescape=function(e){return e=Zr(e),e&&dt.test(e)?e.replace(ot,Fa):e},a.uniqueId=function(e){var t=++Vo;return Zr(e)+t},a.upperCase=sl,a.upperFirst=dl,a.each=br,a.eachRight=vr,a.first=hr,go(a,function(){var e={};return oa(a,function(t,n){Eo.call(a.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),a.VERSION="4.17.4",l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),l(["drop","take"],function(e,t){b.prototype[e]=function(a){a=void 0===a?1:rs(Ur(a),0);var n=this.__filtered__&&!t?new b(this):this.clone();return n.__filtered__?n.__takeCount__=os(a,n.__takeCount__):n.__views__.push({size:os(a,Le),type:e+(0>n.__dir__?"Right":"")}),n},b.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),l(["filter","map","takeWhile"],function(e,t){var a=t+1;b.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ki(e,3),type:a}),t.__filtered__=t.__filtered__||a==Ae||a==3,t}}),l(["head","last"],function(e,t){var a="take"+(t?"Right":"");b.prototype[e]=function(){return this[a](1).value()[0]}}),l(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");b.prototype[e]=function(){return this.__filtered__?new b(this):this[a](1)}}),b.prototype.compact=function(){return this.filter(lo)},b.prototype.find=function(e){return this.filter(e).head()},b.prototype.findLast=function(e){return this.reverse().find(e)},b.prototype.invokeMap=cn(function(e,t){return"function"==typeof e?new b(this):this.map(function(a){return La(a,e,t)})}),b.prototype.reject=function(e){return this.filter(Er(ki(e)))},b.prototype.slice=function(e,t){e=Ur(e);var a=this;return a.__filtered__&&(0<e||0>t)?new b(a):(0>e?a=a.takeRight(-e):e&&(a=a.drop(e)),void 0!==t&&(t=Ur(t),a=0>t?a.dropRight(-t):a.take(t-e)),a)},b.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},b.prototype.toArray=function(){return this.take(Le)},oa(b.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=a[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(a.prototype[t]=function(){var t=this.__wrapped__,d=r?[1]:arguments,l=t instanceof b,c=d[0],g=l||kd(t),p=function(e){var t=o.apply(a,y([e],d));return r&&h?t[0]:t};g&&n&&"function"==typeof c&&1!=c.length&&(l=g=!1);var h=this.__chain__,u=!!this.__actions__.length,x=s&&!h,m=l&&!u;if(!s&&g){t=m?t:new b(this);var f=e.apply(t,d);return f.__actions__.push({func:Sr,args:[p],thisArg:void 0}),new i(f,h)}return x&&m?e.apply(this,d):(f=this.thru(p),x?r?f.value()[0]:f.value():f)})}),l(["pop","push","shift","sort","splice","unshift"],function(e){var t=Po[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var a=this.value();return t.apply(kd(a)?a:[],e)}return this[n](function(a){return t.apply(kd(a)?a:[],e)})}}),oa(b.prototype,function(e,t){var n=a[t];if(n){var i=n.name+"",r=ms[i]||(ms[i]=[]);r.push({name:t,func:n})}}),ms[oi(void 0,_e).name]=[{name:"wrapper",func:void 0}],b.prototype.clone=function(){var e=new b(this.__wrapped__);return e.__actions__=Yn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Yn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Yn(this.__views__),e},b.prototype.reverse=function(){if(this.__filtered__){var e=new b(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},b.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,a=kd(e),n=0>t,i=a?e.length:0,r=Ri(0,i,this.__views__),o=r.start,s=r.end,d=s-o,l=n?s:o-1,c=this.__iteratees__,g=c.length,p=0,h=os(d,this.__takeCount__);if(!a||!n&&i==d&&h==d)return Cn(e,this.__actions__);var u=[];outer:for(;d--&&p<h;){l+=t;for(var x=-1,y=e[l];++x<g;){var m=c[x],f=m.iteratee,S=m.type,b=f(y);if(S==2)y=b;else if(!b)if(S==Ae)continue outer;else break outer}u[p++]=y}return u},a.prototype.at=dd,a.prototype.chain=function(){return fr(this)},a.prototype.commit=function(){return new i(this.value(),this.__chain__)},a.prototype.next=function(){void 0===this.__values__&&(this.__values__=Nr(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}},a.prototype.plant=function(e){for(var t=this,a,i;t instanceof n;){i=lr(t),i.__index__=0,i.__values__=void 0,a?r.__wrapped__=i:a=i;var r=i;t=t.__wrapped__}return r.__wrapped__=e,a},a.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof b){var t=e;return this.__actions__.length&&(t=new b(this)),t=t.reverse(),t.__actions__.push({func:Sr,args:[xr],thisArg:void 0}),new i(t,this.__chain__)}return this.thru(xr)},a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return Cn(this.__wrapped__,this.__actions__)},a.prototype.first=a.prototype.head,Uo&&(a.prototype[Uo]=function(){return this}),a}();Ta._=Ma,i=function(){return Ma}.call(t,a,t,n),!(i!==void 0&&(n.exports=i))}).call(this)}).call(t,a(11),a(12)(e))},function(e,t,a){"use strict";function n(e){let t=[];for(let a=0;a<e.n_prosumers;a++)t[a]=new o.a(e);return t}var i=a(0),r=a.n(i),o=a(18),s=a(4),d=a(7),l=a(6);let c=new class{constructor(){this.reset=this.reset.bind(this),this.start=this.start.bind(this)}start(e){this.reset(e);let t=3600*(24*e.days)/e.tinterval,a=this.prosumers.length,n=[],r=[],o=[],s;for(let c=0;c<t;c++){n=[],r=[],o=[];for(let t=0;t<a;t++)s=this.prosumers[t],this.gameOn&&s.cycle(e,c)?(n[t]=s.current_storage,r[t]=s.percentage()):this.gameOn=!1;this.total_storage[c]=n.reduce((e,t)=>e+t,0),this.avg_wstorage[c]=Math.round(this.total_storage[c]/a),this.avg_pstorage[c]=r.reduce((e,t)=>e+t,0)/a,this.sunpower[c]=Object(d.b)(Object(l.a)(c,e.tinterval)),this.hconsume[c]=Object(d.a)(Object(l.a)(c,e.tinterval))}return this}reset(e){this.gameOn=!0,this.avg_wstorage=[],this.avg_pstorage=[],this.total_storage=[],this.sunpower=[],this.hconsume=[],this.prosumers=n(e),this.battery_hist=r.a.countBy(this.prosumers,(e)=>e.installed_storage),this.generation_hist=r.a.countBy(this.prosumers,(e)=>e.installed_generation)}getLines(){return{result:this.gameOn,avg_wstorage:this.avg_wstorage,avg_pstorage:this.avg_pstorage,total_storage:this.total_storage,sunpower:this.sunpower,hconsume:this.hconsume,battery_hist:this.battery_hist,generation_hist:this.generation_hist}}};t.a=c},function(e,t,a){t=e.exports=a(5)(void 0),t.i(a(15),""),t.push([e.i,".chart-block.line-chart .c3-axis-y .c3-axis-y-label{font-size:1.4em;fill:#0ba58c}.chart-block.line-chart .c3-axis-y .tick{fill:#0ba58c;font-size:1.3em}.chart-block.line-chart .c3-axis-x path.domain,.chart-block.line-chart .c3-axis-y path.domain{stroke:#a6a2ad;stroke-width:.2em}.chart-block.line-chart .c3-axis-x .tick{font-size:1.3em;fill:#a6a2ad}.chart-block.line-chart .c3-axis-y2 path.domain{stroke:#a6a2ad;stroke-width:.2em}.chart-block.line-chart .c3-axis-y2 .c3-axis-y2-label{font-size:1.4em;fill:#fd6f5b}.chart-block.line-chart .c3-axis-y2 .tick{font-size:1.3em;fill:#fd6f5b}.chart-block.line-chart .c3-line{stroke-width:.4em;stroke-linecap:round}*{padding:0;margin:0;box-sizing:border-box;font-family:Lucida Console,Monaco,monospace}body,html{width:100vw;height:100vh}#main{width:100%;flex-wrap:wrap;padding:1em}#main,.stats-row{display:flex;flex-direction:column}.stats-row h2{font-size:1.1em}.charts-body{width:100%;display:flex}.chart-block .block-title{font-size:.8em;font-weight:700;color:#a6a2ad;text-align:center}.chart-block.line-chart{flex:2 0 50%}.chart-block.genpie-chart,.chart-block.pie-chart{flex:1 0 25%}.header p.header-title{font-size:1.5em;font-weight:700}.header p.header-subtitle{font-size:.9em;color:#7a7a7a}.header div.param-list{display:flex;margin-top:.5em;margin-bottom:1em}.header div.param-list div.param{margin-right:.8em;padding:.2em;background:#e5fdf9}div#loading-indicator{font-size:1.7em;text-align:center;padding-top:2em;color:#7a7a7a}",""])},function(e,t){"use strict";let a=new class{constructor(){this.n_prosumers=200,this.days=3,this.external_grid=!1,this.maxPV=5e3,this.minPV=500,this.batteries=[0,4000,8000,16000],this.PV=[0,1000,2000,4000,5000],this.tinterval=10,this.sell_threshold=10,this.kwh_price=18}};t.a=a},function(e,t,a){"use strict";function n(e,t,a="",n="",i=""){let r=document.createElement(t);return!a||r.classList.add(a),r.innerHTML=i,!n||r.setAttribute("id",n),e.appendChild(r),r}function i(e,t,a){let n=document.createElement("div");n.classList.add("chart-block"),n.classList.add(t);let i=document.createElement("p");i.classList.add("block-title"),i.innerHTML=e;let r=document.createElement("div");return r.classList.add("block-chart"),r.classList.add(t),r.setAttribute("id",a),n.appendChild(i),n.appendChild(r),{block:n,chart:r}}function r(e,t,a){let n=document.createElement("div");n.classList.add("stats-row"),n.setAttribute("id",a);let r=document.createElement("h2");r.innerHTML=e;let o=document.createElement("div");o.classList.add("charts-body");let{block:s,chart:d}=i("","line-chart",a),{block:l,chart:c}=i("Battery distribution","pie-chart",a),{block:g,chart:p}=i("PV distribution","genpie-chart",a);return o.appendChild(s),o.appendChild(l),o.appendChild(g),n.appendChild(r),n.appendChild(o),t.appendChild(n),{row:n,linechart:d,piechart:c,genpie:p}}a.d(t,"c",function(){return b}),a.d(t,"a",function(){return S}),a.d(t,"b",function(){return f});var o=a(20),s=a.n(o),d=a(1),l=a(3),c=a(0),g=a.n(c),p=a(8),h=a(22);document.body.innerHTML="";let u=document.createElement("div");u.setAttribute("id","main"),document.body.appendChild(u);const x=document.getElementById("main");let y="Mean Storage(W)",m="Mean Storage(%)",f=()=>{let e=document.createElement("div");e.classList.add("header");let t=document.createElement("p");t.classList.add("header-title"),t.innerHTML=`Study of grid resilience for Sonnen solar e- exchange v${h.version}`;let a=document.createElement("p");a.classList.add("header-subtitle"),a.innerHTML="This small tool simulates a pool of prosumers with variable installed storage capacity and PV generation. The main goal is to find out which parameters will make the marketplace/grid more resilient without external grid energy purchase. Parameters used: ";let i=document.createElement("div");i.classList.add("param-list"),n(i,"div","param","",`N.Iterations: ${p.a}`),n(i,"div","param","",`Prosumers: ${l.a.n_prosumers}`),n(i,"div","param","",`Hours: ${24*l.a.days}h`),n(i,"div","param","",`Time interval: ${l.a.tinterval}s`),n(i,"div","param","",`Battery threshold(%): ${l.a.sell_threshold}`),e.appendChild(t),e.appendChild(a),e.appendChild(i),n(e,"div","","loading-indicator","Calculating data..."),x.appendChild(e)},S=(e,t)=>{let a={},{row:n,linechart:i,piechart:o,genpie:d}=r(e,x,t),l,c,g;return l=s.a.generate({bindto:i,data:{columns:[[y].concat([]),[m].concat([])],axes:{[y]:"y",[m]:"y2"}},point:{show:!1},axis:{y:{label:y,show:!0,max:16000,min:100},y2:{label:m,show:!0,max:100,min:0}},legend:{position:"inset",inset:{anchor:"top-right",x:30,y:10,step:2}},color:{pattern:["#0BA58C","#FD6F5B","#5D99C4","#FFBF00","#7F2D8D","#B6B2BD"]}}),c=s.a.generate({bindto:o,data:{columns:[],type:"pie"},color:{pattern:["#0BA58C","#FD6F5B","#5D99C4","#FFBF00","#7F2D8D"]}}),g=s.a.generate({bindto:d,data:{columns:[],type:"pie"},color:{pattern:["#0BA58C","#FD6F5B","#5D99C4","#FFBF00","#7F2D8D"]}}),a.lineChart=l,a.lineChartEl=i,a.pieChart=c,a.pieChartEl=o,a.genpieChart=g,a.genpieChartEl=d,a.series={},a},b=(e)=>{for(let t in document.getElementById("loading-indicator").innerHTML="",e){let{lineChart:a,pieChart:n,genpieChart:i,series:r}=e[t],{avg_psto:o,avg_wsto:s,total_sto:d,avg_sunpo:l,avg_hcon:c,avg_bhist:p,avg_ghist:h}=r;!e[t].calculated||(a.load({columns:[[y].concat(s),[m].concat(o)]}),n.load({columns:g.a.toPairs(g.a.mapKeys(p,(e,t)=>`${t}W`))}),i.load({columns:g.a.toPairs(g.a.mapKeys(h,(e,t)=>`${t}W`))}))}}},function(e){function t(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=a(i),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}function a(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return"/*# "+("sourceMappingURL=data:application/json;charset=utf-8;base64,"+t)+" */"}e.exports=function(e){var a=[];return a.toString=function(){return this.map(function(a){var n=t(a,e);return a[2]?"@media "+a[2]+"{"+n+"}":n}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0,i;r<this.length;r++)i=this[r][0],"number"==typeof i&&(n[i]=!0);for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&n[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),a.push(o))}},a}},function(e,t,a){"use strict";function n(e,t){let a=(e+1)*t/86400,n=Math.trunc(a),i=24*(a-n).toFixed(2);return{days:n,hours:i}}function i(e,t){let{days:a,hours:i}=n(e,t);return i}a.d(t,"a",function(){return i})},function(e,t,a){"use strict";function n(e){let t=0;return 12<=e&&15>=e?t=1:12>e&&6<e?t=(e-6)/6:20>e&&15<e&&(t=1-(e-15)/5),t}function i(e){let t=0.2;return 6<=e&&9>=e?t=1:17<=e&&23>=e&&(t=1),t}a.d(t,"b",function(){return n}),a.d(t,"a",function(){return i})},function(e,t,a){"use strict";a.d(t,"a",function(){return n});const n=1},function(e,t,a){e.exports=a(10)},function(e,t,a){"use strict";function n(){let e=o.a.cloneDeep(c.a),t;t=o.a.find(h,["id","equal-battery-equal-pv"]),p[t.id]=Object(l.a)(t.title,t.id),p[t.id].series=Object(g.a)(e),p[t.id].calculated=!0,t=o.a.find(h,["id","equal-battery-medium-pv"]),e=o.a.cloneDeep(c.a),e.PV=[1000,2000],p[t.id]=Object(l.a)(t.title,t.id),p[t.id].series=Object(g.a)(e),p[t.id].calculated=!0,t=o.a.find(h,["id","8kwh-battery-equal-pv"]),e=o.a.cloneDeep(c.a),e.batteries=[8000],p[t.id]=Object(l.a)(t.title,t.id),p[t.id].series=Object(g.a)(e),p[t.id].calculated=!0,t=o.a.find(h,["id","8kwh-battery-medium-pv"]),e=o.a.cloneDeep(c.a),e.batteries=[8000],e.PV=[1000,2000],p[t.id]=Object(l.a)(t.title,t.id),p[t.id].series=Object(g.a)(e),p[t.id].calculated=!0,Object(l.c)(p)}function i(){Object(s.a)("Aloha there!"),Object(l.b)(),setTimeout(()=>{n()},0)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),o=a.n(r),s=a(13),d=a(1),l=a(4),c=a(3),g=a(23);a(14);let p={};const h=[{title:"Equal installed battery distribution. Equal PV",id:"equal-battery-equal-pv"},{title:"Equal installed battery distribution. Medium PV installation",id:"equal-battery-medium-pv"},{title:"All 8kWh battery. Equal PV",id:"8kwh-battery-equal-pv"},{title:"All 8kWh battery. Medium PV",id:"8kwh-battery-medium-pv"}];i(),e.hot.accept(i)},function(e){var t=function(){return this}();try{t=t||Function("return this")()||(1,eval)("this")}catch(a){"object"==typeof window&&(t=window)}e.exports=t},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,a){"use strict";function n(e){console.log(e)}a.d(t,"a",function(){return n})},function(e,t,a){var n=a(2);"string"==typeof n&&(n=[[e.i,n,""]]);var i={},r;i.transform=r;var o=a(16)(n,i);n.locals&&(e.exports=n.locals),!n.locals&&e.hot.accept(2,function(){var t=a(2);"string"==typeof t&&(t=[[e.i,t,""]]),o(t)}),e.hot.dispose(function(){o()})},function(e,t,a){t=e.exports=a(5)(void 0),t.push([e.i,".c3 svg{font:10px sans-serif;-webkit-tap-highlight-color:transparent}.c3 line,.c3 path{fill:none;stroke:#000}.c3 text{-webkit-user-select:none;-moz-user-select:none;user-select:none}.c3-bars path,.c3-event-rect,.c3-legend-item-tile,.c3-xgrid-focus,.c3-ygrid{shape-rendering:crispEdges}.c3-chart-arc path{stroke:#fff}.c3-chart-arc text{fill:#fff;font-size:13px}.c3-grid line{stroke:#aaa}.c3-grid text{fill:#aaa}.c3-xgrid,.c3-ygrid{stroke-dasharray:3 3}.c3-text.c3-empty{fill:grey;font-size:2em}.c3-line{stroke-width:1px}.c3-circle._expanded_{stroke-width:1px;stroke:#fff}.c3-selected-circle{fill:#fff;stroke-width:2px}.c3-bar{stroke-width:0}.c3-bar._expanded_{fill-opacity:1;fill-opacity:.75}.c3-target.c3-focused{opacity:1}.c3-target.c3-focused path.c3-line,.c3-target.c3-focused path.c3-step{stroke-width:2px}.c3-target.c3-defocused{opacity:.3!important}.c3-region{fill:#4682b4;fill-opacity:.1}.c3-brush .extent{fill-opacity:.1}.c3-legend-item{font-size:12px}.c3-legend-item-hidden{opacity:.15}.c3-legend-background{opacity:.75;fill:#fff;stroke:#d3d3d3;stroke-width:1}.c3-title{font:14px sans-serif}.c3-tooltip-container{z-index:10}.c3-tooltip{border-collapse:collapse;border-spacing:0;background-color:#fff;empty-cells:show;-webkit-box-shadow:7px 7px 12px -9px #777;-moz-box-shadow:7px 7px 12px -9px #777;box-shadow:7px 7px 12px -9px #777;opacity:.9}.c3-tooltip tr{border:1px solid #ccc}.c3-tooltip th{background-color:#aaa;font-size:14px;padding:2px 5px;text-align:left;color:#fff}.c3-tooltip td{font-size:13px;padding:3px 6px;background-color:#fff;border-left:1px dotted #999}.c3-tooltip td>span{display:inline-block;width:10px;height:10px;margin-right:6px}.c3-tooltip td.value{text-align:right}.c3-area{stroke-width:0;opacity:.2}.c3-chart-arcs-title{dominant-baseline:middle;font-size:1.3em}.c3-chart-arcs .c3-chart-arcs-background{fill:#e0e0e0;stroke:none}.c3-chart-arcs .c3-chart-arcs-gauge-unit{fill:#000;font-size:16px}.c3-chart-arcs .c3-chart-arcs-gauge-max,.c3-chart-arcs .c3-chart-arcs-gauge-min{fill:#777}.c3-chart-arc .c3-gauge-value{fill:#000}.c3-chart-arc.c3-target.c3-focused g path,.c3-chart-arc.c3-target g path{opacity:1}",""])},function(e,t,a){function n(e,t){for(var a=0;a<e.length;a++){var n=e[a],i=u[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(c(n.parts[r],t))}else{for(var o=[],r=0;r<n.parts.length;r++)o.push(c(n.parts[r],t));u[n.id]={id:n.id,refs:1,parts:o}}}}function i(e,t){for(var a=[],n={},r=0;r<e.length;r++){var i=e[r],o=t.base?i[0]+t.base:i[0],s=i[1],d=i[2],l=i[3],c={css:s,media:d,sourceMap:l};n[o]?n[o].parts.push(c):a.push(n[o]={id:o,parts:[c]})}return a}function r(e,t){var a=y(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=S[S.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),S.push(t);else if("bottom"===e.insertAt)a.appendChild(t);else throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=S.indexOf(e);0<=t&&S.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),r(e,t),t}function d(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),r(e,t),t}function l(e,t){Object.keys(t).forEach(function(a){e.setAttribute(a,t[a])})}function c(e,t){var a,n,i,r;if(t.transform&&e.css)if(r=t.transform(e.css),r)e.css=r;else return function(){};if(t.singleton){var l=f++;a=m||(m=s(t)),n=g.bind(null,a,l,!1),i=g.bind(null,a,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=d(t),n=h.bind(null,a,t),i=function(){o(a),a.href&&URL.revokeObjectURL(a.href)}):(a=s(t),n=p.bind(null,a),i=function(){o(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}function g(e,t,a,n){var i=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function p(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function h(e,t,a){var n=a.css,i=a.sourceMap,r=t.convertToAbsoluteUrls===void 0&&i;(t.convertToAbsoluteUrls||r)&&(n=b(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var u={},x=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),y=function(e){var t={};return function(a){return"undefined"==typeof t[a]&&(t[a]=e.call(this,a)),t[a]}}(function(e){return document.querySelector(e)}),m=null,f=0,S=[],b=a(17);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=x()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=i(e,t);return n(a,t),function(e){for(var r=[],o=0;o<a.length;o++){var s=a[o],d=u[s.id];d.refs--,r.push(d)}if(e){var l=i(e,t);n(l,t)}for(var o=0,d;o<r.length;o++)if(d=r[o],0===d.refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete u[d.id]}}};var v=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},function(e){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,n=a+t.pathname.replace(/\/[^\/]*$/,"/"),i=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var r;return r=0===i.indexOf("//")?i:0===i.indexOf("/")?a+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"});return i}},function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(19),o=a(6),s=a(7);t.a=class{constructor(e){this.installed_storage=i.a.sample(e.batteries),this.current_storage=0<this.installed_storage?i.a.random(0,this.installed_storage):0,this.current_storage=0<this.installed_storage?this.installed_storage:0,this.installed_generation=i.a.sample(e.PV),this.current_generation=0,this.consumption=200,this.leftovers=[],this.purchases=[],this.cycle=this.cycle.bind(this),this.percentage=this.percentage.bind(this)}cycle(e,t){let{current_storage:a,installed_storage:n}=this,i=e.tinterval/3600,d,l,c;if(d=this.current_generation*i,l=d,l-=this.consumption*i,!(0>l))this.current_storage<this.installed_storage&&(this.current_storage=l<this.installed_storage-this.current_storage?this.current_storage+l:n);else if(c=r.a.purchase(this,Math.abs(l)),!c)return!1;return this.current_generation=this.installed_generation*Object(s.b)(Object(o.a)(t,e.tinterval)),this.current_generation=this.installed_generation,this.consumption=3e3*Object(s.a)(Object(o.a)(t,e.tinterval)),!0}percentage(){return 0<this.current_storage?Math.floor(100*(this.current_storage/this.installed_storage)):0}}},function(e,t,a){"use strict";var n=a(1),i=a(3);const r=new class{constructor(){this.findSeller=this.findSeller.bind(this),this.purchase=this.purchase.bind(this)}purchase(e,t){let a=this.findSeller();return!!a&&(a.current_storage-=t,!0)}findSeller(){const{prosumers:e}=n.a;for(let t=0;t<e.length;t++)if(e[t].percentage()>i.a.sell_threshold)return e[t]}};t.a=r},function(e,t,a){var n=Math.cos,o=Math.sqrt,l=Math.pow,i=Math.PI,r=Math.abs,s=Math.min,c=Math.max,p=Math.ceil;(function(t,a){e.exports=a()})(this,function(){"use strict";function e(e,t){var a=this;a.component=e,a.params=t||{},a.d3=e.d3,a.scale=a.d3.scale.linear(),a.range,a.orient="bottom",a.innerTickSize=6,a.outerTickSize=this.params.withOuterTick?6:0,a.tickPadding=3,a.tickValues=null,a.tickFormat,a.tickArguments,a.tickOffset=0,a.tickCulling=!0,a.tickCentered,a.tickTextCharSize,a.tickTextRotate=a.params.tickTextRotate,a.tickLength,a.axis=a.generateAxis()}function t(e){var t=this.internal=new d(this);t.loadConfig(e),t.beforeInit(e),t.init(),t.afterInit(e),function e(t,a,n){Object.keys(t).forEach(function(i){a[i]=t[i].bind(n),0<Object.keys(t[i]).length&&e(t[i],a[i],n)})}(z,this,this)}function d(e){var t=this;t.d3=window.d3?window.d3:a(21),t.api=e,t.config=t.getDefaultConfig(),t.data={},t.cache={},t.axes={}}var g={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},m=function(e){return e||0===e},f=function(e){return"function"==typeof e},S=function(e){return Array.isArray(e)},b=function(e){return"string"==typeof e},T=function(e){return"undefined"==typeof e},A=function(e){return"undefined"!=typeof e},v=function(e){return 10*p(e/10)},P=function(e){return p(e)+0.5},C=function(e){return e[1]-e[0]},w=function(e){return"undefined"==typeof e||null===e||b(e)&&0===e.length||"object"===("undefined"==typeof e?"undefined":h(e))&&0===Object.keys(e).length},L=function(e){return!F.isEmpty(e)},k=function(e,t,a){return A(e[t])?e[t]:a},E=function(e,t){var a=!1;return Object.keys(e).forEach(function(n){e[n]===t&&(a=!0)}),a},V=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},I=function(e){var t=e.getBoundingClientRect(),a=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)],n=a[0].x,i=s(a[0].y,a[1].y);return{x:n,y:i,width:t.width,height:t.height}},G,R;R=e.prototype,R.axisX=function(e,t,a){e.attr("transform",function(e){return"translate("+p(t(e)+a)+", 0)"})},R.axisY=function(e,t){e.attr("transform",function(e){return"translate(0,"+p(t(e))+")"})},R.scaleExtent=function(e){var t=e[0],a=e[e.length-1];return t<a?[t,a]:[a,t]},R.generateTicks=function(e){var t=this,a=[],n,i;if(e.ticks)return e.ticks.apply(e,t.tickArguments);for(i=e.domain(),n=p(i[0]);n<i[1];n++)a.push(n);return 0<a.length&&0<a[0]&&a.unshift(a[0]-(a[1]-a[0])),a},R.copyScale=function(){var e=this,t=e.scale.copy(),a;return e.params.isCategory&&(a=e.scale.domain(),t.domain([a[0],a[1]-1])),t},R.textFormatted=function(e){var t=this,a=t.tickFormat?t.tickFormat(e):e;return"undefined"==typeof a?"":a},R.updateRange=function(){var e=this;return e.range=e.scale.rangeExtent?e.scale.rangeExtent():e.scaleExtent(e.scale.range()),e.range},R.updateTickTextCharSize=function(e){var t=this;if(t.tickTextCharSize)return t.tickTextCharSize;var a={h:11.5,w:5.5};return e.select("text").text(function(e){return t.textFormatted(e)}).each(function(e){var n=this.getBoundingClientRect(),i=t.textFormatted(e),r=n.height,o=i?n.width/i.length:void 0;r&&o&&(a.h=r,a.w=o)}).text(""),t.tickTextCharSize=a,a},R.transitionise=function(e){return this.params.withoutTransition?e:this.d3.transition(e)},R.isVertical=function(){return"left"===this.orient||"right"===this.orient},R.tspanData=function(e,t,a,n){var r=this,o=r.params.tickMultiline?r.splitTickText(e,a,n):[].concat(r.textFormatted(e));return o.map(function(e){return{index:t,splitted:e,length:o.length}})},R.splitTickText=function(e,t,a){function n(e,t){d=void 0;for(var a=1;a<t.length;a++)if(" "===t.charAt(a)&&(d=a),s=t.substr(0,a+1),l=r.tickTextCharSize.w*s.length,o<l)return n(e.concat(t.substr(0,d?d:a)),t.slice(d?d+1:a));return e.concat(t)}var r=this,i=r.textFormatted(e),o=r.params.tickWidth,s,d,l;return"[object Array]"===Object.prototype.toString.call(i)?i:((!o||0>=o)&&(o=r.isVertical()?95:r.params.isCategory?p(a(t[1])-a(t[0]))-12:110),n([],i+""))},R.updateTickLength=function(){var e=this;e.tickLength=c(e.innerTickSize,0)+e.tickPadding},R.lineY2=function(e){var t=this,a=t.scale(e)+(t.tickCentered?0:t.tickOffset);return t.range[0]<a&&a<t.range[1]?t.innerTickSize:0},R.textY=function(){var e=this,t=e.tickTextRotate;return t?11.5-2.5*(t/15)*(0<t?1:-1):e.tickLength},R.textTransform=function(){var e=this,t=e.tickTextRotate;return t?"rotate("+t+")":""},R.textTextAnchor=function(){var e=this,t=e.tickTextRotate;return t?0<t?"start":"end":"middle"},R.tspanDx=function(){var e=this,t=e.tickTextRotate;return t?8*Math.sin(i*(t/180)):0},R.tspanDy=function(e,t){var a=this,n=a.tickTextCharSize.h;return 0===t&&(a.isVertical()?n=-((e.length-1)*(a.tickTextCharSize.h/2)-3):n=".71em"),n},R.generateAxis=function(){function e(i){i.each(function(){var i=e.g=a.select(this),r=this.__chart__||t.scale,o=this.__chart__=t.copyScale(),s=t.tickValues?t.tickValues:t.generateTicks(o),d=i.selectAll(".tick").data(s,o),l=d.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),c=d.exit().remove(),g=t.transitionise(d).style("opacity",1),h,u,y;n.isCategory?(t.tickOffset=p((o(1)-o(0))/2),u=t.tickCentered?0:t.tickOffset,y=t.tickCentered?t.tickOffset:0):t.tickOffset=u=0,l.append("line"),l.append("text"),t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(i.select(".tick"));var m=g.select("line"),f=g.select("text"),S=d.select("text").selectAll("tspan").data(function(e,a){return t.tspanData(e,a,s,o)});S.enter().append("tspan"),S.exit().remove(),S.text(function(e){return e.splitted});var b=i.selectAll(".domain").data([0]),v=(b.enter().append("path").attr("class","domain"),t.transitionise(b));switch(t.orient){case"bottom":{h=t.axisX,m.attr("x1",u).attr("x2",u).attr("y2",function(e,a){return t.lineY2(e,a)}),f.attr("x",0).attr("y",function(e,a){return t.textY(e,a)}).attr("transform",function(e,a){return t.textTransform(e,a)}).style("text-anchor",function(e,a){return t.textTextAnchor(e,a)}),S.attr("x",0).attr("dy",function(e,a){return t.tspanDy(e,a)}).attr("dx",function(e,a){return t.tspanDx(e,a)}),v.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break}case"top":{h=t.axisX,m.attr("x2",0).attr("y2",-t.innerTickSize),f.attr("x",0).attr("y",-t.tickLength).style("text-anchor","middle"),S.attr("x",0).attr("dy","0em"),v.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break}case"left":{h=t.axisY,m.attr("x2",-t.innerTickSize).attr("y1",y).attr("y2",y),f.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),S.attr("x",-t.tickLength).attr("dy",function(e,a){return t.tspanDy(e,a)}),v.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break}case"right":{h=t.axisY,m.attr("x2",t.innerTickSize).attr("y2",0),f.attr("x",t.tickLength).attr("y",0).style("text-anchor","start"),S.attr("x",t.tickLength).attr("dy",function(e,a){return t.tspanDy(e,a)}),v.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize);break}}if(o.rangeBand){var T=o,x=T.rangeBand()/2;r=o=function(e){return T(e)+x}}else r.rangeBand?r=o:c.call(h,o,t.tickOffset);l.call(h,r,t.tickOffset),g.call(h,o,t.tickOffset)})}var t=this,a=t.d3,n=t.params;return e.scale=function(a){return arguments.length?(t.scale=a,e):t.scale},e.orient=function(a){return arguments.length?(t.orient=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom",e):t.orient},e.tickFormat=function(a){return arguments.length?(t.tickFormat=a,e):t.tickFormat},e.tickCentered=function(a){return arguments.length?(t.tickCentered=a,e):t.tickCentered},e.tickOffset=function(){return t.tickOffset},e.tickInterval=function(){var a,i;return n.isCategory?a=2*t.tickOffset:(i=e.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize,a=i/e.g.selectAll("line").size()),a===Infinity?0:a},e.ticks=function(){return arguments.length?(t.tickArguments=arguments,e):t.tickArguments},e.tickCulling=function(a){return arguments.length?(t.tickCulling=a,e):t.tickCulling},e.tickValues=function(a){if("function"==typeof a)t.tickValues=function(){return a(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=a}return e},e};var O=function(t){function a(t){u(this,a);var n={fn:G,internal:{fn:R}},i=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t,"axis",n));return i.d3=t.d3,i.internal=e,i}return x(a,t),a}(function(e,t,a){this.owner=e,D.chart.internal[t]=a});G=O.prototype,G.init=function(){var e=this.owner,t=e.config,a=e.main;e.axes.x=a.append("g").attr("class",g.axis+" "+g.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",g.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=a.append("g").attr("class",g.axis+" "+g.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",g.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=a.append("g").attr("class",g.axis+" "+g.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",g.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},G.getXAxis=function(e,t,a,n,i,r,o){var s=this.owner,d=s.config,l={isCategory:s.isCategorized(),withOuterTick:i,tickMultiline:d.axis_x_tick_multiline,tickWidth:d.axis_x_tick_width,tickTextRotate:o?0:d.axis_x_tick_rotate,withoutTransition:r},c=new this.internal(this,l).axis.scale(e).orient(t);return s.isTimeSeries()&&n&&"function"!=typeof n&&(n=n.map(function(e){return s.parseDate(e)})),c.tickFormat(a).tickValues(n),s.isCategorized()&&(c.tickCentered(d.axis_x_tick_centered),w(d.axis_x_tick_culling)&&(d.axis_x_tick_culling=!1)),c},G.updateXAxisTickValues=function(e,t){var a=this.owner,n=a.config,i;return(n.axis_x_tick_fit||n.axis_x_tick_count)&&(i=this.generateTickValues(a.mapTargetsToUniqueXs(e),n.axis_x_tick_count,a.isTimeSeries())),t?t.tickValues(i):(a.xAxis.tickValues(i),a.subXAxis.tickValues(i)),i},G.getYAxis=function(e,t,a,n,i,r,o){var s=this.owner,d=s.config,l={withOuterTick:i,withoutTransition:r,tickTextRotate:o?0:d.axis_y_tick_rotate},c=new this.internal(this,l).axis.scale(e).orient(t).tickFormat(a);return s.isTimeSeriesY()?c.ticks(s.d3.time[d.axis_y_tick_time_value],d.axis_y_tick_time_interval):c.tickValues(n),c},G.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:"y"},G.getXAxisTickFormat=function(){var e=this.owner,t=e.config,a=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return 0>e?e.toFixed(0):e};return t.axis_x_tick_format&&(f(t.axis_x_tick_format)?a=t.axis_x_tick_format:e.isTimeSeries()&&(a=function(a){return a?e.axisTimeFormat(t.axis_x_tick_format)(a):""})),f(a)?function(t){return a.call(e,t)}:a},G.getTickValues=function(e,t){return e?e:t?t.tickValues():void 0},G.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},G.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},G.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},G.getLabelOptionByAxisId=function(e){var t=this.owner,a=t.config,n;return"y"===e?n=a.axis_y_label:"y2"===e?n=a.axis_y2_label:"x"===e&&(n=a.axis_x_label),n},G.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e);return b(t)?t:t?t.text:null},G.setLabelText=function(e,t){var a=this.owner,n=a.config,i=this.getLabelOptionByAxisId(e);b(i)?"y"===e?n.axis_y_label=t:"y2"===e?n.axis_y2_label=t:"x"===e&&(n.axis_x_label=t):i&&(i.text=t)},G.getLabelPosition=function(e,t){var a=this.getLabelOptionByAxisId(e),n=a&&"object"===("undefined"==typeof a?"undefined":h(a))&&a.position?a.position:t;return{isInner:0<=n.indexOf("inner"),isOuter:0<=n.indexOf("outer"),isLeft:0<=n.indexOf("left"),isCenter:0<=n.indexOf("center"),isRight:0<=n.indexOf("right"),isTop:0<=n.indexOf("top"),isMiddle:0<=n.indexOf("middle"),isBottom:0<=n.indexOf("bottom")}},G.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},G.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},G.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},G.getLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},G.textForXAxisLabel=function(){return this.getLabelText("x")},G.textForYAxisLabel=function(){return this.getLabelText("y")},G.textForY2AxisLabel=function(){return this.getLabelText("y2")},G.xForAxisLabel=function(e,t){var a=this.owner;return e?t.isLeft?0:t.isCenter?a.width/2:a.width:t.isBottom?-a.height:t.isMiddle?-a.height/2:0},G.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},G.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},G.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},G.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},G.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},G.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},G.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},G.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},G.dyForXAxisLabel=function(){var e=this.owner,t=e.config,a=this.getXAxisLabelPosition();return t.axis_rotated?a.isInner?"1.2em":-25-this.getMaxTickWidth("x"):a.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},G.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},G.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},G.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},G.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},G.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},G.getMaxTickWidth=function(e,t){var a=this.owner,n=a.config,i=0,r,o,s,d,l;return t&&a.currentMaxTickWidths[e]?a.currentMaxTickWidths[e]:(a.svg&&(r=a.filterTargetsToShow(a.data.targets),"y"===e?(o=a.y.copy().domain(a.getYDomain(r,"y")),s=this.getYAxis(o,a.yOrient,n.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===e?(o=a.y2.copy().domain(a.getYDomain(r,"y2")),s=this.getYAxis(o,a.y2Orient,n.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(o=a.x.copy().domain(a.getXDomain(r)),s=this.getXAxis(o,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(r,s)),d=a.d3.select("body").append("div").classed("c3",!0),l=d.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),l.append("g").call(s).each(function(){a.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();i<e.width&&(i=e.width)}),d.remove()})),a.currentMaxTickWidths[e]=0>=i?a.currentMaxTickWidths[e]:i,a.currentMaxTickWidths[e])},G.updateLabels=function(e){var t=this.owner,a=t.main.select("."+g.axisX+" ."+g.axisXLabel),n=t.main.select("."+g.axisY+" ."+g.axisYLabel),i=t.main.select("."+g.axisY2+" ."+g.axisY2Label);(e?a.transition():a).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(e?n.transition():n).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},G.getPadding=function(e,t,a,n){var i="number"==typeof e?e:e[t];return m(i)?"ratio"===e.unit?e[t]*n:this.convertPixelsToAxisPadding(i,n):a},G.convertPixelsToAxisPadding=function(e,t){var a=this.owner,n=a.config.axis_rotated?a.width:a.height;return t*(e/n)},G.generateTickValues=function(e,t,a){var n=e,r,o,s,d,l,c,i;if(t)if(r=f(t)?t():t,1===r)n=[e[0]];else if(2===r)n=[e[0],e[e.length-1]];else if(2<r){for(d=r-2,o=e[0],s=e[e.length-1],l=(s-o)/(d+1),n=[o],c=0;c<d;c++)i=+o+l*(c+1),n.push(a?new Date(i):i);n.push(s)}return a||(n=n.sort(function(e,t){return e-t})),n},G.generateTransitions=function(e){var t=this.owner,a=t.axes;return{axisX:e?a.x.transition().duration(e):a.x,axisY:e?a.y.transition().duration(e):a.y,axisY2:e?a.y2.transition().duration(e):a.y2,axisSubX:e?a.subx.transition().duration(e):a.subx}},G.redraw=function(e,t){var a=this.owner;a.axes.x.style("opacity",t?0:1),a.axes.y.style("opacity",t?0:1),a.axes.y2.style("opacity",t?0:1),a.axes.subx.style("opacity",t?0:1),e.axisX.call(a.xAxis),e.axisY.call(a.yAxis),e.axisY2.call(a.y2Axis),e.axisSubX.call(a.subXAxis)};var D={version:"0.4.18"},z,F;return D.generate=function(e){return new t(e)},D.chart={fn:t.prototype,internal:{fn:d.prototype}},z=D.chart.fn,F=D.chart.internal.fn,F.beforeInit=function(){},F.afterInit=function(){},F.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else if(t.data_columns)e.initWithData(e.convertColumnsToData(t.data_columns));else throw Error("url or json or rows or columns is required.")},F.initParams=function(){var e=this,t=e.d3,a=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=a.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=a.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=a.axis_rotated?"left":"bottom",e.yOrient=a.axis_rotated?a.axis_y_inner?"top":"bottom":a.axis_y_inner?"right":"left",e.y2Orient=a.axis_rotated?a.axis_y2_inner?"bottom":"top":a.axis_y2_inner?"left":"right",e.subXOrient=a.axis_rotated?"left":"bottom",e.isLegendRight="right"===a.legend_position,e.isLegendInset="inset"===a.legend_position,e.isLegendTop="top-left"===a.legend_inset_anchor||"top-right"===a.legend_inset_anchor,e.isLegendLeft="top-left"===a.legend_inset_anchor||"bottom-left"===a.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=a.axis_rotated&&!a.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},F.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},F.initWithData=function(e){var t=this,a=t.d3,n=t.config,i=!0,r,o;t.axis=new O(t),t.initPie&&t.initPie(),t.initBrush&&t.initBrush(),t.initZoom&&t.initZoom(),t.selectChart=n.bindto?"function"==typeof n.bindto.node?n.bindto:a.select(n.bindto):a.selectAll([]),t.selectChart.empty()&&(t.selectChart=a.select(document.createElement("div")).style("opacity",0),t.observeInserted(t.selectChart),i=!1),t.selectChart.html("").classed("c3",!0),t.data.xs={},t.data.targets=t.convertDataToTargets(e),n.data_filter&&(t.data.targets=t.data.targets.filter(n.data_filter)),n.data_hide&&t.addHiddenTargetIds(!0===n.data_hide?t.mapToIds(t.data.targets):n.data_hide),n.legend_hide&&t.addHiddenLegendIds(!0===n.legend_hide?t.mapToIds(t.data.targets):n.legend_hide),t.hasType("gauge")&&(n.legend_show=!1),t.updateSizes(),t.updateScales(),t.x.domain(a.extent(t.getXDomain(t.data.targets))),t.y.domain(t.getYDomain(t.data.targets,"y")),t.y2.domain(t.getYDomain(t.data.targets,"y2")),t.subX.domain(t.x.domain()),t.subY.domain(t.y.domain()),t.subY2.domain(t.y2.domain()),t.orgXDomain=t.x.domain(),t.brush&&t.brush.scale(t.subX),n.zoom_enabled&&t.zoom.scale(t.x),t.svg=t.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return n.onmouseover.call(t)}).on("mouseleave",function(){return n.onmouseout.call(t)}),t.config.svg_classname&&t.svg.attr("class",t.config.svg_classname),r=t.svg.append("defs"),t.clipChart=t.appendClip(r,t.clipId),t.clipXAxis=t.appendClip(r,t.clipIdForXAxis),t.clipYAxis=t.appendClip(r,t.clipIdForYAxis),t.clipGrid=t.appendClip(r,t.clipIdForGrid),t.clipSubchart=t.appendClip(r,t.clipIdForSubchart),t.updateSvgSize(),o=t.main=t.svg.append("g").attr("transform",t.getTranslate("main")),t.initSubchart&&t.initSubchart(),t.initTooltip&&t.initTooltip(),t.initLegend&&t.initLegend(),t.initTitle&&t.initTitle(),o.append("text").attr("class",g.text+" "+g.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),t.initRegion(),t.initGrid(),o.append("g").attr("clip-path",t.clipPath).attr("class",g.chart),n.grid_lines_front&&t.initGridLines(),t.initEventRect(),t.initChartElements(),o.insert("rect",n.zoom_privileged?null:"g."+g.regions).attr("class",g.zoomRect).attr("width",t.width).attr("height",t.height).style("opacity",0).on("dblclick.zoom",null),n.axis_x_extent&&t.brush.extent(t.getDefaultExtent()),t.axis.init(),t.updateTargets(t.data.targets),i&&(t.updateDimension(),t.config.oninit.call(t),t.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),t.bindResize(),t.api.element=t.selectChart.node()},F.smoothLines=function(e,t){var a=this;"grid"===t&&e.each(function(){var e=a.d3.select(this),t=e.attr("x1"),n=e.attr("x2"),i=e.attr("y1"),r=e.attr("y2");e.attr({x1:p(t),x2:p(n),y1:p(i),y2:p(r)})})},F.updateSizes=function(){var e=this,t=e.config,a=e.legend?e.getLegendHeight():0,n=e.legend?e.getLegendWidth():0,i=e.isLegendRight||e.isLegendInset?0:a,r=e.hasArcType(),o=t.axis_rotated||r?0:e.getHorizontalAxisHeight("x"),s=t.subchart_show&&!r?t.subchart_size_height+o:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:r?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+i+e.getCurrentPaddingBottom(),left:s+(r?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:r?0:e.getCurrentPaddingRight(),bottom:o+s+i+e.getCurrentPaddingBottom(),left:r?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+i,left:e.rotated_padding_left}:{top:e.currentHeight-s-i,right:NaN,bottom:o+i,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(a,n),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,0>e.width&&(e.width=0),0>e.height&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,0>e.width2&&(e.width2=0),0>e.height2&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?n+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&r&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},F.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},F.showTargets=function(){var e=this;e.svg.selectAll("."+g.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},F.redraw=function(e,t){var a=this,n=a.main,r=a.d3,o=a.config,s=a.getShapeIndices(a.isAreaType),d=a.getShapeIndices(a.isBarType),l=a.getShapeIndices(a.isLineType),c=a.hasArcType(),p=a.filterTargetsToShow(a.data.targets),h=a.xv.bind(a),u,x,y,m,f,S,b,v,T,A,P,C,w,L,E,V,I,G,R,O,D,z,F,M,X,i,H,j,B;if(e=e||{},u=k(e,"withY",!0),x=k(e,"withSubchart",!0),y=k(e,"withTransition",!0),S=k(e,"withTransform",!1),b=k(e,"withUpdateXDomain",!1),v=k(e,"withUpdateOrgXDomain",!1),T=k(e,"withTrimXDomain",!0),w=k(e,"withUpdateXAxis",b),A=k(e,"withLegend",!1),P=k(e,"withEventRect",!0),C=k(e,"withDimension",!0),m=k(e,"withTransitionForExit",y),f=k(e,"withTransitionForAxis",y),R=y?o.transition_duration:0,O=m?R:0,D=f?R:0,t=t||a.axis.generateTransitions(D),A&&o.legend_show?a.updateLegend(a.mapToIds(a.data.targets),e,t):C&&a.updateDimension(!0),a.isCategorized()&&0===p.length&&a.x.domain([0,a.axes.x.selectAll(".tick").size()]),p.length?(a.updateXDomain(p,b,v,T),!o.axis_x_tick_values&&(M=a.axis.updateXAxisTickValues(p))):(a.xAxis.tickValues([]),a.subXAxis.tickValues([])),o.zoom_rescale&&!e.flow&&(H=a.x.orgDomain()),a.y.domain(a.getYDomain(p,"y",H)),a.y2.domain(a.getYDomain(p,"y2",H)),!o.axis_y_tick_values&&o.axis_y_tick_count&&a.yAxis.tickValues(a.axis.generateTickValues(a.y.domain(),o.axis_y_tick_count)),!o.axis_y2_tick_values&&o.axis_y2_tick_count&&a.y2Axis.tickValues(a.axis.generateTickValues(a.y2.domain(),o.axis_y2_tick_count)),a.axis.redraw(t,c),a.axis.updateLabels(y),(b||w)&&p.length)if(o.axis_x_tick_culling&&M){for(X=1;X<M.length;X++)if(M.length/X<o.axis_x_tick_culling_max){i=X;break}a.svg.selectAll("."+g.axisX+" .tick text").each(function(t){var e=M.indexOf(t);0<=e&&r.select(this).style("display",e%i?"none":"block")})}else a.svg.selectAll("."+g.axisX+" .tick text").style("display","block");L=a.generateDrawArea?a.generateDrawArea(s,!1):void 0,E=a.generateDrawBar?a.generateDrawBar(d):void 0,V=a.generateDrawLine?a.generateDrawLine(l,!1):void 0,I=a.generateXYForText(s,d,l,!0),G=a.generateXYForText(s,d,l,!1),u&&(a.subY.domain(a.getYDomain(p,"y")),a.subY2.domain(a.getYDomain(p,"y2"))),a.updateXgridFocus(),n.select("text."+g.text+"."+g.empty).attr("x",a.width/2).attr("y",a.height/2).text(o.data_empty_label_text).transition().style("opacity",p.length?0:1),a.updateGrid(R),a.updateRegion(R),a.updateBar(O),a.updateLine(O),a.updateArea(O),a.updateCircle(),a.hasDataLabel()&&a.updateText(O),a.redrawTitle&&a.redrawTitle(),a.redrawArc&&a.redrawArc(R,O,S),a.redrawSubchart&&a.redrawSubchart(x,t,R,O,s,d,l),n.selectAll("."+g.selectedCircles).filter(a.isBarType.bind(a)).selectAll("circle").remove(),o.interaction_enabled&&!e.flow&&P&&(a.redrawEventRect(),a.updateZoom&&a.updateZoom()),a.updateCircleY(),j=(a.config.axis_rotated?a.circleY:a.circleX).bind(a),B=(a.config.axis_rotated?a.circleX:a.circleY).bind(a),e.flow&&(F=a.generateFlow({targets:p,flow:e.flow,duration:e.flow.duration,drawBar:E,drawLine:V,drawArea:L,cx:j,cy:B,xv:h,xForText:I,yForText:G})),(R||F)&&a.isTabVisible()?r.transition().duration(R).each(function(){var t=[];[a.redrawBar(E,!0),a.redrawLine(V,!0),a.redrawArea(L,!0),a.redrawCircle(j,B,!0),a.redrawText(I,G,e.flow,!0),a.redrawRegion(!0),a.redrawGrid(!0)].forEach(function(e){e.forEach(function(e){t.push(e)})}),z=a.generateWait(),t.forEach(function(e){z.add(e)})}).call(z,function(){F&&F(),o.onrendered&&o.onrendered.call(a)}):(a.redrawBar(E),a.redrawLine(V),a.redrawArea(L),a.redrawCircle(j,B),a.redrawText(I,G,e.flow),a.redrawRegion(),a.redrawGrid(),o.onrendered&&o.onrendered.call(a)),a.mapToIds(a.data.targets).forEach(function(e){a.withoutFadeIn[e]=!0})},F.updateAndRedraw=function(e){var t=this,a=t.config,n;e=e||{},e.withTransition=k(e,"withTransition",!0),e.withTransform=k(e,"withTransform",!1),e.withLegend=k(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=k(e,"withTransitionForTransform",e.withTransition),t.updateSizes(),e.withLegend&&a.legend_show||(n=t.axis.generateTransitions(e.withTransitionForAxis?a.transition_duration:0),t.updateScales(),t.updateSvgSize(),t.transformAll(e.withTransitionForTransform,n)),t.redraw(e,n)},F.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},F.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},F.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},F.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||L(t.data_xs))},F.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},F.getTranslate=function(e){var t=this,a=t.config,n,i;return"main"===e?(n=P(t.margin.left),i=P(t.margin.top)):"context"===e?(n=P(t.margin2.left),i=P(t.margin2.top)):"legend"===e?(n=t.margin3.left,i=t.margin3.top):"x"===e?(n=0,i=a.axis_rotated?0:t.height):"y"===e?(n=0,i=a.axis_rotated?t.height:0):"y2"===e?(n=a.axis_rotated?0:t.width,i=a.axis_rotated?1:0):"subx"===e?(n=0,i=a.axis_rotated?0:t.height2):"arc"===e&&(n=t.arcWidth/2,i=t.arcHeight/2),"translate("+n+","+i+")"},F.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},F.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},F.opacityForCircle=function(e){var t=f(this.config.point_show)?this.config.point_show(e):this.config.point_show,a=t?1:0;return m(e.value)?this.isScatterType(e)?0.5:a:0},F.opacityForText=function(){return this.hasDataLabel()?1:0},F.xx=function(e){return e?this.x(e.x):null},F.xv=function(e){var t=this,a=e.value;return t.isTimeSeries()?a=t.parseDate(e.value):t.isCategorized()&&"string"==typeof e.value&&(a=t.config.axis_x_categories.indexOf(e.value)),p(t.x(a))},F.yv=function(e){var t=this,a=e.axis&&"y2"===e.axis?t.y2:t.y;return p(a(e.value))},F.subxx=function(e){return e?this.subX(e.x):null},F.transformMain=function(e,t){var a=this,n,i,r;t&&t.axisX?n=t.axisX:(n=a.main.select("."+g.axisX),e&&(n=n.transition())),t&&t.axisY?i=t.axisY:(i=a.main.select("."+g.axisY),e&&(i=i.transition())),t&&t.axisY2?r=t.axisY2:(r=a.main.select("."+g.axisY2),e&&(r=r.transition())),(e?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),i.attr("transform",a.getTranslate("y")),r.attr("transform",a.getTranslate("y2")),a.main.select("."+g.chartArcs).attr("transform",a.getTranslate("arc"))},F.transformAll=function(e,t){var a=this;a.transformMain(e,t),a.config.subchart_show&&a.transformContext(e,t),a.legend&&a.transformLegend(e)},F.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+g.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},F.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},F.observeInserted=function(e){var t=this,a;return"undefined"==typeof MutationObserver?void window.console.error("MutationObserver not defined."):void(a=new MutationObserver(function(n){n.forEach(function(n){"childList"===n.type&&n.previousSibling&&(a.disconnect(),t.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(t.intervalForObserveInserted),t.updateDimension(),t.brush&&t.brush.update(),t.config.oninit.call(t),t.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),a.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},F.bindResize=function(){var e=this,t=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)}),window.attachEvent)window.attachEvent("onresize",e.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",e.resizeFunction,!1);else{var a=window.onresize;a?(!a.add||!a.remove)&&(a=e.generateResize(),a.add(window.onresize)):a=e.generateResize(),a.add(e.resizeFunction),window.onresize=a}},F.generateResize=function(){function e(){t.forEach(function(e){e()})}var t=[];return e.add=function(e){t.push(e)},e.remove=function(e){for(var a=0;a<t.length;a++)if(t[a]===e){t.splice(a,1);break}},e},F.endall=function(e,t){var a=0;e.each(function(){++a}).each("end",function(){--a||t.apply(this,arguments)})},F.generateWait=function(){var e=[],t=function(t,a){var n=setInterval(function(){var i=0;e.forEach(function(e){if(e.empty())return void(i+=1);try{e.transition()}catch(t){i+=1}}),i===e.length&&(clearInterval(n),a&&a())},10)};return t.add=function(t){e.push(t)},t},F.parseDate=function(e){var t=this,a;return e instanceof Date?a=e:"string"==typeof e?a=t.dataTimeFormat(t.config.data_xFormat).parse(e):"object"===("undefined"==typeof e?"undefined":h(e))?a=new Date(+e):"number"==typeof e&&!isNaN(e)&&(a=new Date(+e)),(!a||isNaN(+a))&&window.console.error("Failed to parse x '"+e+"' to Date object"),a},F.isTabVisible=function(){var e;return"undefined"==typeof document.hidden?"undefined"==typeof document.mozHidden?"undefined"==typeof document.msHidden?"undefined"!=typeof document.webkitHidden&&(e="webkitHidden"):e="msHidden":e="mozHidden":e="hidden",!document[e]},F.isValue=m,F.isFunction=f,F.isString=b,F.isUndefined=T,F.isDefined=A,F.ceil10=v,F.asHalfPixel=P,F.diffDomain=C,F.isEmpty=w,F.notEmpty=L,F.notEmpty=L,F.getOption=k,F.hasValue=E,F.sanitise=V,F.getPathBox=I,F.CLASS=g,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),a=this,n=function(){},i=function(){return a.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i}),function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,a){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=a},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=a},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=a},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=a},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=a},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,a,n,i,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=a,this._x1=n,this._y1=i,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,a,n,i,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=a,this._x1=n,this._y1=i,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,a,n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=a,this._x1=n,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,a,n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=a,this._x1=n,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,a,n,i,r,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=a,this._r1=n,this._r2=i,this._angle=r,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,a,n,i,r,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=a,this._r1=n,this._r2=i,this._angle=r,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,a,n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=a,this._x2=n,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,a,n,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=a,this._x2=n,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=a},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=a},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new window.SVGPathSegMovetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new window.SVGPathSegMovetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new window.SVGPathSegLinetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new window.SVGPathSegLinetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,a,n,i,r){return new window.SVGPathSegCurvetoCubicAbs(void 0,e,t,a,n,i,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,a,n,i,r){return new window.SVGPathSegCurvetoCubicRel(void 0,e,t,a,n,i,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,a,n){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,e,t,a,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,a,n){return new window.SVGPathSegCurvetoQuadraticRel(void 0,e,t,a,n)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,a,n,i,r,o){return new window.SVGPathSegArcAbs(void 0,e,t,a,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,a,n,i,r,o){return new window.SVGPathSegArcRel(void 0,e,t,a,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,a,n){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,a,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,a,n){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,a,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)},!("getPathSegAtLength"in window.SVGPathElement.prototype)&&(window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(void 0===e||!isFinite(e))throw"Invalid arguments.";var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.getAttribute("d"));var a=t.pathSegList.numberOfItems-1;if(0>=a)return 0;do{if(t.pathSegList.removeItem(a),e>t.getTotalLength())break;a--}while(0<a);return a})),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||0>e||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},window.SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),this._list[t]=e,e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},window.SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),e._owningPathSegList=this,this._writeListToPath(),e},window.SVGPathSegList._pathSegArrayAsString=function(e){var t="",a=!0;return e.forEach(function(e){a?(a=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},window.SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var t=this,a=function(){this.pathSegList=[]};a.prototype.appendSegment=function(e){this.pathSegList.push(e)};var n=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return" ">=e&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex)?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},n.prototype._pathSegTypeFromChar=function(e){return"Z"===e||"z"===e?window.SVGPathSeg.PATHSEG_CLOSEPATH:"M"===e?window.SVGPathSeg.PATHSEG_MOVETO_ABS:"m"===e?window.SVGPathSeg.PATHSEG_MOVETO_REL:"L"===e?window.SVGPathSeg.PATHSEG_LINETO_ABS:"l"===e?window.SVGPathSeg.PATHSEG_LINETO_REL:"C"===e?window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:"c"===e?window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:"Q"===e?window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:"q"===e?window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:"A"===e?window.SVGPathSeg.PATHSEG_ARC_ABS:"a"===e?window.SVGPathSeg.PATHSEG_ARC_REL:"H"===e?window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:"h"===e?window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:"V"===e?window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:"v"===e?window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:"S"===e?window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:"s"===e?window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:"T"===e?window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:"t"===e?window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||"0"<=e&&"9">=e)&&t!=window.SVGPathSeg.PATHSEG_CLOSEPATH?t==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:t==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:t:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==window.SVGPathSeg.PATHSEG_MOVETO_ABS||e==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var e=0,t=0,a=1,n=0,i=1,r=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||("0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)this._currentIndex++;if(this._currentIndex!=s)for(var d=this._currentIndex-1,c=1;d>=s;)t+=c*(this._string.charAt(d--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)a*=10,n+=(this._string.charAt(this._currentIndex)-"0")/a,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var g=t+n;if(g*=i,e&&(g*=l(10,r*e)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),g}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else if("1"==t)e=!0;else return;return this._skipOptionalSpacesOrDelimiter(),e}},n.prototype.parseSegment=function(){var e=this._string[this._currentIndex],a=this._pathSegTypeFromChar(e);if(a==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if(a=this._nextCommandHelper(e,this._previousCommand),a==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=a,a){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(t,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(t);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(t,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(t,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(t,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(t,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(t,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(t,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(t,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type.";}};var i=new a,r=new n(e);if(!r.initialCommandIsMoveTo())return[];for(;r.hasMoreData();){var o=r.parseSegment();if(!o)return[];i.appendSegment(o)}return i.pathSegList})}(),z.axis=function(){},z.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(a){t.axis.setLabelText(a,e[a])}),t.axis.updateLabels())},z.axis.max=function(e){var t=this.internal,a=t.config;return arguments.length?void("object"===("undefined"==typeof e?"undefined":h(e))?(m(e.x)&&(a.axis_x_max=e.x),m(e.y)&&(a.axis_y_max=e.y),m(e.y2)&&(a.axis_y2_max=e.y2)):a.axis_y_max=a.axis_y2_max=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:a.axis_x_max,y:a.axis_y_max,y2:a.axis_y2_max}},z.axis.min=function(e){var t=this.internal,a=t.config;return arguments.length?void("object"===("undefined"==typeof e?"undefined":h(e))?(m(e.x)&&(a.axis_x_min=e.x),m(e.y)&&(a.axis_y_min=e.y),m(e.y2)&&(a.axis_y2_min=e.y2)):a.axis_y_min=a.axis_y2_min=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:a.axis_x_min,y:a.axis_y_min,y2:a.axis_y2_min}},z.axis.range=function(e){return arguments.length?void(A(e.max)&&this.axis.max(e.max),A(e.min)&&this.axis.min(e.min)):{max:this.axis.max(),min:this.axis.min()}},z.category=function(e,t){var a=this.internal,n=a.config;return 1<arguments.length&&(n.axis_x_categories[e]=t,a.redraw()),n.axis_x_categories[e]},z.categories=function(e){var t=this.internal,a=t.config;return arguments.length?(a.axis_x_categories=e,t.redraw(),a.axis_x_categories):a.axis_x_categories},z.resize=function(e){var t=this.internal,a=t.config;a.size_width=e?e.width:null,a.size_height=e?e.height:null,this.flush()},z.flush=function(){var e=this.internal;e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},z.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},z.color=function(e){var t=this.internal;return t.color(e)},z.data=function(e){var t=this.internal.data.targets;return"undefined"==typeof e?t:t.filter(function(a){return 0<=[].concat(e).indexOf(a.id)})},z.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},z.data.values=function(e){var t=null,a;return e&&(a=this.data(e),t=a[0]?a[0].values.map(function(e){return e.value}):null),t},z.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},z.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},z.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},z.flow=function(e){var a=this.internal,n=[],t=a.getMaxDataCount(),r=0,o=0,s,i,d,l,c,g,p,h;if(e.json)i=a.convertJsonToData(e.json,e.keys);else if(e.rows)i=a.convertRowsToData(e.rows);else if(e.columns)i=a.convertColumnsToData(e.columns);else return;s=a.convertDataToTargets(i,!0),a.data.targets.forEach(function(e){var t=!1,d,i;for(d=0;d<s.length;d++)if(e.id===s[d].id){for(t=!0,e.values[e.values.length-1]&&(o=e.values[e.values.length-1].index+1),r=s[d].values.length,i=0;i<r;i++)s[d].values[i].index=o+i,a.isTimeSeries()||(s[d].values[i].x=o+i);e.values=e.values.concat(s[d].values),s.splice(d,1);break}t||n.push(e.id)}),a.data.targets.forEach(function(e){var t,i;for(t=0;t<n.length;t++)if(e.id===n[t])for(o=e.values[e.values.length-1].index+1,i=0;i<r;i++)e.values.push({id:e.id,index:o+i,x:a.isTimeSeries()?a.getOtherTargetX(o+i):o+i,value:null})}),a.data.targets.length&&s.forEach(function(e){var t=[],n;for(n=a.data.targets[0].values[0].index;n<o;n++)t.push({id:e.id,index:n,x:a.isTimeSeries()?a.getOtherTargetX(n):n,value:null});e.values.forEach(function(e){e.index+=o,a.isTimeSeries()||(e.x+=o)}),e.values=t.concat(e.values)}),a.data.targets=a.data.targets.concat(s),d=a.getMaxDataCount(),c=a.data.targets[0],g=c.values[0],A(e.to)?(r=0,h=a.isTimeSeries()?a.parseDate(e.to):e.to,c.values.forEach(function(e){e.x<h&&r++})):A(e.length)&&(r=e.length),t?1===t&&a.isTimeSeries()&&(p=(c.values[c.values.length-1].x-g.x)/2,l=[new Date(+g.x-p),new Date(+g.x+p)],a.updateXDomain(null,!0,!0,!1,l)):(p=a.isTimeSeries()?1<c.values.length?c.values[c.values.length-1].x-g.x:g.x-a.getXDomain(a.data.targets)[0]:1,l=[g.x-p,g.x],a.updateXDomain(null,!0,!0,!1,l)),a.updateTargets(a.data.targets),a.redraw({flow:{index:g.index,length:r,duration:m(e.duration)?e.duration:a.config.transition_duration,done:e.done,orgDataCount:t},withLegend:!0,withTransition:1<t,withTrimXDomain:!1,withUpdateXAxis:!0})},F.generateFlow=function(e){var t=this,a=t.config,n=t.d3;return function(){var i=e.targets,r=e.flow,o=e.drawBar,s=e.drawLine,d=e.drawArea,l=e.cx,c=e.cy,p=e.xv,h=e.xForText,u=e.yForText,x=e.duration,y=1,m=r.index,f=r.length,S=t.getValueOnIndex(t.data.targets[0].values,m),b=t.getValueOnIndex(t.data.targets[0].values,m+f),v=t.x.domain(),T=r.duration||x,A=r.done||function(){},P=t.generateWait(),w=t.xgrid||n.selectAll([]),L=t.xgridLines||n.selectAll([]),k=t.mainRegion||n.selectAll([]),E=t.mainText||n.selectAll([]),V=t.mainBar||n.selectAll([]),I=t.mainLine||n.selectAll([]),G=t.mainArea||n.selectAll([]),R=t.mainCircle||n.selectAll([]),O,D,z;t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,f)}),z=t.updateXDomain(i,!0,!0),t.updateXGrid&&t.updateXGrid(!0),r.orgDataCount?1===r.orgDataCount||(S&&S.x)===(b&&b.x)?O=t.x(v[0])-t.x(z[0]):t.isTimeSeries()?O=t.x(v[0])-t.x(z[0]):O=t.x(S.x)-t.x(b.x):1===t.data.targets[0].values.length?t.isTimeSeries()?(S=t.getValueOnIndex(t.data.targets[0].values,0),b=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),O=t.x(S.x)-t.x(b.x)):O=C(z)/2:O=t.x(v[0])-t.x(z[0]),y=C(v)/C(z),D="translate("+O+",0) scale("+y+",1)",t.hideXGridFocus(),n.transition().ease("linear").duration(T).each(function(){P.add(t.axes.x.transition().call(t.xAxis)),P.add(V.transition().attr("transform",D)),P.add(I.transition().attr("transform",D)),P.add(G.transition().attr("transform",D)),P.add(R.transition().attr("transform",D)),P.add(E.transition().attr("transform",D)),P.add(k.filter(t.isRegionOnX).transition().attr("transform",D)),P.add(w.transition().attr("transform",D)),P.add(L.transition().attr("transform",D))}).call(P,function(){var e=[],n=[],r=[],x;if(f){for(x=0;x<f;x++)e.push("."+g.shape+"-"+(m+x)),n.push("."+g.text+"-"+(m+x)),r.push("."+g.eventRect+"-"+(m+x));t.svg.selectAll("."+g.shapes).selectAll(e).remove(),t.svg.selectAll("."+g.texts).selectAll(n).remove(),t.svg.selectAll("."+g.eventRects).selectAll(r).remove(),t.svg.select("."+g.xgrid).remove()}w.attr("transform",null).attr(t.xgridAttr),L.attr("transform",null),L.select("line").attr("x1",a.axis_rotated?0:p).attr("x2",a.axis_rotated?t.width:p),L.select("text").attr("x",a.axis_rotated?t.width:0).attr("y",p),V.attr("transform",null).attr("d",o),I.attr("transform",null).attr("d",s),G.attr("transform",null).attr("d",d),R.attr("transform",null).attr("cx",l).attr("cy",c),E.attr("transform",null).attr("x",h).attr("y",u).style("fill-opacity",t.opacityForText.bind(t)),k.attr("transform",null),k.select("rect").filter(t.isRegionOnX).attr("x",t.regionX.bind(t)).attr("width",t.regionWidth.bind(t)),a.interaction_enabled&&t.redrawEventRect(),A(),t.flowing=!1})}},z.focus=function(e){var t=this.internal,a;e=t.mapToTargetIds(e),a=t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))),this.revert(),this.defocus(),a.classed(g.focused,!0).classed(g.defocused,!1),t.hasArcType()&&t.expandArc(e),t.toggleFocusLegend(e,!0),t.focusedTargetIds=e,t.defocusedTargetIds=t.defocusedTargetIds.filter(function(t){return 0>e.indexOf(t)})},z.defocus=function(e){var t=this.internal,a;e=t.mapToTargetIds(e),a=t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))),a.classed(g.focused,!1).classed(g.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return 0>e.indexOf(t)}),t.defocusedTargetIds=e},z.revert=function(e){var t=this.internal,a;e=t.mapToTargetIds(e),a=t.svg.selectAll(t.selectorTargets(e)),a.classed(g.focused,!1).classed(g.defocused,!1),t.hasArcType()&&t.unexpandArc(e),t.config.legend_show&&(t.showLegend(e.filter(t.isLegendToShow.bind(t))),t.legend.selectAll(t.selectorLegends(e)).filter(function(){return t.d3.select(this).classed(g.legendItemFocused)}).classed(g.legendItemFocused,!1)),t.focusedTargetIds=[],t.defocusedTargetIds=[]},z.xgrids=function(e){var t=this.internal,a=t.config;return e?(a.grid_x_lines=e,t.redrawWithoutRescale(),a.grid_x_lines):a.grid_x_lines},z.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e?e:[]))},z.xgrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!0)},z.ygrids=function(e){var t=this.internal,a=t.config;return e?(a.grid_y_lines=e,t.redrawWithoutRescale(),a.grid_y_lines):a.grid_y_lines},z.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e?e:[]))},z.ygrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!1)},z.groups=function(e){var t=this.internal,a=t.config;return T(e)?a.data_groups:(a.data_groups=e,t.redraw(),a.data_groups)},z.legend=function(){},z.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},z.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},z.load=function(e){var t=this.internal,a=t.config;return e.xs&&t.addXs(e.xs),"names"in e&&z.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){a.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(a.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){a.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){a.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?void t.load(t.getCaches(e.cacheIds),e.done):void("unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e))},z.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},z.regions=function(e){var t=this.internal,a=t.config;return e?(a.regions=e,t.redrawWithoutRescale(),a.regions):a.regions},z.regions.add=function(e){var t=this.internal,a=t.config;return e?(a.regions=a.regions.concat(e),t.redrawWithoutRescale(),a.regions):a.regions},z.regions.remove=function(e){var t=this.internal,a=t.config,n,i,r;return e=e||{},n=t.getOption(e,"duration",a.transition_duration),i=t.getOption(e,"classes",[g.region]),r=t.main.select("."+g.regions).selectAll(i.map(function(e){return"."+e})),(n?r.transition().duration(n):r).style("opacity",0).remove(),a.regions=a.regions.filter(function(e){var t=!1;return!e["class"]||(e["class"].split(" ").forEach(function(e){0<=i.indexOf(e)&&(t=!0)}),!t)}),a.regions},z.selected=function(e){var t=this.internal,a=t.d3;return a.merge(t.main.selectAll("."+g.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+g.shape).filter(function(){return a.select(this).classed(g.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},z.select=function(e,t,a){var n=this.internal,r=n.d3,o=n.config;o.data_selection_enabled&&n.main.selectAll("."+g.shapes).selectAll("."+g.shape).each(function(s,d){var i=r.select(this),l=s.data?s.data.id:s.id,c=n.getToggle(this,s).bind(n),p=o.data_selection_grouped||!e||0<=e.indexOf(l),h=!t||0<=t.indexOf(d),u=i.classed(g.SELECTED);i.classed(g.line)||i.classed(g.area)||(p&&h?o.data_selection_isselectable(s)&&!u&&c(!0,i.classed(g.SELECTED,!0),s,d):A(a)&&a&&u&&c(!1,i.classed(g.SELECTED,!1),s,d))})},z.unselect=function(e,t){var a=this.internal,n=a.d3,r=a.config;r.data_selection_enabled&&a.main.selectAll("."+g.shapes).selectAll("."+g.shape).each(function(o,s){var i=n.select(this),d=o.data?o.data.id:o.id,l=a.getToggle(this,o).bind(a),c=r.data_selection_grouped||!e||0<=e.indexOf(d),p=!t||0<=t.indexOf(s),h=i.classed(g.SELECTED);i.classed(g.line)||i.classed(g.area)||c&&p&&r.data_selection_isselectable(o)&&h&&l(!1,i.classed(g.SELECTED,!1),o,s)})},z.show=function(e,t){var a=this.internal,n;e=a.mapToTargetIds(e),t=t||{},a.removeHiddenTargetIds(e),n=a.svg.selectAll(a.selectorTargets(e)),n.transition().style("opacity",1,"important").call(a.endall,function(){n.style("opacity",null).style("opacity",1)}),t.withLegend&&a.showLegend(e),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},z.hide=function(e,t){var a=this.internal,n;e=a.mapToTargetIds(e),t=t||{},a.addHiddenTargetIds(e),n=a.svg.selectAll(a.selectorTargets(e)),n.transition().style("opacity",0,"important").call(a.endall,function(){n.style("opacity",null).style("opacity",0)}),t.withLegend&&a.hideLegend(e),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},z.toggle=function(e,t){var a=this,n=this.internal;n.mapToTargetIds(e).forEach(function(e){n.isTargetToShow(e)?a.hide(e,t):a.show(e,t)})},z.tooltip=function(){},z.tooltip.show=function(e){var t=this.internal,a,n;e.mouse&&(n=e.mouse),e.data?t.isMultipleX()?(n=[t.x(e.data.x),t.getYScale(e.data.id)(e.data.value)],a=null):a=m(e.data.index)?e.data.index:t.getIndexByX(e.data.x):"undefined"==typeof e.x?"undefined"!=typeof e.index&&(a=e.index):a=t.getIndexByX(e.x),t.dispatchEvent("mouseover",a,n),t.dispatchEvent("mousemove",a,n),t.config.tooltip_onshow.call(t,e.data)},z.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},z.transform=function(e,t){var a=this.internal,n=0<=["pie","donut"].indexOf(e)?{withTransform:!0}:null;a.transformTo(t,e,n)},F.transformTo=function(e,t,a){var n=this,i=!n.hasArcType(),r=a||{withTransitionForAxis:i};r.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(e,t),n.updateTargets(n.data.targets),n.updateAndRedraw(r)},z.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},z.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},z.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},z.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},z.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},z.zoom.max=function(e){var t=this.internal,a=t.config,n=t.d3;return 0===e||e?void(a.zoom_x_max=n.max([t.orgXDomain[1],e])):a.zoom_x_max},z.zoom.min=function(e){var t=this.internal,a=t.config,n=t.d3;return 0===e||e?void(a.zoom_x_min=n.min([t.orgXDomain[0],e])):a.zoom_x_min},z.zoom.range=function(e){return arguments.length?void(A(e.max)&&this.domain.max(e.max),A(e.min)&&this.domain.min(e.min)):{max:this.domain.max(),min:this.domain.min()}},F.initPie=function(){var e=this,t=e.d3;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),e.pie.sort(e.getOrderFunction()||null)},F.updateRadius=function(){var e=this,t=e.config,a=t.gauge_width||t.donut_width;e.radiusExpanded=s(e.arcWidth,e.arcHeight)/2,e.radius=0.95*e.radiusExpanded,e.innerRadiusRatio=a?(e.radius-a)/e.radius:0.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},F.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(0.98)},F.updateAngle=function(e){var t=this,a=t.config,n=!1,r=0,o,s,d,l;return a?(t.pie(t.filterTargetsToShow(t.data.targets)).forEach(function(a){n||a.data.id!==e.data.id||(n=!0,e=a,e.index=r),r++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),t.isGaugeType(e.data)&&(o=a.gauge_min,s=a.gauge_max,d=i*(a.gauge_fullCircle?2:1)/(s-o),l=e.value<o?0:e.value<s?e.value-o:s-o,e.startAngle=a.gauge_startingAngle,e.endAngle=e.startAngle+d*l),n?e:null):null},F.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),a=function(a,n){var i;return n?t(a):(i=e.updateAngle(a),i?t(i):"M 0 0")};return a.centroid=t.centroid,a},F.getSvgArcExpanded=function(e){var t=this,a=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e?e:1)).innerRadius(t.innerRadius);return function(e){var n=t.updateAngle(e);return n?a(n):"M 0 0"}},F.getArc=function(e,t,a){return a||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},F.transformForArcLabel=function(e){var t=this,a=t.config,n=t.updateAngle(e),i="",r,s,d,l,c;return n&&!t.hasType("gauge")&&(r=this.svgArc.centroid(n),s=isNaN(r[0])?0:r[0],d=isNaN(r[1])?0:r[1],l=o(s*s+d*d),c=t.hasType("donut")&&a.donut_label_ratio?f(a.donut_label_ratio)?a.donut_label_ratio(e,t.radius,l):a.donut_label_ratio:t.hasType("pie")&&a.pie_label_ratio?f(a.pie_label_ratio)?a.pie_label_ratio(e,t.radius,l):a.pie_label_ratio:t.radius&&l?(0.375<36/t.radius?1.175-36/t.radius:0.8)*t.radius/l:0,i="translate("+s*c+","+d*c+")"),i},F.getArcRatio=function(e){var t=this,a=t.config,n=i*(t.hasType("gauge")&&!a.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/n:null},F.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},F.textForArcLabel=function(e){var t=this,a,n,i,r,o;return t.shouldShowArcLabel()?(a=t.updateAngle(e),n=a?a.value:null,i=t.getArcRatio(a),r=e.data.id,!t.hasType("gauge")&&!t.meetsArcLabelThreshold(i))?"":(o=t.getArcLabelFormat(),o?o(n,i,r):t.defaultArcValueFormat(n,i)):""},F.textForGaugeMinMax=function(e,t){var a=this,n=a.getGaugeLabelExtents();return n?n(e,t):e},F.expandArc=function(e){var t=this,a;return t.transiting?void(a=window.setInterval(function(){t.transiting||(window.clearInterval(a),0<t.legend.selectAll(".c3-legend-item-focused").size()&&t.expandArc(e))},10)):void(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+g.chartArc)).each(function(e){t.shouldExpand(e.data.id)&&t.d3.select(this).selectAll("path").transition().duration(t.expandDuration(e.data.id)).attr("d",t.svgArcExpanded).transition().duration(2*t.expandDuration(e.data.id)).attr("d",t.svgArcExpandedSub).each(function(e){t.isDonutType(e.data)})}))},F.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+g.chartArc)).selectAll("path").transition().duration(function(e){return t.expandDuration(e.data.id)}).attr("d",t.svgArc),t.svg.selectAll("."+g.arc))},F.expandDuration=function(e){var t=this,a=t.config;return t.isDonutType(e)?a.donut_expand_duration:t.isGaugeType(e)?a.gauge_expand_duration:t.isPieType(e)?a.pie_expand_duration:50},F.shouldExpand=function(e){var t=this,a=t.config;return t.isDonutType(e)&&a.donut_expand||t.isGaugeType(e)&&a.gauge_expand||t.isPieType(e)&&a.pie_expand},F.shouldShowArcLabel=function(){var e=this,t=e.config,a=!0;return e.hasType("donut")?a=t.donut_label_show:e.hasType("pie")&&(a=t.pie_label_show),a},F.meetsArcLabelThreshold=function(e){var t=this,a=t.config,n=t.hasType("donut")?a.donut_label_threshold:a.pie_label_threshold;return e>=n},F.getArcLabelFormat=function(){var e=this,t=e.config,a=t.pie_label_format;return e.hasType("gauge")?a=t.gauge_label_format:e.hasType("donut")&&(a=t.donut_label_format),a},F.getGaugeLabelExtents=function(){var e=this,t=e.config;return t.gauge_label_extents},F.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},F.updateTargetsForArc=function(e){var t=this,a=t.main,n=t.classChartArc.bind(t),i=t.classArcs.bind(t),r=t.classFocus.bind(t),o,s;o=a.select("."+g.chartArcs).selectAll("."+g.chartArc).data(t.pie(e)).attr("class",function(e){return n(e)+r(e.data)}),s=o.enter().append("g").attr("class",n),s.append("g").attr("class",i),s.append("text").attr("dy",t.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},F.initArc=function(){var e=this;e.arcs=e.main.select("."+g.chart).append("g").attr("class",g.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",g.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},F.redrawArc=function(e,t,a){var n=this,i=n.d3,r=n.config,o=n.main,s;s=o.selectAll("."+g.arcs).selectAll("."+g.arc).data(n.arcData.bind(n)),s.enter().append("path").attr("class",n.classArc.bind(n)).style("fill",function(e){return n.color(e.data)}).style("cursor",function(e){return r.interaction_enabled&&r.data_selection_isselectable(e)?"pointer":null}).each(function(e){n.isGaugeType(e.data)&&(e.startAngle=e.endAngle=r.gauge_startingAngle),this._current=e}),s.attr("transform",function(e){return!n.isGaugeType(e.data)&&a?"scale(0)":""}).on("mouseover",r.interaction_enabled?function(e){var t,a;n.transiting||(t=n.updateAngle(e),t&&(a=n.convertToArcData(t),n.expandArc(t.data.id),n.api.focus(t.data.id),n.toggleFocusLegend(t.data.id,!0),n.config.data_onmouseover(a,this)))}:null).on("mousemove",r.interaction_enabled?function(e){var t=n.updateAngle(e),a,i;t&&(a=n.convertToArcData(t),i=[a],n.showTooltip(i,this))}:null).on("mouseout",r.interaction_enabled?function(e){var t,a;n.transiting||(t=n.updateAngle(e),t&&(a=n.convertToArcData(t),n.unexpandArc(t.data.id),n.api.revert(),n.revertLegend(),n.hideTooltip(),n.config.data_onmouseout(a,this)))}:null).on("click",r.interaction_enabled?function(e,t){var a=n.updateAngle(e),i;a&&(i=n.convertToArcData(a),n.toggleShape&&n.toggleShape(this,i,t),n.config.data_onclick.call(n.api,i,this))}:null).each(function(){n.transiting=!0}).transition().duration(e).attrTween("d",function(e){var t=n.updateAngle(e),a;return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),a=i.interpolate(this._current,t),this._current=a(0),function(i){var t=a(i);return t.data=e.data,n.getArc(t,!0)}):function(){return"M 0 0"}}).attr("transform",a?"scale(1)":"").style("fill",function(e){return n.levelColor?n.levelColor(e.data.values[0].value):n.color(e.data.id)}).call(n.endall,function(){n.transiting=!1}),s.exit().transition().duration(t).style("opacity",0).remove(),o.selectAll("."+g.chartArc).select("text").style("opacity",0).attr("class",function(e){return n.isGaugeType(e.data)?g.gaugeValue:""}).text(n.textForArcLabel.bind(n)).attr("transform",n.transformForArcLabel.bind(n)).style("font-size",function(e){return n.isGaugeType(e.data)?Math.round(n.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return n.isTargetToShow(e.data.id)&&n.isArcType(e.data)?1:0}),o.select("."+g.chartArcsTitle).style("opacity",n.hasType("donut")||n.hasType("gauge")?1:0),n.hasType("gauge")&&(n.arcs.select("."+g.chartArcsBackground).attr("d",function(){var e={data:[{value:r.gauge_max}],startAngle:r.gauge_startingAngle,endAngle:-1*r.gauge_startingAngle};return n.getArc(e,!0,!0)}),n.arcs.select("."+g.chartArcsGaugeUnit).attr("dy",".75em").text(r.gauge_label_show?r.gauge_units:""),n.arcs.select("."+g.chartArcsGaugeMin).attr("dx",-1*(n.innerRadius+(n.radius-n.innerRadius)/(r.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(r.gauge_label_show?n.textForGaugeMinMax(r.gauge_min,!1):""),n.arcs.select("."+g.chartArcsGaugeMax).attr("dx",n.innerRadius+(n.radius-n.innerRadius)/(r.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(r.gauge_label_show?n.textForGaugeMinMax(r.gauge_max,!0):""))},F.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",g.chartArcsBackground),e.append("text").attr("class",g.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",g.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",g.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},F.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},F.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},F.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},F.getCaches=function(e){var t=[],a;for(a=0;a<e.length;a++)e[a]in this.cache&&t.push(this.cloneTarget(this.cache[e[a]]));return t},F.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},F.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},F.classText=function(e){return this.generateClass(g.text,e.index)},F.classTexts=function(e){return this.generateClass(g.texts,e.id)},F.classShape=function(e){return this.generateClass(g.shape,e.index)},F.classShapes=function(e){return this.generateClass(g.shapes,e.id)},F.classLine=function(e){return this.classShape(e)+this.generateClass(g.line,e.id)},F.classLines=function(e){return this.classShapes(e)+this.generateClass(g.lines,e.id)},F.classCircle=function(e){return this.classShape(e)+this.generateClass(g.circle,e.index)},F.classCircles=function(e){return this.classShapes(e)+this.generateClass(g.circles,e.id)},F.classBar=function(e){return this.classShape(e)+this.generateClass(g.bar,e.index)},F.classBars=function(e){return this.classShapes(e)+this.generateClass(g.bars,e.id)},F.classArc=function(e){return this.classShape(e.data)+this.generateClass(g.arc,e.data.id)},F.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(g.arcs,e.data.id)},F.classArea=function(e){return this.classShape(e)+this.generateClass(g.area,e.id)},F.classAreas=function(e){return this.classShapes(e)+this.generateClass(g.areas,e.id)},F.classRegion=function(e,t){return this.generateClass(g.region,t)+" "+("class"in e?e["class"]:"")},F.classEvent=function(e){return this.generateClass(g.eventRect,e.index)},F.classTarget=function(e){var t=this,a=t.config.data_classes[e],n="";return a&&(n=" "+g.target+"-"+a),t.generateClass(g.target,e)+n},F.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},F.classFocused=function(e){return" "+(0<=this.focusedTargetIds.indexOf(e.id)?g.focused:"")},F.classDefocused=function(e){return" "+(0<=this.defocusedTargetIds.indexOf(e.id)?g.defocused:"")},F.classChartText=function(e){return g.chartText+this.classTarget(e.id)},F.classChartLine=function(e){return g.chartLine+this.classTarget(e.id)},F.classChartBar=function(e){return g.chartBar+this.classTarget(e.id)},F.classChartArc=function(e){return g.chartArc+this.classTarget(e.data.id)},F.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},F.selectorTarget=function(e,t){return(t||"")+"."+g.target+this.getTargetSelectorSuffix(e)},F.selectorTargets=function(e,t){var a=this;return e=e||[],e.length?e.map(function(e){return a.selectorTarget(e,t)}):null},F.selectorLegend=function(e){return"."+g.legendItem+this.getTargetSelectorSuffix(e)},F.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null},F.getClipPath=function(e){var t=0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.");return"url("+(t?"":document.URL.split("#")[0])+"#"+e+")"},F.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},F.getAxisClipX=function(e){var t=c(30,this.margin.left);return e?-(1+t):-(t-1)},F.getAxisClipY=function(e){return e?-20:-this.margin.top},F.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},F.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},F.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},F.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},F.getAxisClipWidth=function(e){var t=this,a=c(30,t.margin.left),n=c(30,t.margin.right);return e?t.width+2+a+n:t.margin.left+20},F.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},F.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},F.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},F.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},F.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},F.generateColor=function(){var e=this,t=e.config,a=e.d3,n=t.data_colors,i=L(t.color_pattern)?t.color_pattern:a.scale.category10().range(),r=t.data_color,o=[];return function(e){var t=e.id||e.data&&e.data.id||e,a;return n[t]instanceof Function?a=n[t](e):n[t]?a=n[t]:(0>o.indexOf(t)&&o.push(t),a=i[o.indexOf(t)%i.length],n[t]=a),r instanceof Function?r(a,e):a}},F.generateLevelColor=function(){var e=this,t=e.config,a=t.color_pattern,n=t.color_threshold,r="value"===n.unit,o=n.values&&n.values.length?n.values:[],s=n.max||100;return L(t.color_threshold)?function(e){var t=a[a.length-1],n,i;for(n=0;n<o.length;n++)if(i=r?e:100*e/s,i<o[n]){t=a[n];break}return t}:null},F.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:0.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:0.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*i/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:0.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,a,n){return this.getTooltipContent?this.getTooltipContent(e,t,a,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},F.additionalConfig={},F.loadConfig=function(e){function t(){var e=i.shift();return e&&n&&"object"===("undefined"==typeof n?"undefined":h(n))&&e in n?(n=n[e],t()):e?void 0:n}var a=this.config,n,i,r;Object.keys(a).forEach(function(o){n=e,i=o.split("_"),r=t(),A(r)&&(a[o]=r)})},F.convertUrlToData=function(e,t,a,n,i){var r=this,o=t?t:"csv",s=r.d3.xhr(e);a&&Object.keys(a).forEach(function(e){s.header(e,a[e])}),s.get(function(e,t){var a=t.response||t.responseText,s;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");s="json"===o?r.convertJsonToData(JSON.parse(a),n):"tsv"===o?r.convertTsvToData(a):r.convertCsvToData(a),i.call(r,s)})},F.convertXsvToData=function(e,t){var a=t.parseRows(e),n;return 1===a.length?(n=[{}],a[0].forEach(function(e){n[0][e]=null})):n=t.parse(e),n},F.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},F.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},F.convertJsonToData=function(e,t){var a=this,n=[],i,r;return t?(t.x?(i=t.value.concat(t.x),a.config.data_x=t.x):i=t.value,n.push(i),e.forEach(function(e){var t=[];i.forEach(function(n){var i=a.findValueInJson(e,n);T(i)&&(i=null),t.push(i)}),n.push(t)}),r=a.convertRowsToData(n)):(Object.keys(e).forEach(function(t){n.push([t].concat(e[t]))}),r=a.convertColumnsToData(n)),r},F.findValueInJson=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var a=t.split("."),n=0,i;n<a.length;++n)if(i=a[n],i in e)e=e[i];else return;return e},F.convertRowsToData=function(e){for(var t=[],a=e[0],n=1,i;n<e.length;n++){i={};for(var r=0;r<e[n].length;r++){if(T(e[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");i[a[r]]=e[n][r]}t.push(i)}return t},F.convertColumnsToData=function(e){for(var t=[],a=0,n;a<e.length;a++){n=e[a][0];for(var i=1;i<e[a].length;i++){if(T(t[i-1])&&(t[i-1]={}),T(e[a][i]))throw new Error("Source data is missing a component at ("+a+","+i+")!");t[i-1][n]=e[a][i]}}return t},F.convertDataToTargets=function(e,t){var a=this,n=a.config,i=a.d3.keys(e[0]).filter(a.isNotX,a),r=a.d3.keys(e[0]).filter(a.isX,a),o;return i.forEach(function(o){var i=a.getXKey(o);a.isCustomX()||a.isTimeSeries()?0<=r.indexOf(i)?a.data.xs[o]=(t&&a.data.xs[o]?a.data.xs[o]:[]).concat(e.map(function(e){return e[i]}).filter(m).map(function(e,t){return a.generateTargetX(e,o,t)})):n.data_x?a.data.xs[o]=a.getOtherTargetXs():L(n.data_xs)&&(a.data.xs[o]=a.getXValuesOfXKey(i,a.data.targets)):a.data.xs[o]=e.map(function(e,t){return t})}),i.forEach(function(e){if(!a.data.xs[e])throw new Error("x is not defined for id = \""+e+"\".")}),o=i.map(function(t,r){var o=n.data_idConverter(t);return{id:o,id_org:t,values:e.map(function(e,s){var i=a.getXKey(t),d=e[i],l=null===e[t]||isNaN(e[t])?null:+e[t],c;return a.isCustomX()&&a.isCategorized()&&!T(d)?(0===r&&0===s&&(n.axis_x_categories=[]),c=n.axis_x_categories.indexOf(d),-1===c&&(c=n.axis_x_categories.length,n.axis_x_categories.push(d))):c=a.generateTargetX(d,t,s),(T(e[t])||a.data.xs[t].length<=s)&&(c=void 0),{x:c,value:l,id:o}}).filter(function(e){return A(e.x)})}}),o.forEach(function(e){var t;n.data_xSort&&(e.values=e.values.sort(function(e,t){var a=e.x||0===e.x?e.x:Infinity,n=t.x||0===t.x?t.x:Infinity;return a-n})),t=0,e.values.forEach(function(e){e.index=t++}),a.data.xs[e.id].sort(function(e,t){return e-t})}),a.hasNegativeValue=a.hasNegativeValueInTargets(o),a.hasPositiveValue=a.hasPositiveValueInTargets(o),n.data_type&&a.setTargetType(a.mapToIds(o).filter(function(e){return!(e in n.data_types)}),n.data_type),o.forEach(function(e){a.addCache(e.id_org,e)}),o},F.isX=function(e){var t=this,a=t.config;return a.data_x&&e===a.data_x||L(a.data_xs)&&E(a.data_xs,e)},F.isNotX=function(e){return!this.isX(e)},F.getXKey=function(e){var t=this,a=t.config;return a.data_x?a.data_x:L(a.data_xs)?a.data_xs[e]:null},F.getXValuesOfXKey=function(e,t){var a=this,n=t&&L(t)?a.mapToIds(t):[],i;return n.forEach(function(t){a.getXKey(t)===e&&(i=a.data.xs[t])}),i},F.getIndexByX=function(e){var t=this,a=t.filterByX(t.data.targets,e);return a.length?a[0].index:null},F.getXValue=function(e,t){var a=this;return e in a.data.xs&&a.data.xs[e]&&m(a.data.xs[e][t])?a.data.xs[e][t]:t},F.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},F.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},F.addXs=function(e){var t=this;Object.keys(e).forEach(function(a){t.config.data_xs[a]=e[a]})},F.hasMultipleX=function(e){return 1<this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()},F.isMultipleX=function(){return L(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},F.addName=function(e){var t=this,a;return e&&(a=t.config.data_names[e.id],e.name=void 0===a?e.id:a),e},F.getValueOnIndex=function(e,t){var a=e.filter(function(e){return e.index===t});return a.length?a[0]:null},F.updateTargetX=function(e,a){var n=this;e.forEach(function(e){e.values.forEach(function(t,r){t.x=n.generateTargetX(a[r],e.id,r)}),n.data.xs[e.id]=a})},F.updateTargetXs=function(e,a){var n=this;e.forEach(function(e){a[e.id]&&n.updateTargetX([e],a[e.id])})},F.generateTargetX=function(e,t,a){var n=this,i;return i=n.isTimeSeries()?e?n.parseDate(e):n.parseDate(n.getXValue(t,a)):n.isCustomX()&&!n.isCategorized()?m(e)?+e:n.getXValue(t,a):a,i},F.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},F.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},F.getPrevX=function(e){var t=this.xs[e-1];return"undefined"==typeof t?null:t},F.getNextX=function(e){var t=this.xs[e+1];return"undefined"==typeof t?null:t},F.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},F.getMaxDataCountTarget=function(e){var t=e.length,a=0,n;return 1<t?e.forEach(function(e){e.values.length>a&&(n=e,a=e.values.length)}):n=t?e[0]:null,n},F.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},F.mapToIds=function(e){return e.map(function(e){return e.id})},F.mapToTargetIds=function(e){var t=this;return e?[].concat(e):t.mapToIds(t.data.targets)},F.hasTarget=function(e,t){var a=this.mapToIds(e),n;for(n=0;n<a.length;n++)if(a[n]===t)return!0;return!1},F.isTargetToShow=function(e){return 0>this.hiddenTargetIds.indexOf(e)},F.isLegendToShow=function(e){return 0>this.hiddenLegendIds.indexOf(e)},F.filterTargetsToShow=function(e){var a=this;return e.filter(function(e){return a.isTargetToShow(e.id)})},F.mapTargetsToUniqueXs=function(e){var t=this,a=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return a=t.isTimeSeries()?a.map(function(e){return new Date(+e)}):a.map(function(e){return+e}),a.sort(function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN})},F.addHiddenTargetIds=function(e){e=e instanceof Array?e:Array(e);for(var t=0;t<e.length;t++)0>this.hiddenTargetIds.indexOf(e[t])&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(e[t]))},F.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return 0>e.indexOf(t)})},F.addHiddenLegendIds=function(e){e=e instanceof Array?e:Array(e);for(var t=0;t<e.length;t++)0>this.hiddenLegendIds.indexOf(e[t])&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(e[t]))},F.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return 0>e.indexOf(t)})},F.getValuesAsIdKeyed=function(e){var a={};return e.forEach(function(e){a[e.id]=[],e.values.forEach(function(t){a[e.id].push(t.value)})}),a},F.checkValueInTargets=function(e,t){var a=Object.keys(e),n,i,r;for(n=0;n<a.length;n++)for(r=e[a[n]].values,i=0;i<r.length;i++)if(t(r[i].value))return!0;return!1},F.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return 0>e})},F.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return 0<e})},F.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},F.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},F.getOrderFunction=function(){var e=this,t=e.config,a=e.isOrderAsc(),n=e.isOrderDesc();if(a||n)return function(e,t){var a=function(e,t){return e+r(t.value)},i=e.values.reduce(a,0),o=t.values.reduce(a,0);return n?o-i:i-o};if(f(t.data_order))return t.data_order;if(S(t.data_order)){var i=t.data_order;return function(e,t){return i.indexOf(e.id)-i.indexOf(t.id)}}},F.orderTargets=function(e){var t=this.getOrderFunction();return t&&(e.sort(t),(this.isOrderAsc()||this.isOrderDesc())&&e.reverse()),e},F.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return 0==e.x-t})},F.filterRemoveNull=function(e){return e.filter(function(e){return m(e.value)})},F.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},F.hasDataLabel=function(){var e=this.config;return"boolean"==typeof e.data_labels&&e.data_labels||"object"===h(e.data_labels)&&L(e.data_labels)},F.getDataLabelLength=function(e,t,a){var n=this,r=[0,0];return n.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return n.dataLabelFormat(e.id)(e)}).each(function(e,t){r[t]=this.getBoundingClientRect()[a]*1.3}).remove(),r},F.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},F.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},F.findSameXOfValues=function(e,t){var a=e[t].x,n=[],r;for(r=t-1;0<=r&&a===e[r].x;r--)n.push(e[r]);for(r=t;r<e.length&&a===e[r].x;r++)n.push(e[r]);return n},F.findClosestFromTargets=function(e,t){var a=this,n;return n=e.map(function(e){return a.findClosest(e.values,t)}),a.findClosest(n,t)},F.findClosest=function(e,t){var a=this,n=a.config.point_sensitivity,i;return e.filter(function(e){return e&&a.isBarType(e.id)}).forEach(function(e){var t=a.main.select("."+g.bars+a.getTargetSelectorSuffix(e.id)+" ."+g.bar+"-"+e.index).node();!i&&a.isWithinBar(t)&&(i=e)}),e.filter(function(e){return e&&!a.isBarType(e.id)}).forEach(function(e){var r=a.dist(e,t);r<n&&(n=r,i=e)}),i},F.dist=function(e,t){var a=this,n=a.config,i=n.axis_rotated?1:0,r=n.axis_rotated?0:1,s=a.circleY(e,e.index),d=a.x(e.x);return o(l(d-t[i],2)+l(s-t[r],2))},F.convertValuesToStep=function(e){var t=[].concat(e),a;if(!this.isCategorized())return e;for(a=e.length+1;0<a;a--)t[a]=t[a-1];return t[0]={x:t[0].x-1,value:t[0].value,id:t[0].id},t[e.length+1]={x:t[e.length].x+1,value:t[e.length].value,id:t[e.length].id},t},F.updateDataAttributes=function(e,t){var a=this,n=a.config,i=n["data_"+e];return"undefined"==typeof t?i:(Object.keys(t).forEach(function(e){i[e]=t[e]}),a.redraw({withLegend:!0}),i)},F.load=function(e,a){var n=this;e&&(a.filter&&(e=e.filter(a.filter)),(a.type||a.types)&&e.forEach(function(e){var t=a.types&&a.types[e.id]?a.types[e.id]:a.type;n.setTargetType(e.id,t)}),n.data.targets.forEach(function(t){for(var a=0;a<e.length;a++)if(t.id===e[a].id){t.values=e[a].values,e.splice(a,1);break}}),n.data.targets=n.data.targets.concat(e)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()},F.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(a){t.load(t.convertDataToTargets(a),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},F.unload=function(e,t){var a=this;return t||(t=function(){}),e=e.filter(function(e){return a.hasTarget(a.data.targets,e)}),e&&0!==e.length?void(a.svg.selectAll(e.map(function(e){return a.selectorTarget(e)})).transition().style("opacity",0).remove().call(a.endall,t),e.forEach(function(e){a.withoutFadeIn[e]=!1,a.legend&&a.legend.selectAll("."+g.legendItem+a.getTargetSelectorSuffix(e)).remove(),a.data.targets=a.data.targets.filter(function(a){return a.id!==e})})):void t()},F.getYDomainMin=function(e){var t=this,a=t.config,n=t.mapToIds(e),r=t.getValuesAsIdKeyed(e),i,o,s,d,l,c;if(0<a.data_groups.length)for(c=t.hasNegativeValueInTargets(e),i=0;i<a.data_groups.length;i++)if(d=a.data_groups[i].filter(function(e){return 0<=n.indexOf(e)}),0!==d.length)for(s=d[0],c&&r[s]&&r[s].forEach(function(e,t){r[s][t]=0>e?e:0}),o=1;o<d.length;o++)(l=d[o],!!r[l])&&r[l].forEach(function(e,a){t.axis.getId(l)===t.axis.getId(s)&&r[s]&&!(c&&0<+e)&&(r[s][a]+=+e)});return t.d3.min(Object.keys(r).map(function(e){return t.d3.min(r[e])}))},F.getYDomainMax=function(e){var t=this,a=t.config,n=t.mapToIds(e),r=t.getValuesAsIdKeyed(e),i,o,s,d,l,c;if(0<a.data_groups.length)for(c=t.hasPositiveValueInTargets(e),i=0;i<a.data_groups.length;i++)if(d=a.data_groups[i].filter(function(e){return 0<=n.indexOf(e)}),0!==d.length)for(s=d[0],c&&r[s]&&r[s].forEach(function(e,t){r[s][t]=0<e?e:0}),o=1;o<d.length;o++)(l=d[o],!!r[l])&&r[l].forEach(function(e,a){t.axis.getId(l)===t.axis.getId(s)&&r[s]&&!(c&&0>+e)&&(r[s][a]+=+e)});return t.d3.max(Object.keys(r).map(function(e){return t.d3.max(r[e])}))},F.getYDomain=function(e,a,t){var n=this,i=n.config,o=e.filter(function(e){return n.axis.getId(e.id)===a}),s=t?n.filterByXDomain(o,t):o,d="y2"===a?i.axis_y2_min:i.axis_y_min,l="y2"===a?i.axis_y2_max:i.axis_y_max,g=n.getYDomainMin(s),p=n.getYDomainMax(s),h="y2"===a?i.axis_y2_center:i.axis_y_center,u=n.hasType("bar",s)&&i.bar_zerobased||n.hasType("area",s)&&i.area_zerobased,x="y2"===a?i.axis_y2_inverted:i.axis_y_inverted,y=n.hasDataLabel()&&i.axis_rotated,f=n.hasDataLabel()&&!i.axis_rotated,S,b,v,T,A,P,w,k,E,V,I;return(g=m(d)?d:m(l)?g<l?g:l-10:g,p=m(l)?l:m(d)?d<p?p:d+10:p,0===s.length)?"y2"===a?n.y2.domain():n.y.domain():(isNaN(g)&&(g=0),isNaN(p)&&(p=g),g===p&&(0>g?p=0:g=0),V=0<=g&&0<=p,I=0>=g&&0>=p,(m(d)&&V||m(l)&&I)&&(u=!1),u&&(V&&(g=0),I&&(p=0)),b=r(p-g),v=T=A=0.1*b,"undefined"!=typeof h&&(P=c(r(g),r(p)),p=h+P,g=h-P),y?(w=n.getDataLabelLength(g,p,"width"),k=C(n.y.range()),E=[w[0]/k,w[1]/k],T+=b*(E[1]/(1-E[0]-E[1])),A+=b*(E[0]/(1-E[0]-E[1]))):f&&(w=n.getDataLabelLength(g,p,"height"),T+=n.axis.convertPixelsToAxisPadding(w[1],b),A+=n.axis.convertPixelsToAxisPadding(w[0],b)),"y"===a&&L(i.axis_y_padding)&&(T=n.axis.getPadding(i.axis_y_padding,"top",T,b),A=n.axis.getPadding(i.axis_y_padding,"bottom",A,b)),"y2"===a&&L(i.axis_y2_padding)&&(T=n.axis.getPadding(i.axis_y2_padding,"top",T,b),A=n.axis.getPadding(i.axis_y2_padding,"bottom",A,b)),u&&(V&&(A=g),I&&(T=-p)),S=[g-A,p+T],x?S.reverse():S)},F.getXDomainMin=function(e){var a=this,t=a.config;return A(t.axis_x_min)?a.isTimeSeries()?this.parseDate(t.axis_x_min):t.axis_x_min:a.d3.min(e,function(e){return a.d3.min(e.values,function(e){return e.x})})},F.getXDomainMax=function(e){var a=this,t=a.config;return A(t.axis_x_max)?a.isTimeSeries()?this.parseDate(t.axis_x_max):t.axis_x_max:a.d3.max(e,function(e){return a.d3.max(e.values,function(e){return e.x})})},F.getXDomainPadding=function(e){var t=this,a=t.config,n=e[1]-e[0],i,r,o,s;return t.isCategorized()?r=0:t.hasType("bar")?(i=t.getMaxDataCount(),r=1<i?n/(i-1)/2:0.5):r=0.01*n,"object"===h(a.axis_x_padding)&&L(a.axis_x_padding)?(o=m(a.axis_x_padding.left)?a.axis_x_padding.left:r,s=m(a.axis_x_padding.right)?a.axis_x_padding.right:r):"number"==typeof a.axis_x_padding?o=s=a.axis_x_padding:o=s=r,{left:o,right:s}},F.getXDomain=function(e){var t=this,a=[t.getXDomainMin(e),t.getXDomainMax(e)],n=a[0],i=a[1],r=t.getXDomainPadding(a),o=0,s=0;return 0!=n-i||t.isCategorized()||(t.isTimeSeries()?(n=new Date(0.5*n.getTime()),i=new Date(1.5*i.getTime())):(n=0===n?1:0.5*n,i=0===i?-1:1.5*i)),(n||0===n)&&(o=t.isTimeSeries()?new Date(n.getTime()-r.left):n-r.left),(i||0===i)&&(s=t.isTimeSeries()?new Date(i.getTime()+r.right):i+r.right),[o,s]},F.updateXDomain=function(e,t,a,n,i){var r=this,o=r.config;return a&&(r.x.domain(i?i:r.d3.extent(r.getXDomain(e))),r.orgXDomain=r.x.domain(),o.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent(),r.subX.domain(r.x.domain()),r.brush&&r.brush.scale(r.subX)),t&&(r.x.domain(i?i:!r.brush||r.brush.empty()?r.orgXDomain:r.brush.extent()),o.zoom_enabled&&r.zoom.scale(r.x).updateScaleExtent()),n&&r.x.domain(r.trimXDomain(r.x.orgDomain())),r.x.domain()},F.trimXDomain=function(e){var t=this.getZoomDomain(),a=t[0],n=t[1];return e[0]<=a&&(e[1]=+e[1]+(a-e[0]),e[0]=a),n<=e[1]&&(e[0]=+e[0]-(e[1]-n),e[1]=n),e},F.drag=function(e){var t=this,a=t.config,n=t.main,r=t.d3,i,o,d,l,p,h,u,x;!t.hasArcType()&&a.data_selection_enabled&&(!a.zoom_enabled||t.zoom.altDomain)&&a.data_selection_multiple&&(i=t.dragStart[0],o=t.dragStart[1],d=e[0],l=e[1],p=s(i,d),h=c(i,d),u=a.data_selection_grouped?t.margin.top:s(o,l),x=a.data_selection_grouped?t.height:c(o,l),n.select("."+g.dragarea).attr("x",p).attr("y",u).attr("width",h-p).attr("height",x-u),n.selectAll("."+g.shapes).selectAll("."+g.shape).filter(function(e){return a.data_selection_isselectable(e)}).each(function(e,a){var n=r.select(this),i=n.classed(g.SELECTED),o=n.classed(g.INCLUDED),s=!1,d,l,c,y,m,f;if(n.classed(g.circle))d=1*n.attr("cx"),l=1*n.attr("cy"),m=t.togglePoint,s=p<d&&d<h&&u<l&&l<x;else if(n.classed(g.bar))f=I(this),d=f.x,l=f.y,c=f.width,y=f.height,m=t.togglePath,s=!(h<d||d+c<p)&&!(x<l||l+y<u);else return;s^o&&(n.classed(g.INCLUDED,!o),n.classed(g.SELECTED,!i),m.call(t,!i,n,e,a))}))},F.dragstart=function(e){var t=this,a=t.config;t.hasArcType()||!a.data_selection_enabled||(t.dragStart=e,t.main.select("."+g.chart).append("rect").attr("class",g.dragarea).style("opacity",0.1),t.dragging=!0)},F.dragend=function(){var e=this,t=e.config;e.hasArcType()||!t.data_selection_enabled||(e.main.select("."+g.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+g.shape).classed(g.INCLUDED,!1),e.dragging=!1)},F.getYFormat=function(e){var t=this,a=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,n=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,i,r){var o="y2"===t.axis.getId(r)?n:a;return o.call(t,e,i)}},F.yFormat=function(e){var t=this,a=t.config,n=a.axis_y_tick_format?a.axis_y_tick_format:t.defaultValueFormat;return n(e)},F.y2Format=function(e){var t=this,a=t.config,n=a.axis_y2_tick_format?a.axis_y2_tick_format:t.defaultValueFormat;return n(e)},F.defaultValueFormat=function(e){return m(e)?+e:""},F.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},F.dataLabelFormat=function(e){var t=this,a=t.config.data_labels,n=function(e){return m(e)?+e:""},i;return i="function"==typeof a.format?a.format:"object"===h(a.format)?a.format[e]?!0===a.format[e]?n:a.format[e]:function(){return""}:n,i},F.initGrid=function(){var e=this,t=e.config,a=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",g.grid),t.grid_x_show&&e.grid.append("g").attr("class",g.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",g.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",g.xgridFocus).append("line").attr("class",g.xgridFocus),e.xgrid=a.selectAll([]),t.grid_lines_front||e.initGridLines()},F.initGridLines=function(){var e=this,t=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",g.grid+" "+g.gridLines),e.gridLines.append("g").attr("class",g.xgridLines),e.gridLines.append("g").attr("class",g.ygridLines),e.xgridLines=t.selectAll([])},F.updateXGrid=function(e){var t=this,a=t.config,n=t.d3,i=t.generateGridData(a.grid_x_type,t.x),r=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=a.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-r},y2:function(e){return t.x(e)-r}}:{x1:function(e){return t.x(e)+r},x2:function(e){return t.x(e)+r},y1:0,y2:t.height},t.xgrid=t.main.select("."+g.xgrids).selectAll("."+g.xgrid).data(i),t.xgrid.enter().append("line").attr("class",g.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+n.select(this).attr(a.axis_rotated?"y1":"x1")===(a.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},F.updateYGrid=function(){var e=this,t=e.config,a=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+g.ygrids).selectAll("."+g.ygrid).data(a),e.ygrid.enter().append("line").attr("class",g.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},F.gridTextAnchor=function(e){return e.position?e.position:"end"},F.gridTextDx=function(e){return"start"===e.position?4:"middle"===e.position?0:-4},F.xGridTextX=function(e){return"start"===e.position?-this.height:"middle"===e.position?-this.height/2:0},F.yGridTextX=function(e){return"start"===e.position?0:"middle"===e.position?this.width/2:this.width},F.updateGrid=function(e){var t=this,a=t.main,n=t.config,i,r,o;t.grid.style("visibility",t.hasArcType()?"hidden":"visible"),a.select("line."+g.xgridFocus).style("visibility","hidden"),n.grid_x_show&&t.updateXGrid(),t.xgridLines=a.select("."+g.xgridLines).selectAll("."+g.xgridLine).data(n.grid_x_lines),i=t.xgridLines.enter().append("g").attr("class",function(e){return g.xgridLine+(e["class"]?" "+e["class"]:"")}),i.append("line").style("opacity",0),i.append("text").attr("text-anchor",t.gridTextAnchor).attr("transform",n.axis_rotated?"":"rotate(-90)").attr("dx",t.gridTextDx).attr("dy",-5).style("opacity",0),t.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),n.grid_y_show&&t.updateYGrid(),t.ygridLines=a.select("."+g.ygridLines).selectAll("."+g.ygridLine).data(n.grid_y_lines),r=t.ygridLines.enter().append("g").attr("class",function(e){return g.ygridLine+(e["class"]?" "+e["class"]:"")}),r.append("line").style("opacity",0),r.append("text").attr("text-anchor",t.gridTextAnchor).attr("transform",n.axis_rotated?"rotate(-90)":"").attr("dx",t.gridTextDx).attr("dy",-5).style("opacity",0),o=t.yv.bind(t),t.ygridLines.select("line").transition().duration(e).attr("x1",n.axis_rotated?o:0).attr("x2",n.axis_rotated?o:t.width).attr("y1",n.axis_rotated?0:o).attr("y2",n.axis_rotated?t.height:o).style("opacity",1),t.ygridLines.select("text").transition().duration(e).attr("x",n.axis_rotated?t.xGridTextX.bind(t):t.yGridTextX.bind(t)).attr("y",o).text(function(e){return e.text}).style("opacity",1),t.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},F.redrawGrid=function(e){var t=this,a=t.config,n=t.xv.bind(t),i=t.xgridLines.select("line"),r=t.xgridLines.select("text");return[(e?i.transition():i).attr("x1",a.axis_rotated?0:n).attr("x2",a.axis_rotated?t.width:n).attr("y1",a.axis_rotated?n:0).attr("y2",a.axis_rotated?n:t.height).style("opacity",1),(e?r.transition():r).attr("x",a.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",n).text(function(e){return e.text}).style("opacity",1)]},F.showXGridFocus=function(e){var t=this,a=t.config,n=e.filter(function(e){return e&&m(e.value)}),i=t.main.selectAll("line."+g.xgridFocus),r=t.xx.bind(t);!a.tooltip_show||t.hasType("scatter")||t.hasArcType()||(i.style("visibility","visible").data([n[0]]).attr(a.axis_rotated?"y1":"x1",r).attr(a.axis_rotated?"y2":"x2",r),t.smoothLines(i,"grid"))},F.hideXGridFocus=function(){this.main.select("line."+g.xgridFocus).style("visibility","hidden")},F.updateXgridFocus=function(){var e=this,t=e.config;e.main.select("line."+g.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?e.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:e.height)},F.generateGridData=function(e,t){var a=this,n=[],r=a.main.select("."+g.axisX).selectAll(".tick").size(),o,s,d,l;if("year"===e)for(o=a.getXDomain(),s=o[0].getFullYear(),d=o[1].getFullYear(),l=s;l<=d;l++)n.push(new Date(l+"-01-01 00:00:00"));else n=t.ticks(10),n.length>r&&(n=n.filter(function(e){return 0>(""+e).indexOf(".")}));return n},F.getGridFilterToRemove=function(e){return e?function(t){var a=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t["class"]===e["class"])&&(a=!0)}),a}:function(){return!0}},F.removeGridLines=function(e,t){var a=this,n=a.config,i=a.getGridFilterToRemove(e),r=function(e){return!i(e)},o=t?g.xgridLines:g.ygridLines,s=t?g.xgridLine:g.ygridLine;a.main.select("."+o).selectAll("."+s).filter(i).transition().duration(n.transition_duration).style("opacity",0).remove(),t?n.grid_x_lines=n.grid_x_lines.filter(r):n.grid_y_lines=n.grid_y_lines.filter(r)},F.initEventRect=function(){var e=this;e.main.select("."+g.chart).append("g").attr("class",g.eventRects).style("fill-opacity",0)},F.redrawEventRect=function(){var e=this,t=e.config,a=e.isMultipleX(),n=e.main.select("."+g.eventRects).style("cursor",t.zoom_enabled?t.axis_rotated?"ns-resize":"ew-resize":null).classed(g.eventRectsMultiple,a).classed(g.eventRectsSingle,!a),i,r;n.selectAll("."+g.eventRect).remove(),e.eventRect=n.selectAll("."+g.eventRect),a?(i=e.eventRect.data([0]),e.generateEventRectsForMultipleXs(i.enter()),e.updateEventRect(i)):(r=e.getMaxDataCountTarget(e.data.targets),n.datum(r?r.values:[]),e.eventRect=n.selectAll("."+g.eventRect),i=e.eventRect.data(function(e){return e}),e.generateEventRectsForSingleX(i.enter()),e.updateEventRect(i),i.exit().remove())},F.updateEventRect=function(e){var t=this,a=t.config,n,i,r,o,s,d;e=e||t.eventRect.data(function(e){return e}),t.isMultipleX()?(n=0,i=0,r=t.width,o=t.height):((t.isCustomX()||t.isTimeSeries())&&!t.isCategorized()?(t.updateXs(),s=function(e){var n=t.getPrevX(e.index),i=t.getNextX(e.index);return null===n&&null===i?a.axis_rotated?t.height:t.width:(null===n&&(n=t.x.domain()[0]),null===i&&(i=t.x.domain()[1]),c(0,(t.x(i)-t.x(n))/2))},d=function(e){var a=t.getPrevX(e.index),n=t.getNextX(e.index),i=t.data.xs[e.id][e.index];return null===a&&null===n?0:(null===a&&(a=t.x.domain()[0]),(t.x(i)+t.x(a))/2)}):(s=t.getEventRectWidth(),d=function(e){return t.x(e.x)-s/2}),n=a.axis_rotated?0:d,i=a.axis_rotated?d:0,r=a.axis_rotated?t.width:s,o=a.axis_rotated?s:t.height),e.attr("class",t.classEvent.bind(t)).attr("x",n).attr("y",i).attr("width",r).attr("height",o)},F.generateEventRectsForSingleX=function(e){var a=this,t=a.d3,n=a.config;e.append("rect").attr("class",a.classEvent.bind(a)).style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("mouseover",function(e){var t=e.index;a.dragging||a.flowing||a.hasArcType()||(n.point_focus_expand_enabled&&a.expandCircles(t,null,!0),a.expandBars(t,null,!0),a.main.selectAll("."+g.shape+"-"+t).each(function(e){n.data_onmouseover.call(a.api,e)}))}).on("mouseout",function(e){var t=e.index;!a.config||a.hasArcType()||(a.hideXGridFocus(),a.hideTooltip(),a.unexpandCircles(),a.unexpandBars(),a.main.selectAll("."+g.shape+"-"+t).each(function(e){n.data_onmouseout.call(a.api,e)}))}).on("mousemove",function(e){var i=e.index,r=a.svg.select("."+g.eventRect+"-"+i),o;a.dragging||a.flowing||a.hasArcType()||(a.isStepType(e)&&"step-after"===a.config.line_step_type&&t.mouse(this)[0]<a.x(a.getXValue(e.id,i))&&(i-=1),o=a.filterTargetsToShow(a.data.targets).map(function(e){return a.addName(a.getValueOnIndex(e.values,i))}),n.tooltip_grouped&&(a.showTooltip(o,this),a.showXGridFocus(o)),n.tooltip_grouped&&(!n.data_selection_enabled||n.data_selection_grouped)||a.main.selectAll("."+g.shape+"-"+i).each(function(){t.select(this).classed(g.EXPANDED,!0),n.data_selection_enabled&&r.style("cursor",n.data_selection_grouped?"pointer":null),n.tooltip_grouped||(a.hideXGridFocus(),a.hideTooltip(),!n.data_selection_grouped&&(a.unexpandCircles(i),a.unexpandBars(i)))}).filter(function(e){return a.isWithinShape(this,e)}).each(function(e){n.data_selection_enabled&&(n.data_selection_grouped||n.data_selection_isselectable(e))&&r.style("cursor","pointer"),n.tooltip_grouped||(a.showTooltip([e],this),a.showXGridFocus([e]),n.point_focus_expand_enabled&&a.expandCircles(i,e.id,!0),a.expandBars(i,e.id,!0))}))}).on("click",function(e){var i=e.index;return a.hasArcType()||!a.toggleShape?void 0:a.cancelClick?void(a.cancelClick=!1):void(a.isStepType(e)&&"step-after"===n.line_step_type&&t.mouse(this)[0]<a.x(a.getXValue(e.id,i))&&(i-=1),a.main.selectAll("."+g.shape+"-"+i).each(function(e){(n.data_selection_grouped||a.isWithinShape(this,e))&&(a.toggleShape(this,e,i),a.config.data_onclick.call(a.api,e,this))}))}).call(n.data_selection_draggable&&a.drag?t.behavior.drag().origin(Object).on("drag",function(){a.drag(t.mouse(this))}).on("dragstart",function(){a.dragstart(t.mouse(this))}).on("dragend",function(){a.dragend()}):function(){})},F.generateEventRectsForMultipleXs=function(e){function t(){a.svg.select("."+g.eventRect).style("cursor",null),a.hideXGridFocus(),a.hideTooltip(),a.unexpandCircles(),a.unexpandBars()}var a=this,n=a.d3,i=a.config;e.append("rect").attr("x",0).attr("y",0).attr("width",a.width).attr("height",a.height).attr("class",g.eventRect).on("mouseout",function(){!a.config||a.hasArcType()||t()}).on("mousemove",function(){var e=a.filterTargetsToShow(a.data.targets),r,o,s,d;if(!a.dragging)return a.hasArcType(e)?void 0:(r=n.mouse(this),o=a.findClosestFromTargets(e,r),a.mouseover&&(!o||o.id!==a.mouseover.id)&&(i.data_onmouseout.call(a.api,a.mouseover),a.mouseover=void 0),o?void(s=a.isScatterType(o)||!i.tooltip_grouped?[o]:a.filterByX(e,o.x),d=s.map(function(e){return a.addName(e)}),a.showTooltip(d,this),i.point_focus_expand_enabled&&a.expandCircles(o.index,o.id,!0),a.expandBars(o.index,o.id,!0),a.showXGridFocus(d),(a.isBarType(o.id)||a.dist(o,r)<i.point_sensitivity)&&(a.svg.select("."+g.eventRect).style("cursor","pointer"),!a.mouseover&&(i.data_onmouseover.call(a.api,o),a.mouseover=o))):void t())}).on("click",function(){var e=a.filterTargetsToShow(a.data.targets),t,r;a.hasArcType(e)||(t=n.mouse(this),r=a.findClosestFromTargets(e,t),!r||(a.isBarType(r.id)||a.dist(r,t)<i.point_sensitivity)&&a.main.selectAll("."+g.shapes+a.getTargetSelectorSuffix(r.id)).selectAll("."+g.shape+"-"+r.index).each(function(){(i.data_selection_grouped||a.isWithinShape(this,r))&&(a.toggleShape(this,r,r.index),a.config.data_onclick.call(a.api,r,this))}))}).call(i.data_selection_draggable&&a.drag?n.behavior.drag().origin(Object).on("drag",function(){a.drag(n.mouse(this))}).on("dragstart",function(){a.dragstart(n.mouse(this))}).on("dragend",function(){a.dragend()}):function(){})},F.dispatchEvent=function(e,t,a){var n=this,i="."+g.eventRect+(n.isMultipleX()?"":"-"+t),r=n.main.select(i).node(),o=r.getBoundingClientRect(),s=o.left+(a?a[0]:0),d=o.top+(a?a[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(e,!0,!0,window,0,s,d,s,d,!1,!1,!1,!1,0,null),r.dispatchEvent(l)},F.initLegend=function(){var e=this;return e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),e.config.legend_show?void e.updateLegendWithDefaults():(e.legend.style("visibility","hidden"),void(e.hiddenLegendIds=e.mapToIds(e.data.targets)))},F.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},F.updateSizeForLegend=function(e,t){var a=this,n=a.config,i={top:a.isLegendTop?a.getCurrentPaddingTop()+n.legend_inset_y+5.5:a.currentHeight-e-a.getCurrentPaddingBottom()-n.legend_inset_y,left:a.isLegendLeft?a.getCurrentPaddingLeft()+n.legend_inset_x+0.5:a.currentWidth-t-a.getCurrentPaddingRight()-n.legend_inset_x+0.5};a.margin3={top:a.isLegendRight?0:a.isLegendInset?i.top:a.currentHeight-e,right:NaN,bottom:0,left:a.isLegendRight?a.currentWidth-t:a.isLegendInset?i.left:0}},F.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},F.updateLegendStep=function(e){this.legendStep=e},F.updateLegendItemWidth=function(e){this.legendItemWidth=e},F.updateLegendItemHeight=function(e){this.legendItemHeight=e},F.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},F.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(e.isLegendRight?t=e.currentHeight:t=c(20,e.legendItemHeight)*(e.legendStep+1)),t},F.opacityForLegend=function(e){return e.classed(g.legendItemHidden)?null:1},F.opacityForUnfocusedLegend=function(e){return e.classed(g.legendItemHidden)?null:0.3},F.toggleFocusLegend=function(e,t){var a=this;e=a.mapToTargetIds(e),a.legend.selectAll("."+g.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(g.legendItemFocused,t).transition().duration(100).style("opacity",function(){var e=t?a.opacityForLegend:a.opacityForUnfocusedLegend;return e.call(a,a.d3.select(this))})},F.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+g.legendItem).classed(g.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},F.showLegend=function(e){var t=this,a=t.config;a.legend_show||(a.legend_show=!0,t.legend.style("visibility","visible"),!t.legendHasRendered&&t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},F.hideLegend=function(e){var t=this,a=t.config;a.legend_show&&w(e)&&(a.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},F.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},F.updateLegend=function(e,t,a){function n(e,t){return i.legendItemTextBox[t]||(i.legendItemTextBox[t]=i.getTextRect(e.textContent,g.legendItem,e)),i.legendItemTextBox[t]}function r(t,a,r){function l(e,t){t||(L=(w-x-C)/2,L<h&&(L=(w-C)/2,x=0,v++)),b[e]=v,S[v]=i.isLegendInset?10:L,y[e]=x,x+=C}var g=r===e.length-1,T=n(t,a),A=T.width+u+(g&&!(i.isLegendRight||i.isLegendInset)?0:d)+o.legend_padding,P=T.height+s,C=i.isLegendRight||i.isLegendInset?P:A,w=i.isLegendRight||i.isLegendInset?i.getLegendHeight():i.getLegendWidth(),L,k;return 0===r&&(x=0,v=0,c=0,p=0),o.legend_show&&!i.isLegendToShow(a)?void(m[a]=f[a]=b[a]=y[a]=0):void(m[a]=A,f[a]=P,(!c||A>=c)&&(c=A),(!p||P>=p)&&(p=P),k=i.isLegendRight||i.isLegendInset?p:c,o.legend_equally?(Object.keys(m).forEach(function(e){m[e]=c}),Object.keys(f).forEach(function(e){f[e]=p}),L=(w-k*e.length)/2,L<h?(x=0,v=0,e.forEach(function(e){l(e)})):l(a,!0)):l(a))}var i=this,o=i.config,s=4,d=10,c=0,p=0,h=10,u=o.legend_item_tile_width+5,x=0,y={},m={},f={},S=[0],b={},v=0,T,P,C,w,L,E,V,I,G,R,l,O,D,z,F,M;e=e.filter(function(e){return!A(o.data_names[e])||null!==o.data_names[e]}),t=t||{},l=k(t,"withTransition",!0),O=k(t,"withTransitionForTransform",!0),i.isLegendInset&&(v=o.legend_inset_step?o.legend_inset_step:e.length,i.updateLegendStep(v)),i.isLegendRight?(T=function(e){return c*b[e]},w=function(e){return S[b[e]]+y[e]}):i.isLegendInset?(T=function(e){return c*b[e]+10},w=function(e){return S[b[e]]+y[e]}):(T=function(e){return S[b[e]]+y[e]},w=function(e){return p*b[e]}),P=function(e,t){return T(e,t)+4+o.legend_item_tile_width},L=function(e,t){return w(e,t)+9},C=function(e,t){return T(e,t)},E=function(e,t){return w(e,t)-5},V=function(e,t){return T(e,t)-2},I=function(e,t){return T(e,t)-2+o.legend_item_tile_width},G=function(e,t){return w(e,t)+4},R=i.legend.selectAll("."+g.legendItem).data(e).enter().append("g").attr("class",function(e){return i.generateClass(g.legendItem,e)}).style("visibility",function(e){return i.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){o.legend_item_onclick?o.legend_item_onclick.call(i,e):i.d3.event.altKey?(i.api.hide(),i.api.show(e)):(i.api.toggle(e),i.isTargetToShow(e)?i.api.focus(e):i.api.revert())}).on("mouseover",function(e){o.legend_item_onmouseover?o.legend_item_onmouseover.call(i,e):(i.d3.select(this).classed(g.legendItemFocused,!0),!i.transiting&&i.isTargetToShow(e)&&i.api.focus(e))}).on("mouseout",function(e){o.legend_item_onmouseout?o.legend_item_onmouseout.call(i,e):(i.d3.select(this).classed(g.legendItemFocused,!1),i.api.revert())}),R.append("text").text(function(e){return A(o.data_names[e])?o.data_names[e]:e}).each(function(e,t){r(this,e,t)}).style("pointer-events","none").attr("x",i.isLegendRight||i.isLegendInset?P:-200).attr("y",i.isLegendRight||i.isLegendInset?-200:L),R.append("rect").attr("class",g.legendItemEvent).style("fill-opacity",0).attr("x",i.isLegendRight||i.isLegendInset?C:-200).attr("y",i.isLegendRight||i.isLegendInset?-200:E),R.append("line").attr("class",g.legendItemTile).style("stroke",i.color).style("pointer-events","none").attr("x1",i.isLegendRight||i.isLegendInset?V:-200).attr("y1",i.isLegendRight||i.isLegendInset?-200:G).attr("x2",i.isLegendRight||i.isLegendInset?I:-200).attr("y2",i.isLegendRight||i.isLegendInset?-200:G).attr("stroke-width",o.legend_item_tile_height),M=i.legend.select("."+g.legendBackground+" rect"),i.isLegendInset&&0<c&&0===M.size()&&(M=i.legend.insert("g","."+g.legendItem).attr("class",g.legendBackground).append("rect")),D=i.legend.selectAll("text").data(e).text(function(e){return A(o.data_names[e])?o.data_names[e]:e}).each(function(e,t){r(this,e,t)}),(l?D.transition():D).attr("x",P).attr("y",L),z=i.legend.selectAll("rect."+g.legendItemEvent).data(e),(l?z.transition():z).attr("width",function(e){return m[e]}).attr("height",function(e){return f[e]}).attr("x",C).attr("y",E),F=i.legend.selectAll("line."+g.legendItemTile).data(e),(l?F.transition():F).style("stroke",i.color).attr("x1",V).attr("y1",G).attr("x2",I).attr("y2",G),M&&(l?M.transition():M).attr("height",i.getLegendHeight()-12).attr("width",c*(v+1)+10),i.legend.selectAll("."+g.legendItem).classed(g.legendItemHidden,function(e){return!i.isTargetToShow(e)}),i.updateLegendItemWidth(c),i.updateLegendItemHeight(p),i.updateLegendStep(v),i.updateSizes(),i.updateScales(),i.updateSvgSize(),i.transformAll(O,a),i.legendHasRendered=!0},F.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",g.regions)},F.updateRegion=function(e){var t=this,a=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+g.regions).selectAll("."+g.region).data(a.regions),t.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),t.mainRegion.attr("class",t.classRegion.bind(t)),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},F.redrawRegion=function(e){var t=this,a=t.mainRegion.selectAll("rect").each(function(){var e=t.d3.select(this.parentNode).datum();t.d3.select(this).datum(e)}),n=t.regionX.bind(t),i=t.regionY.bind(t),r=t.regionWidth.bind(t),o=t.regionHeight.bind(t);return[(e?a.transition():a).attr("x",n).attr("y",i).attr("width",r).attr("height",o).style("fill-opacity",function(e){return m(e.opacity)?e.opacity:0.1})]},F.regionX=function(e){var t=this,a=t.config,n="y"===e.axis?t.y:t.y2,i;return i="y"===e.axis||"y2"===e.axis?a.axis_rotated?"start"in e?n(e.start):0:0:a.axis_rotated?0:"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0,i},F.regionY=function(e){var t=this,a=t.config,n="y"===e.axis?t.y:t.y2,i;return i="y"===e.axis||"y2"===e.axis?a.axis_rotated?0:"end"in e?n(e.end):0:a.axis_rotated?"start"in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0:0,i},F.regionWidth=function(e){var t=this,a=t.config,n=t.regionX(e),i="y"===e.axis?t.y:t.y2,r;return r="y"===e.axis||"y2"===e.axis?a.axis_rotated?"end"in e?i(e.end):t.width:t.width:a.axis_rotated?t.width:"end"in e?t.x(t.isTimeSeries()?t.parseDate(e.end):e.end):t.width,r<n?0:r-n},F.regionHeight=function(e){var t=this,a=t.config,n=this.regionY(e),i="y"===e.axis?t.y:t.y2,r;return r="y"===e.axis||"y2"===e.axis?a.axis_rotated?t.height:"start"in e?i(e.start):t.height:a.axis_rotated?"end"in e?t.x(t.isTimeSeries()?t.parseDate(e.end):e.end):t.height:t.height,r<n?0:r-n},F.isRegionOnX=function(e){return!e.axis||"x"===e.axis},F.getScale=function(e,t,a){return(a?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},F.getX=function(e,t,a,n){var i=this,r=i.getScale(e,t,i.isTimeSeries()),o=a?r.domain(a):r,s;for(s in i.isCategorized()?(n=n||function(){return 0},r=function(e,t){var a=o(e)+n(e);return t?a:p(a)}):r=function(e,t){var a=o(e);return t?a:p(a)},o)r[s]=o[s];return r.orgDomain=function(){return o.domain()},i.isCategorized()&&(r.domain=function(e){return arguments.length?(o.domain(e),r):(e=this.orgDomain(),[e[0],e[1]+1])}),r},F.getY=function(e,t,a){var n=this.getScale(e,t,this.isTimeSeriesY());return a&&n.domain(a),n},F.getYScale=function(e){return"y2"===this.axis.getId(e)?this.y2:this.y},F.getSubYScale=function(e){return"y2"===this.axis.getId(e)?this.subY2:this.subY},F.updateScales=function(){var e=this,t=e.config,a=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,a?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,a?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,a?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,a?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,a?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),a||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},F.selectPoint=function(e,t,a){var n=this,i=n.config,o=(i.axis_rotated?n.circleY:n.circleX).bind(n),s=(i.axis_rotated?n.circleX:n.circleY).bind(n),d=n.pointSelectR.bind(n);i.data_onselected.call(n.api,t,e.node()),n.main.select("."+g.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+g.selectedCircle+"-"+a).data([t]).enter().append("circle").attr("class",function(){return n.generateClass(g.selectedCircle,a)}).attr("cx",o).attr("cy",s).attr("stroke",function(){return n.color(t)}).attr("r",function(e){return 1.4*n.pointSelectR(e)}).transition().duration(100).attr("r",d)},F.unselectPoint=function(e,t,a){var n=this;n.config.data_onunselected.call(n.api,t,e.node()),n.main.select("."+g.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+g.selectedCircle+"-"+a).transition().duration(100).attr("r",0).remove()},F.togglePoint=function(e,t,a,n){e?this.selectPoint(t,a,n):this.unselectPoint(t,a,n)},F.selectPath=function(e,t){var a=this;a.config.data_onselected.call(a,t,e.node()),a.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return a.d3.rgb(a.color(t)).brighter(0.75)})},F.unselectPath=function(e,t){var a=this;a.config.data_onunselected.call(a,t,e.node()),a.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return a.color(t)})},F.togglePath=function(e,t,a,n){e?this.selectPath(t,a,n):this.unselectPath(t,a,n)},F.getToggle=function(e,t){var a=this,n;return"circle"===e.nodeName?a.isStepType(t)?n=function(){}:n=a.togglePoint:"path"===e.nodeName&&(n=a.togglePath),n},F.toggleShape=function(e,t,a){var n=this,r=n.d3,i=n.config,o=r.select(e),s=o.classed(g.SELECTED),l=n.getToggle(e,t).bind(n);i.data_selection_enabled&&i.data_selection_isselectable(t)&&(!i.data_selection_multiple&&n.main.selectAll("."+g.shapes+(i.data_selection_grouped?n.getTargetSelectorSuffix(t.id):"")).selectAll("."+g.shape).each(function(e,t){var a=r.select(this);a.classed(g.SELECTED)&&l(!1,a.classed(g.SELECTED,!1),e,t)}),o.classed(g.SELECTED,!s),l(!s,o,t,a))},F.initBar=function(){var e=this;e.main.select("."+g.chart).append("g").attr("class",g.chartBars)},F.updateTargetsForBar=function(e){var t=this,a=t.config,n=t.classChartBar.bind(t),i=t.classBars.bind(t),r=t.classFocus.bind(t),o,s;o=t.main.select("."+g.chartBars).selectAll("."+g.chartBar).data(e).attr("class",function(e){return n(e)+r(e)}),s=o.enter().append("g").attr("class",n).style("pointer-events","none"),s.append("g").attr("class",i).style("cursor",function(e){return a.data_selection_isselectable(e)?"pointer":null})},F.updateBar=function(e){var t=this,a=t.barData.bind(t),n=t.classBar.bind(t),i=t.initialOpacity.bind(t),r=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll("."+g.bars).selectAll("."+g.bar).data(a),t.mainBar.enter().append("path").attr("class",n).style("stroke",r).style("fill",r),t.mainBar.style("opacity",i),t.mainBar.exit().transition().duration(e).remove()},F.redrawBar=function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",e).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},F.getBarW=function(e,t){var a=this,n=a.config,i="number"==typeof n.bar_width?n.bar_width:t?e.tickInterval()*n.bar_width_ratio/t:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},F.getBars=function(e,t){var a=this;return(t?a.main.selectAll("."+g.bars+a.getTargetSelectorSuffix(t)):a.main).selectAll("."+g.bar+(m(e)?"-"+e:""))},F.expandBars=function(e,t,a){var n=this;a&&n.unexpandBars(),n.getBars(e,t).classed(g.EXPANDED,!0)},F.unexpandBars=function(e){var t=this;t.getBars(e).classed(g.EXPANDED,!1)},F.generateDrawBar=function(e,t){var a=this,n=a.config,r=a.generateGetBarPoints(e,t);return function(e,t){var a=r(e,t),i=n.axis_rotated?1:0,o=n.axis_rotated?0:1,s="M "+a[0][i]+","+a[0][o]+" L"+a[1][i]+","+a[1][o]+" L"+a[2][i]+","+a[2][o]+" L"+a[3][i]+","+a[3][o]+" z";return s}},F.generateGetBarPoints=function(e,t){var a=this,n=t?a.subXAxis:a.xAxis,i=e.__max__+1,r=a.getBarW(n,i),o=a.getShapeX(r,i,e,!!t),s=a.getShapeY(!!t),l=a.getShapeOffset(a.isBarType,e,!!t),c=r*(a.config.bar_space/2),g=t?a.getSubYScale:a.getYScale;return function(e,t){var n=g.call(a,e.id)(0),i=l(e,t)||n,d=o(e),p=s(e);return a.config.axis_rotated&&(0<e.value&&p<n||0>e.value&&n<p)&&(p=n),[[d+c,i],[d+c,p-(n-i)],[d+r-c,p-(n-i)],[d+r-c,i]]}},F.isWithinBar=function(e){var t=this.d3.mouse(e),a=e.getBoundingClientRect(),n=e.pathSegList.getItem(0),i=e.pathSegList.getItem(1),r=s(n.x,i.x),o=s(n.y,i.y),d=a.width,l=a.height,c=2;return r-c<t[0]&&t[0]<r+d+c&&o-c<t[1]&&t[1]<o+l+c},F.getShapeIndices=function(e){var t=this,a=t.config,n={},r=0,i,o;return t.filterTargetsToShow(t.data.targets.filter(e,t)).forEach(function(e){for(i=0;i<a.data_groups.length;i++)if(!(0>a.data_groups[i].indexOf(e.id)))for(o=0;o<a.data_groups[i].length;o++)if(a.data_groups[i][o]in n){n[e.id]=n[a.data_groups[i][o]];break}T(n[e.id])&&(n[e.id]=r++)}),n.__max__=r-1,n},F.getShapeX=function(e,t,a,n){var i=this,r=n?i.subX:i.x;return function(n){var i=n.id in a?a[n.id]:0;return n.x||0===n.x?r(n.x)-e*(t/2-i):0}},F.getShapeY=function(e){var t=this;return function(a){var n=e?t.getSubYScale(a.id):t.getYScale(a.id);return n(a.value)}},F.getShapeOffset=function(e,a,t){var n=this,r=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(e,n))),o=r.map(function(e){return e.id});return function(e,s){var i=t?n.getSubYScale(e.id):n.getYScale(e.id),d=i(0),l=d;return r.forEach(function(r){var t=n.isStepType(e)?n.convertValuesToStep(r.values):r.values;r.id===e.id||a[r.id]!==a[e.id]||o.indexOf(r.id)<o.indexOf(e.id)&&(("undefined"==typeof t[s]||+t[s].x!=+e.x)&&(s=-1,t.forEach(function(t,a){t.x===e.x&&(s=a)})),s in t&&0<=t[s].value*e.value&&(l+=i(t[s].value)-d))}),l}},F.isWithinShape=function(e,t){var a=this,n=a.d3.select(e),i;return a.isTargetToShow(t.id)?"circle"===e.nodeName?i=a.isStepType(t)?a.isWithinStep(e,a.getYScale(t.id)(t.value)):a.isWithinCircle(e,1.5*a.pointSelectR(t)):"path"===e.nodeName&&(i=!n.classed(g.bar)||a.isWithinBar(e)):i=!1,i},F.getInterpolate=function(e){var t=this,a=t.isInterpolationType(t.config.spline_interpolation_type)?t.config.spline_interpolation_type:"cardinal";return t.isSplineType(e)?a:t.isStepType(e)?t.config.line_step_type:"linear"},F.initLine=function(){var e=this;e.main.select("."+g.chart).append("g").attr("class",g.chartLines)},F.updateTargetsForLine=function(e){var a=this,t=a.config,n=a.classChartLine.bind(a),i=a.classLines.bind(a),r=a.classAreas.bind(a),o=a.classCircles.bind(a),s=a.classFocus.bind(a),d,l;d=a.main.select("."+g.chartLines).selectAll("."+g.chartLine).data(e).attr("class",function(e){return n(e)+s(e)}),l=d.enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none"),l.append("g").attr("class",i),l.append("g").attr("class",r),l.append("g").attr("class",function(e){return a.generateClass(g.selectedCircles,e.id)}),l.append("g").attr("class",o).style("cursor",function(e){return t.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(e){a.main.selectAll("."+g.selectedCircles+a.getTargetSelectorSuffix(e.id)).selectAll("."+g.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},F.updateLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+g.lines).selectAll("."+g.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},F.redrawLine=function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},F.generateDrawLine=function(e,t){var a=this,n=a.config,i=a.d3.svg.line(),r=a.generateGetLinePoints(e,t),o=t?a.getSubYScale:a.getYScale,s=function(e){return(t?a.subxx:a.xx).call(a,e)},d=function(e,t){return 0<n.data_groups.length?r(e,t)[0][1]:o.call(a,e.id)(e.value)};return i=n.axis_rotated?i.x(d).y(s):i.x(s).y(d),n.line_connectNull||(i=i.defined(function(e){return null!=e.value})),function(e){var r=n.line_connectNull?a.filterRemoveNull(e.values):e.values,s=t?a.x:a.subX,d=o.call(a,e.id),l=0,c=0,g;return a.isLineType(e)?n.data_regions[e.id]?g=a.lineWithRegions(r,s,d,n.data_regions[e.id]):(a.isStepType(e)&&(r=a.convertValuesToStep(r)),g=i.interpolate(a.getInterpolate(e))(r)):(r[0]&&(l=s(r[0].x),c=d(r[0].value)),g=n.axis_rotated?"M "+c+" "+l:"M "+l+" "+c),g?g:"M 0 0"}},F.generateGetLinePoints=function(e,t){var a=this,n=a.config,i=e.__max__+1,r=a.getShapeX(0,i,e,!!t),o=a.getShapeY(!!t),s=a.getShapeOffset(a.isLineType,e,!!t),l=t?a.getSubYScale:a.getYScale;return function(e,t){var i=l.call(a,e.id)(0),d=s(e,t)||i,c=r(e),g=o(e);return n.axis_rotated&&(0<e.value&&g<i||0>e.value&&i<g)&&(g=i),[[c,g-(i-d)],[c,g-(i-d)],[c,g-(i-d)],[c,g-(i-d)]]}},F.lineWithRegions=function(e,t,a,n){function r(e,t){var a;for(a=0;a<t.length;a++)if(t[a].start<e&&e<=t[a].end)return!0;return!1}function d(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}var c=this,g=c.config,p="M",s=c.isCategorized()?0.5:0,h=[],u,i,x,y,m,f,S,b,v,P,C,w;if(A(n))for(u=0;u<n.length;u++)h[u]={},h[u].start=T(n[u].start)?e[0].x:c.isTimeSeries()?c.parseDate(n[u].start):n[u].start,h[u].end=T(n[u].end)?e[e.length-1].x:c.isTimeSeries()?c.parseDate(n[u].end):n[u].end;for(C=g.axis_rotated?function(e){return a(e.value)}:function(e){return t(e.x)},w=g.axis_rotated?function(e){return t(e.x)}:function(e){return a(e.value)},x=c.isTimeSeries()?function(e,n,i,r){var o=e.x.getTime(),s=n.x-e.x,l=new Date(o+s*i),c=new Date(o+s*(i+r)),p;return p=g.axis_rotated?[[a(m(i)),t(l)],[a(m(i+r)),t(c)]]:[[t(l),a(m(i))],[t(c),a(m(i+r))]],d(p)}:function(e,n,i,r){var o;return o=g.axis_rotated?[[a(m(i),!0),t(y(i))],[a(m(i+r),!0),t(y(i+r))]]:[[t(y(i),!0),a(m(i))],[t(y(i+r),!0),a(m(i+r))]],d(o)},u=0;u<e.length;u++){if(T(h)||!r(e[u].x,h))p+=" "+C(e[u])+" "+w(e[u]);else for(y=c.getScale(e[u-1].x+s,e[u].x+s,c.isTimeSeries()),m=c.getScale(e[u-1].value,e[u].value),f=t(e[u].x)-t(e[u-1].x),S=a(e[u].value)-a(e[u-1].value),b=o(l(f,2)+l(S,2)),v=2/b,P=2*v,i=v;1>=i;i+=P)p+=x(e[u-1],e[u],i,v);e[u].x}return p},F.updateArea=function(e){var t=this,a=t.d3;t.mainArea=t.main.selectAll("."+g.areas).selectAll("."+g.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+a.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},F.redrawArea=function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},F.generateDrawArea=function(e,t){var a=this,n=a.config,i=a.d3.svg.area(),r=a.generateGetAreaPoints(e,t),o=t?a.getSubYScale:a.getYScale,s=function(e){return(t?a.subxx:a.xx).call(a,e)},d=function(e,t){return 0<n.data_groups.length?r(e,t)[0][1]:o.call(a,e.id)(a.getAreaBaseValue(e.id))},l=function(e,t){return 0<n.data_groups.length?r(e,t)[1][1]:o.call(a,e.id)(e.value)};return i=n.axis_rotated?i.x0(d).x1(l).y(s):i.x(s).y0(n.area_above?0:d).y1(l),n.line_connectNull||(i=i.defined(function(e){return null!==e.value})),function(e){var t=n.line_connectNull?a.filterRemoveNull(e.values):e.values,r=0,o=0,s;return a.isAreaType(e)?(a.isStepType(e)&&(t=a.convertValuesToStep(t)),s=i.interpolate(a.getInterpolate(e))(t)):(t[0]&&(r=a.x(t[0].x),o=a.getYScale(e.id)(t[0].value)),s=n.axis_rotated?"M "+o+" "+r:"M "+r+" "+o),s?s:"M 0 0"}},F.getAreaBaseValue=function(){return 0},F.generateGetAreaPoints=function(e,t){var a=this,n=a.config,i=e.__max__+1,r=a.getShapeX(0,i,e,!!t),o=a.getShapeY(!!t),s=a.getShapeOffset(a.isAreaType,e,!!t),l=t?a.getSubYScale:a.getYScale;return function(e,t){var i=l.call(a,e.id)(0),d=s(e,t)||i,c=r(e),g=o(e);return n.axis_rotated&&(0<e.value&&g<i||0>e.value&&i<g)&&(g=i),[[c,d],[c,g-(i-d)],[c,g-(i-d)],[c,d]]}},F.updateCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+g.circles).selectAll("."+g.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},F.redrawCircle=function(e,t,a){var n=this.main.selectAll("."+g.selectedCircle);return[(a?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",e).attr("cy",t),(a?n.transition(Math.random().toString()):n).attr("cx",e).attr("cy",t)]},F.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},F.updateCircleY=function(){var e=this,t,a;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),a=e.generateGetLinePoints(t),e.circleY=function(e,t){return a(e,t)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},F.getCircles=function(e,t){var a=this;return(t?a.main.selectAll("."+g.circles+a.getTargetSelectorSuffix(t)):a.main).selectAll("."+g.circle+(m(e)?"-"+e:""))},F.expandCircles=function(e,t,a){var n=this,i=n.pointExpandedR.bind(n);a&&n.unexpandCircles(),n.getCircles(e,t).classed(g.EXPANDED,!0).attr("r",i)},F.unexpandCircles=function(e){var t=this,a=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(g.EXPANDED)}).classed(g.EXPANDED,!1).attr("r",a)},F.pointR=function(e){var t=this,a=t.config;return t.isStepType(e)?0:f(a.point_r)?a.point_r(e):a.point_r},F.pointExpandedR=function(e){var t=this,a=t.config;return a.point_focus_expand_enabled?f(a.point_focus_expand_r)?a.point_focus_expand_r(e):a.point_focus_expand_r?a.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},F.pointSelectR=function(e){var t=this,a=t.config;return f(a.point_select_r)?a.point_select_r(e):a.point_select_r?a.point_select_r:4*t.pointR(e)},F.isWithinCircle=function(e,t){var a=this.d3,n=a.mouse(e),i=a.select(e),r=+i.attr("cx"),s=+i.attr("cy");return o(l(r-n[0],2)+l(s-n[1],2))<t},F.isWithinStep=function(e,t){return 30>r(t-this.d3.mouse(e)[1])},F.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},F.getCurrentHeight=function(){var e=this,t=e.config,a=t.size_height?t.size_height:e.getParentHeight();return 0<a?a:320/(e.hasType("gauge")&&!t.gauge_fullCircle?2:1)},F.getCurrentPaddingTop=function(){var e=this,t=e.config,a=m(t.padding_top)?t.padding_top:0;return e.title&&e.title.node()&&(a+=e.getTitlePadding()),a},F.getCurrentPaddingBottom=function(){var e=this.config;return m(e.padding_bottom)?e.padding_bottom:0},F.getCurrentPaddingLeft=function(e){var t=this,a=t.config;return m(a.padding_left)?a.padding_left:a.axis_rotated?a.axis_x_show?c(v(t.getAxisWidthByAxisId("x",e)),40):1:!a.axis_y_show||a.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:v(t.getAxisWidthByAxisId("y",e))},F.getCurrentPaddingRight=function(){var e=this,t=e.config,a=e.isLegendRight?e.getLegendWidth()+20:0;return m(t.padding_right)?t.padding_right+1:t.axis_rotated?10+a:!t.axis_y2_show||t.axis_y2_inner?2+a+(e.axis.getY2AxisLabelPosition().isOuter?20:0):v(e.getAxisWidthByAxisId("y2"))+a},F.getParentRectValue=function(e){for(var t=this.selectChart.node(),a;t&&"BODY"!==t.tagName;){try{a=t.getBoundingClientRect()[e]}catch(n){"width"===e&&(a=t.offsetWidth)}if(a)break;t=t.parentNode}return a},F.getParentWidth=function(){return this.getParentRectValue("width")},F.getParentHeight=function(){var e=this.selectChart.style("height");return 0<e.indexOf("px")?+e.replace("px",""):0},F.getSvgLeft=function(e){var t=this,a=t.config,n=a.axis_rotated||!a.axis_rotated&&!a.axis_y_inner,i=a.axis_rotated?g.axisX:g.axisY,r=t.main.select("."+i).node(),o=r&&n?r.getBoundingClientRect():{right:0},s=t.selectChart.node().getBoundingClientRect(),d=t.hasArcType(),l=o.right-s.left-(d?0:t.getCurrentPaddingLeft(e));return 0<l?l:0},F.getAxisWidthByAxisId=function(e,t){var a=this,n=a.axis.getLabelPositionById(e);return a.axis.getMaxTickWidth(e,t)+(n.isInner?20:40)},F.getHorizontalAxisHeight=function(e){var t=this,a=t.config,r=30;return"x"!==e||a.axis_x_show?"x"===e&&a.axis_x_height?a.axis_x_height:"y"!==e||a.axis_y_show?"y2"!==e||a.axis_y2_show?("x"===e&&!a.axis_rotated&&a.axis_x_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*n(i*(90-a.axis_x_tick_rotate)/180)),"y"===e&&a.axis_rotated&&a.axis_y_tick_rotate&&(r=30+t.axis.getMaxTickWidth(e)*n(i*(90-a.axis_y_tick_rotate)/180)),r+(t.axis.getLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):t.rotated_padding_top:!a.legend_show||t.isLegendRight||t.isLegendInset?1:10:8},F.getEventRectWidth=function(){return c(0,this.xAxis.tickInterval())},F.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+g.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},F.initSubchart=function(){var e=this,t=e.config,a=e.context=e.svg.append("g").attr("transform",e.getTranslate("context")),n=t.subchart_show?"visible":"hidden";a.style("visibility",n),a.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",g.chart),a.select("."+g.chart).append("g").attr("class",g.chartBars),a.select("."+g.chart).append("g").attr("class",g.chartLines),a.append("g").attr("clip-path",e.clipPath).attr("class",g.brush).call(e.brush),e.axes.subx=a.append("g").attr("class",g.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis).style("visibility",t.subchart_axis_x_show?n:"hidden")},F.updateTargetsForSubchart=function(e){var t=this,a=t.context,n=t.config,i=t.classChartBar.bind(t),r=t.classBars.bind(t),o=t.classChartLine.bind(t),s=t.classLines.bind(t),d=t.classAreas.bind(t),l,c,p,h;n.subchart_show&&(h=a.select("."+g.chartBars).selectAll("."+g.chartBar).data(e).attr("class",i),p=h.enter().append("g").style("opacity",0).attr("class",i),p.append("g").attr("class",r),c=a.select("."+g.chartLines).selectAll("."+g.chartLine).data(e).attr("class",o),l=c.enter().append("g").style("opacity",0).attr("class",o),l.append("g").attr("class",s),l.append("g").attr("class",d),a.selectAll("."+g.brush+" rect").attr(n.axis_rotated?"width":"height",n.axis_rotated?t.width2:t.height2))},F.updateBarForSubchart=function(e){var t=this;t.contextBar=t.context.selectAll("."+g.bars).selectAll("."+g.bar).data(t.barData.bind(t)),t.contextBar.enter().append("path").attr("class",t.classBar.bind(t)).style("stroke","none").style("fill",t.color),t.contextBar.style("opacity",t.initialOpacity.bind(t)),t.contextBar.exit().transition().duration(e).style("opacity",0).remove()},F.redrawBarForSubchart=function(e,t,a){(t?this.contextBar.transition(Math.random().toString()).duration(a):this.contextBar).attr("d",e).style("opacity",1)},F.updateLineForSubchart=function(e){var t=this;t.contextLine=t.context.selectAll("."+g.lines).selectAll("."+g.line).data(t.lineData.bind(t)),t.contextLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.contextLine.style("opacity",t.initialOpacity.bind(t)),t.contextLine.exit().transition().duration(e).style("opacity",0).remove()},F.redrawLineForSubchart=function(e,t,a){(t?this.contextLine.transition(Math.random().toString()).duration(a):this.contextLine).attr("d",e).style("opacity",1)},F.updateAreaForSubchart=function(e){var t=this,a=t.d3;t.contextArea=t.context.selectAll("."+g.areas).selectAll("."+g.area).data(t.lineData.bind(t)),t.contextArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+a.select(this).style("opacity"),0}),t.contextArea.style("opacity",0),t.contextArea.exit().transition().duration(e).style("opacity",0).remove()},F.redrawAreaForSubchart=function(e,t,a){(t?this.contextArea.transition(Math.random().toString()).duration(a):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},F.redrawSubchart=function(e,t,a,n,i,r,o){var s=this,d=s.d3,l=s.config,c,g,p;s.context.style("visibility",l.subchart_show?"visible":"hidden"),l.subchart_show&&(d.event&&"zoom"===d.event.type&&s.brush.extent(s.x.orgDomain()).update(),e&&(!s.brush.empty()&&s.brush.extent(s.x.orgDomain()).update(),c=s.generateDrawArea(i,!0),g=s.generateDrawBar(r,!0),p=s.generateDrawLine(o,!0),s.updateBarForSubchart(a),s.updateLineForSubchart(a),s.updateAreaForSubchart(a),s.redrawBarForSubchart(g,a,a),s.redrawLineForSubchart(p,a,a),s.redrawAreaForSubchart(c,a,a)))},F.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},F.transformContext=function(e,t){var a=this,n;t&&t.axisSubX?n=t.axisSubX:(n=a.context.select("."+g.axisX),e&&(n=n.transition())),a.context.attr("transform",a.getTranslate("context")),n.attr("transform",a.getTranslate("subx"))},F.getDefaultExtent=function(){var e=this,t=e.config,a=f(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(a=[e.parseDate(a[0]),e.parseDate(a[1])]),a},F.initText=function(){var e=this;e.main.select("."+g.chart).append("g").attr("class",g.chartTexts),e.mainText=e.d3.selectAll([])},F.updateTargetsForText=function(e){var t=this,a=t.classChartText.bind(t),n=t.classTexts.bind(t),i=t.classFocus.bind(t),r,o;r=t.main.select("."+g.chartTexts).selectAll("."+g.chartText).data(e).attr("class",function(e){return a(e)+i(e)}),o=r.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),o.append("g").attr("class",n)},F.updateText=function(e){var t=this,a=t.config,n=t.barOrLineData.bind(t),i=t.classText.bind(t);t.mainText=t.main.selectAll("."+g.texts).selectAll("."+g.text).data(n),t.mainText.enter().append("text").attr("class",i).attr("text-anchor",function(e){return a.axis_rotated?0>e.value?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return t.color(e)}).style("fill-opacity",0),t.mainText.text(function(e,a,n){return t.dataLabelFormat(e.id)(e.value,e.id,a,n)}),t.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},F.redrawText=function(e,t,a,n){return[(n?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",a?0:this.opacityForText.bind(this))]},F.getTextRect=function(e,t,a){var n=this.d3.select("body").append("div").classed("c3",!0),i=n.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),r=this.d3.select(a).style("font"),o;return i.selectAll(".dummy").data([e]).enter().append("text").classed(t?t:"",!0).style("font",r).text(e).each(function(){o=this.getBoundingClientRect()}),n.remove(),o},F.generateXYForText=function(e,t,a,n){var r=this,o=r.generateGetAreaPoints(e,!1),s=r.generateGetBarPoints(t,!1),l=r.generateGetLinePoints(a,!1),c=n?r.getXForText:r.getYForText;return function(e,t){var a=r.isAreaType(e)?o:r.isBarType(e)?s:l;return c.call(r,a(e,t),e,this)}},F.getXForText=function(e,t,a){var n=this,i=a.getBoundingClientRect(),r,o;return n.config.axis_rotated?(o=n.isBarType(t)?4:6,r=e[2][1]+o*(0>t.value?-1:1)):r=n.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(r>n.width?r=n.width-i.width:0>r&&(r=4)),r},F.getYForText=function(e,t,a){var n=this,i=a.getBoundingClientRect(),r;return n.config.axis_rotated?r=(e[0][0]+e[2][0]+0.6*i.height)/2:(r=e[2][1],0>t.value||0===t.value&&!n.hasPositiveValue?(r+=i.height,n.isBarType(t)&&n.isSafari()?r-=3:!n.isBarType(t)&&n.isChrome()&&(r+=3)):r+=n.isBarType(t)?-3:-6),null!==t.value||n.config.axis_rotated||(r<i.height?r=i.height:r>this.height&&(r=this.height-4)),r},F.initTitle=function(){var e=this;e.title=e.svg.append("text").text(e.config.title_text).attr("class",e.CLASS.title)},F.redrawTitle=function(){var e=this;e.title.attr("x",e.xForTitle.bind(e)).attr("y",e.yForTitle.bind(e))},F.xForTitle=function(){var e=this,t=e.config,a=t.title_position||"left",n;return n=0<=a.indexOf("right")?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-t.title_padding.right:0<=a.indexOf("center")?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:t.title_padding.left,n},F.yForTitle=function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},F.getTitlePadding=function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom},F.initTooltip=function(){var e=this,t=e.config,a;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",g.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),t.tooltip_init_show){if(e.isTimeSeries()&&b(t.tooltip_init_x)){for(t.tooltip_init_x=e.parseDate(t.tooltip_init_x),a=0;a<e.data.targets[0].values.length&&0!=e.data.targets[0].values[a].x-t.tooltip_init_x;a++);t.tooltip_init_x=a}e.tooltip.html(t.tooltip_contents.call(e,e.data.targets.map(function(a){return e.addName(a.values[t.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",t.tooltip_init_position.top).style("left",t.tooltip_init_position.left).style("display","block")}},F.getTooltipSortFunction=function(){var e=this,t=e.config;if(0===t.data_groups.length||void 0!==t.tooltip_order){var n=t.tooltip_order;void 0===n&&(n=t.data_order);var i=function(e){return e?e.value:null};if(b(n)&&"asc"===n.toLowerCase())return function(e,t){return i(e)-i(t)};if(b(n)&&"desc"===n.toLowerCase())return function(e,t){return i(t)-i(e)};if(f(n)){var a=n;return void 0===t.tooltip_order&&(a=function(e,t){return n(e?{id:e.id,values:[e]}:null,t?{id:t.id,values:[t]}:null)}),a}if(S(n))return function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)}}else{var r=e.orderTargets(e.data.targets).map(function(e){return e.id});return(e.isOrderAsc()||e.isOrderDesc())&&(r=r.reverse()),function(e,t){return r.indexOf(e.id)-r.indexOf(t.id)}}},F.getTooltipContent=function(e,t,a,n){var r=this,o=r.config,s=o.tooltip_format_title||t,d=o.tooltip_format_name||function(e){return e},l=o.tooltip_format_value||a,c=this.getTooltipSortFunction(),g,p,i,h,u,x;for(c&&e.sort(c),p=0;p<e.length;p++)if(e[p]&&(e[p].value||0===e[p].value)&&(g||(i=V(s?s(e[p].x):e[p].x),g="<table class='"+r.CLASS.tooltip+"'>"+(i||0===i?"<tr><th colspan='2'>"+i+"</th></tr>":"")),h=V(l(e[p].value,e[p].ratio,e[p].id,e[p].index,e)),void 0!==h)){if(null===e[p].name)continue;u=V(d(e[p].name,e[p].ratio,e[p].id,e[p].index)),x=r.levelColor?r.levelColor(e[p].value):n(e[p].id),g+="<tr class='"+r.CLASS.tooltipName+"-"+r.getTargetSelectorSuffix(e[p].id)+"'>",g+="<td class='name'><span style='background-color:"+x+"'></span>"+u+"</td>",g+="<td class='value'>"+h+"</td>",g+="</tr>"}return g+"</table>"},F.tooltipPosition=function(e,t,a,n){var i=this,r=i.config,o=i.d3,s=i.hasArcType(),d=o.mouse(n),l,c,g,p,h;return s?(c=(i.width-(i.isLegendRight?i.getLegendWidth():0))/2+d[0],p=i.height/2+d[1]+20):(l=i.getSvgLeft(!0),r.axis_rotated?(c=l+d[0]+100,g=c+t,h=i.currentWidth-i.getCurrentPaddingRight(),p=i.x(e[0].x)+20):(c=l+i.getCurrentPaddingLeft(!0)+i.x(e[0].x)+20,g=c+t,h=l+i.currentWidth-i.getCurrentPaddingRight(),p=d[1]+15),g>h&&(c-=g-h+20),p+a>i.currentHeight&&(p-=a+30)),0>p&&(p=0),{top:p,left:c}},F.showTooltip=function(e,t){var a=this,n=a.config,i=a.hasArcType(),r=e.filter(function(e){return e&&m(e.value)}),o=n.tooltip_position||F.tooltipPosition,s,d,l;0!==r.length&&n.tooltip_show&&(a.tooltip.html(n.tooltip_contents.call(a,e,a.axis.getXAxisTickFormat(),a.getYFormat(i),a.color)).style("display","block"),s=a.tooltip.property("offsetWidth"),d=a.tooltip.property("offsetHeight"),l=o.call(this,r,s,d,t),a.tooltip.style("top",l.top+"px").style("left",l.left+"px"))},F.hideTooltip=function(){this.tooltip.style("display","none")},F.setTargetType=function(e,t){var a=this,n=a.config;a.mapToTargetIds(e).forEach(function(e){a.withoutFadeIn[e]=t===n.data_types[e],n.data_types[e]=t}),e||(n.data_type=t)},F.hasType=function(e,t){var a=this,n=a.config.data_types,i=!1;return t=t||a.data.targets,t&&t.length?t.forEach(function(a){var r=n[a.id];(r&&0<=r.indexOf(e)||!r&&"line"===e)&&(i=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(t){n[t]===e&&(i=!0)}):i=a.config.data_type===e,i},F.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},F.isLineType=function(e){var t=this.config,a=b(e)?e:e.id;return!t.data_types[a]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[a])},F.isStepType=function(e){var t=b(e)?e:e.id;return 0<=["step","area-step"].indexOf(this.config.data_types[t])},F.isSplineType=function(e){var t=b(e)?e:e.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[t])},F.isAreaType=function(e){var t=b(e)?e:e.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[t])},F.isBarType=function(e){var t=b(e)?e:e.id;return"bar"===this.config.data_types[t]},F.isScatterType=function(e){var t=b(e)?e:e.id;return"scatter"===this.config.data_types[t]},F.isPieType=function(e){var t=b(e)?e:e.id;return"pie"===this.config.data_types[t]},F.isGaugeType=function(e){var t=b(e)?e:e.id;return"gauge"===this.config.data_types[t]},F.isDonutType=function(e){var t=b(e)?e:e.id;return"donut"===this.config.data_types[t]},F.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},F.lineData=function(e){return this.isLineType(e)?[e]:[]},F.arcData=function(e){return this.isArcType(e.data)?[e]:[]},F.barData=function(e){return this.isBarType(e)?e.values:[]},F.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},F.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},F.isInterpolationType=function(e){return 0<=["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(e)},F.isSafari=function(){var e=window.navigator.userAgent;return 0<=e.indexOf("Safari")&&0>e.indexOf("Chrome")},F.isChrome=function(){var e=window.navigator.userAgent;return 0<=e.indexOf("Chrome")},F.initZoom=function(){var e=this,t=e.d3,a=e.config,n;e.zoom=t.behavior.zoom().on("zoomstart",function(){n=t.event.sourceEvent,e.zoom.altDomain=t.event.sourceEvent.altKey?e.x.orgDomain():null,a.zoom_onzoomstart.call(e.api,t.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var i=t.event.sourceEvent;i&&n.clientX===i.clientX&&n.clientY===i.clientY||(e.redrawEventRect(),e.updateZoom(),a.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(e){return a.axis_rotated?this.y(e):this.x(e)},e.zoom.orgScaleExtent=function(){var t=a.zoom_extent?a.zoom_extent:[1,10];return[t[0],c(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=C(e.x.orgDomain())/C(e.getZoomDomain()),a=this.orgScaleExtent();return this.scaleExtent([a[0]*t,a[1]*t]),this}},F.getZoomDomain=function(){var e=this,t=e.config,a=e.d3,n=a.min([e.orgXDomain[0],t.zoom_x_min]),i=a.max([e.orgXDomain[1],t.zoom_x_max]);return[n,i]},F.updateZoom=function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};e.main.select("."+g.zoomRect).call(t).on("dblclick.zoom",null),e.main.selectAll("."+g.eventRect).call(t).on("dblclick.zoom",null)},F.redrawForZoom=function(){var e=this,t=e.d3,a=e.config,n=e.zoom,i=e.x;return a.zoom_enabled?0===e.filterTargetsToShow(e.data.targets).length?void 0:"mousemove"===t.event.sourceEvent.type&&n.altDomain?(i.domain(n.altDomain),void n.scale(i).updateScaleExtent()):void(e.isCategorized()&&i.orgDomain()[0]===e.orgXDomain[0]&&i.domain([e.orgXDomain[0]-1e-10,i.orgDomain()[1]]),e.redraw({withTransition:!1,withY:a.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),a.zoom_onzoom.call(e.api,i.orgDomain())):void 0},D})},function(e,t,a){var o=Math.cos,g=Math.sqrt,c=Math.pow,S=Math.sin,n=Math.PI,i=Math.abs,s=Math.round,f=Math.min,T=Math.max,r=Math.floor,d=Math.ceil,l,p;!function(){function h(e){return e&&(e.ownerDocument||e.document||e).documentElement}function u(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function b(e){return null===e?NaN:+e}function v(e){return!isNaN(e)}function x(e){return{left:function(t,a,n,i){for(3>arguments.length&&(n=0),4>arguments.length&&(i=t.length);n<i;){var r=n+i>>>1;0>e(t[r],a)?n=r+1:i=r}return n},right:function(t,a,n,i){for(3>arguments.length&&(n=0),4>arguments.length&&(i=t.length);n<i;){var r=n+i>>>1;0<e(t[r],a)?i=r:n=r+1}return n}}}function A(e){return e.length}function m(e){for(var t=1;e*t%1;)t*=10;return t}function P(e,t){for(var a in t)Object.defineProperty(e.prototype,a,{value:t[a],enumerable:!1})}function C(){this._=Object.create(null)}function w(e){return(e+="")==Co||e[0]===wo?wo+e:e}function L(e){return(e+="")[0]===wo?e.slice(1):e}function k(e){return w(e)in this._}function E(e){return(e=w(e))in this._&&delete this._[e]}function V(){var e=[];for(var t in this._)e.push(L(t));return e}function I(){var e=0;for(var t in this._)++e;return e}function G(){for(var e in this._)return!1;return!0}function R(){this._=Object.create(null)}function O(e){return e}function D(e,t,a){return function(){var n=a.apply(t,arguments);return n===t?e:n}}function z(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var a=0,i=Lo.length,n;a<i;++a)if(n=Lo[a]+t,n in e)return n}function F(){}function M(){}function X(e){function t(){for(var t=a,r=-1,i=t.length,n;++r<i;)(n=t[r].on)&&n.apply(this,arguments);return e}var a=[],n=new C;return t.on=function(t,r){var o=n.get(t),s;return 2>arguments.length?o&&o.on:(o&&(o.on=null,a=a.slice(0,s=a.indexOf(o)).concat(a.slice(s+1)),n.remove(t)),r&&a.push(n.set(t,{on:r})),e)},t}function H(){_o.event.preventDefault()}function j(){for(var t=_o.event,e;e=t.sourceEvent;)t=e;return t}function B(e){for(var t=new M,a=0,i=arguments.length;++a<i;)t[arguments[a]]=X(t);return t.of=function(a,n){return function(i){try{var r=i.sourceEvent=_o.event;i.target=e,_o.event=i,t[i.type].apply(a,n)}finally{_o.event=r}}},t}function N(e){return Eo(e,Ro),e}function Y(e){return"function"==typeof e?e:function(){return Vo(e,this)}}function U(e){return"function"==typeof e?e:function(){return Io(e,this)}}function W(e,t){return e=_o.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var a=t.apply(this,arguments);null==a?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}:function(){var a=t.apply(this,arguments);null==a?this.removeAttribute(e):this.setAttribute(e,a)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function q(e){return e.trim().replace(/\s+/g," ")}function Q(e){return new RegExp("(?:^|\\s+)"+_o.requote(e)+"(?:\\s+|$)","g")}function Z(e){return(e+"").trim().split(/^|\s+/)}function K(e,t){e=Z(e).map($);var a=e.length;return"function"==typeof t?function(){for(var n=-1,i=t.apply(this,arguments);++n<a;)e[n](this,i)}:function(){for(var n=-1;++n<a;)e[n](this,t)}}function $(e){var t=Q(e);return function(a,n){if(i=a.classList)return n?i.add(e):i.remove(e);var i=a.getAttribute("class")||"";n?(t.lastIndex=0,!t.test(i)&&a.setAttribute("class",q(i+" "+e))):a.setAttribute("class",q(i.replace(t," ")))}}function J(e,t,a){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,a)}:function(){this.style.setProperty(e,t,a)}}function ee(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var a=t.apply(this,arguments);null==a?delete this[e]:this[e]=a}:function(){this[e]=t}}function te(e){return"function"==typeof e?e:(e=_o.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,a=this.namespaceURI;return a===Oo&&t.documentElement.namespaceURI===Oo?t.createElement(e):t.createElementNS(a,e)}}function ae(){var e=this.parentNode;e&&e.removeChild(this)}function ne(e){return{__data__:e}}function ie(e){return function(){return Go(this,e)}}function re(e){return arguments.length||(e=y),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function oe(e,t){for(var a=0,r=e.length;a<r;a++)for(var o=e[a],s=0,i=o.length,n;s<i;s++)(n=o[s])&&t(n,s,a);return e}function se(e){return Eo(e,zo),e}function de(e){var t,a;return function(r,o,i){var s=e[i].update,d=s.length,n;for(i!=a&&(a=i,t=0),o>=t&&(t=o+1);!(n=s[t])&&++t<d;);return n}}function le(e,t,a){function n(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}var r="__on"+e,o=e.indexOf("."),i=ce;0<o&&(e=e.slice(0,o));var s=Fo.get(e);return s&&(e=s,i=ge),o?t?function(){var o=i(t,yo(arguments));n.call(this),this.addEventListener(e,this[r]=o,o.$=a),o._=t}:n:t?F:function(){var t=new RegExp("^__on([^.]+)"+_o.requote(e)+"$"),a;for(var n in this)if(a=n.match(t)){var i=this[n];this.removeEventListener(a[1],i,i.$),delete this[n]}}}function ce(e,t){return function(a){var n=_o.event;_o.event=a,t[0]=this.__data__;try{e.apply(this,t)}finally{_o.event=n}}}function ge(e,t){var a=ce(e,t);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||a.call(e,t)}}function pe(e){var t=".dragsuppress-"+ ++Mo,a="click"+t,n=_o.select(u(e)).on("touchmove"+t,H).on("dragstart"+t,H).on("selectstart"+t,H);if(null==Xo&&(Xo=!("onselectstart"in e)&&z(e.style,"userSelect")),Xo){var i=h(e).style,r=i[Xo];i[Xo]="none"}return function(e){if(n.on(t,null),Xo&&(i[Xo]=r),e){var o=function(){n.on(a,null)};n.on(a,function(){H(),o()},!0),setTimeout(o,0)}}}function he(t,a){a.changedTouches&&(a=a.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var n=e.createSVGPoint();if(0>Ho){var i=u(t);if(i.scrollX||i.scrollY){e=_o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=e[0][0].getScreenCTM();Ho=!(r.f||r.e),e.remove()}}return Ho?(n.x=a.pageX,n.y=a.pageY):(n.x=a.clientX,n.y=a.clientY),n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}var o=t.getBoundingClientRect();return[a.clientX-o.left-t.clientLeft,a.clientY-o.top-t.clientTop]}function ue(){return _o.event.changedTouches[0].identifier}function _e(e){return 0<e?1:0>e?-1:0}function xe(e,t,a){return(t[0]-e[0])*(a[1]-e[1])-(t[1]-e[1])*(a[0]-e[0])}function ye(e){return 1<e?0:-1>e?No:uo(e)}function me(e){return 1<e?Uo:-1>e?-Uo:ho(e)}function fe(e){return((e=po(e))-1/e)/2}function Se(e){return((e=po(e))+1/e)/2}function be(e){return((e=po(2*e))-1)/(e+1)}function ve(e){return(e=S(e/2))*e}function Te(){}function Ae(e,t,a){return this instanceof Ae?void(this.h=+e,this.s=+t,this.l=+a):2>arguments.length?e instanceof Ae?new Ae(e.h,e.s,e.l):Fe(""+e,Me,Ae):new Ae(e,t,a)}function Pe(e,t,a){function n(e){return 360<e?e-=360:0>e&&(e+=360),60>e?r+(o-r)*e/60:180>e?o:240>e?r+(o-r)*(240-e)/60:r}function i(e){return s(255*n(e))}var r,o;return e=isNaN(e)?0:0>(e%=360)?e+360:e,t=isNaN(t)?0:0>t?0:1<t?1:t,a=0>a?0:1<a?1:a,o=.5>=a?a*(1+t):a+t-a*t,r=2*a-o,new Re(i(e+120),i(e),i(e-120))}function Ce(e,t,a){return this instanceof Ce?void(this.h=+e,this.c=+t,this.l=+a):2>arguments.length?e instanceof Ce?new Ce(e.h,e.c,e.l):e instanceof Le?Ee(e.l,e.a,e.b):Ee((e=Xe((e=_o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ce(e,t,a)}function we(e,t,a){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Le(a,o(e*=Wo)*t,S(e)*t)}function Le(e,t,n){return this instanceof Le?void(this.l=+e,this.a=+t,this.b=+n):2>arguments.length?e instanceof Le?new Le(e.l,e.a,e.b):e instanceof Ce?we(e.h,e.c,e.l):Xe((e=Re(e)).r,e.g,e.b):new Le(e,t,n)}function ke(e,t,a){var n=(e+16)/116,i=n+t/500,r=n-a/200;return i=Ve(i)*is,n=Ve(n)*rs,r=Ve(r)*os,new Re(Ge(3.2404542*i-1.5371385*n-.4985314*r),Ge(-.969266*i+1.8760108*n+.041556*r),Ge(.0556434*i-.2040259*n+1.0572252*r))}function Ee(e,t,a){return 0<e?new Ce(lo(a,t)*qo,g(t*t+a*a),e):new Ce(NaN,NaN,e)}function Ve(e){return .206893034<e?e*e*e:(e-4/29)/7.787037}function Ie(e){return .008856<e?c(e,1/3):7.787037*e+4/29}function Ge(e){return s(255*(.00304>=e?12.92*e:1.055*c(e,1/2.4)-.055))}function Re(e,t,a){return this instanceof Re?void(this.r=~~e,this.g=~~t,this.b=~~a):2>arguments.length?e instanceof Re?new Re(e.r,e.g,e.b):Fe(""+e,Re,Pe):new Re(e,t,a)}function Oe(e){return new Re(e>>16,255&e>>8,255&e)}function De(e){return Oe(e)+""}function ze(e){return 16>e?"0"+T(0,e).toString(16):f(255,e).toString(16)}function Fe(e,t,a){var n=0,i=0,r=0,o,s,d;if(o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()),o)switch(s=o[2].split(","),o[1]){case"hsl":return a(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case"rgb":return t(je(s[0]),je(s[1]),je(s[2]));}return(d=ls.get(e))?t(d.r,d.g,d.b):(null==e||"#"!==e.charAt(0)||isNaN(d=parseInt(e.slice(1),16))||(4===e.length?(n=(3840&d)>>4,n=n>>4|n,i=240&d,i=i>>4|i,r=15&d,r=r<<4|r):7===e.length&&(n=(16711680&d)>>16,i=(65280&d)>>8,r=255&d)),t(n,i,r))}function Me(e,t,a){var n=f(e/=255,t/=255,a/=255),i=T(e,t,a),r=i-n,o=(i+n)/2,d,l;return r?(l=.5>o?r/(i+n):r/(2-i-n),d=e==i?(t-a)/r+(t<a?6:0):t==i?(a-e)/r+2:(e-t)/r+4,d*=60):(d=NaN,l=0<o&&1>o?0:d),new Ae(d,l,o)}function Xe(e,t,a){e=He(e),t=He(t),a=He(a);var n=Ie((.4124564*e+.3575761*t+.1804375*a)/is),i=Ie((.2126729*e+.7151522*t+.072175*a)/rs),r=Ie((.0193339*e+.119192*t+.9503041*a)/os);return Le(116*i-16,500*(n-i),200*(i-r))}function He(e){return .04045>=(e/=255)?e/12.92:c((e+.055)/1.055,2.4)}function je(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?s(2.55*t):t}function Be(e){return"function"==typeof e?e:function(){return e}}function Ne(e){return function(t,a,n){return 2===arguments.length&&"function"==typeof a&&(n=a,a=null),Ye(t,a,e,n)}}function Ye(e,t,a,n){function i(){var e=d.status,t;if(!e&&We(d)||200<=e&&300>e||304===e){try{t=a.call(r,d)}catch(t){return void o.error.call(r,t)}o.load.call(r,t)}else o.error.call(r,d)}var r={},o=_o.dispatch("beforesend","progress","load","error"),s={},d=new XMLHttpRequest,l=null;return this.XDomainRequest&&!("withCredentials"in d)&&/^(http(s)?:)?\/\//.test(e)&&(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=i:d.onreadystatechange=function(){3<d.readyState&&i()},d.onprogress=function(e){var t=_o.event;_o.event=e;try{o.progress.call(r,d)}finally{_o.event=t}},r.header=function(e,t){return(e=(e+"").toLowerCase(),2>arguments.length)?s[e]:(null==t?delete s[e]:s[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(l=e,r):l},r.response=function(e){return a=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(yo(arguments)))}}),r.send=function(a,n,i){if(2===arguments.length&&"function"==typeof n&&(i=n,n=null),d.open(a,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),d.setRequestHeader)for(var c in s)d.setRequestHeader(c,s[c]);return null!=t&&d.overrideMimeType&&d.overrideMimeType(t),null!=l&&(d.responseType=l),null!=i&&r.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(r,d),d.send(null==n?null:n),r},r.abort=function(){return d.abort(),r},_o.rebind(r,o,"on"),null==n?r:r.get(Ue(n))}function Ue(e){return 1===e.length?function(t,a){e(null==t?a:null)}:e}function We(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function qe(e,t,a){var i=arguments.length;2>i&&(t=0),3>i&&(a=Date.now());var n=a+t,r={c:e,t:n,n:null};return ps?ps.n=r:gs=r,ps=r,hs||(us=clearTimeout(us),hs=1,cs(Qe)),r}function Qe(){var e=Ze(),t=Ke()-e;24<t?(isFinite(t)&&(clearTimeout(us),us=setTimeout(Qe,t)),hs=0):(hs=1,cs(Qe))}function Ze(){for(var e=Date.now(),t=gs;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Ke(){for(var e=gs,t=Infinity,a;e;)e.c?(e.t<t&&(t=e.t),e=(a=e).n):e=a?a.n=e.n:gs=e.n;return ps=a,t}function $e(e,t){return t-(e?d(go(e)/so):1)}function Je(e){var t=e.decimal,a=e.thousands,n=e.grouping,i=e.currency,r=n&&a?function(e,r){for(var o=e.length,i=[],t=0,s=n[0],d=0;0<o&&0<s&&(d+s+1>r&&(s=T(1,r-d)),i.push(e.substring(o-=s,o+s)),!((d+=s+1)>r));)s=n[t=(t+1)%n.length];return i.reverse().join(a)}:O;return function(e){var a=xs.exec(e),n=a[1]||" ",o=a[2]||">",s=a[3]||"-",d=a[4]||"",l=a[5],c=+a[6],g=a[7],p=a[8],h=a[9],u=1,x="",y="",m=!1,S=!0;switch(p&&(p=+p.substring(1)),(l||"0"===n&&"="===o)&&(l=n="0",o="="),h){case"n":g=!0,h="g";break;case"%":u=100,y="%",h="f";break;case"p":u=100,y="%",h="r";break;case"b":case"o":case"x":case"X":"#"===d&&(x="0"+h.toLowerCase());case"c":S=!1;case"d":m=!0,p=0;break;case"s":u=-1,h="r";}"$"===d&&(x=i[0],y=i[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=T(1,f(21,p)):("e"==h||"f"==h)&&(p=T(0,f(20,p)))),h=ys.get(h)||et;var b=l&&g;return function(e){var a=y;if(m&&e%1)return"";var d=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>u){var f=_o.formatPrefix(e,p);e=f.scale(e),a=f.symbol+y}else e*=u;e=h(e,p);var v=e.lastIndexOf("."),i,T;if(0>v){var A=S?e.lastIndexOf("e"):-1;0>A?(i=e,T=""):(i=e.substring(0,A),T=e.substring(A))}else i=e.substring(0,v),T=t+e.substring(v+1);!l&&g&&(i=r(i,Infinity));var P=x.length+i.length+T.length+(b?0:d.length),C=P<c?Array(P=c-P+1).join(n):"";return b&&(i=r(C+i,C.length?c-T.length:Infinity)),d+=x,e=i+T,("<"===o?d+e+C:">"===o?C+d+e:"^"===o?C.substring(0,P>>=1)+d+e+C.substring(P):d+(b?e:C+e))+a}}}function et(e){return e+""}function tt(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function at(e,t,a){function n(t){var a=e(t),n=r(a,1);return t-a<n-t?a:n}function i(a){return t(a=e(new fs(a-1)),1),a}function r(e,a){return t(e=new fs(+e),a),e}function o(e,n,r){var o=i(e),s=[];if(1<r)for(;o<n;)a(o)%r||s.push(new Date(+o)),t(o,1);else for(;o<n;)s.push(new Date(+o)),t(o,1);return s}e.floor=e,e.round=n,e.ceil=i,e.offset=r,e.range=o;var s=e.utc=nt(e);return s.floor=s,s.round=nt(n),s.ceil=nt(i),s.offset=nt(r),s.range=function(e,t,a){try{fs=tt;var n=new tt;return n._=e,o(n,t,a)}finally{fs=Date}},e}function nt(e){return function(t,a){try{fs=tt;var n=new tt;return n._=t,e(n,a)._}finally{fs=Date}}}function it(e){function t(e){function t(t){for(var a=[],n=-1,i=0,o,s,d;++n<r;)37===e.charCodeAt(n)&&(a.push(e.slice(i,n)),null!=(s=bs[o=e.charAt(++n)])&&(o=e.charAt(++n)),(d=b[o])&&(o=d(t,null==s?"e"===o?" ":"0":s)),a.push(o),i=n+1);return a.push(e.slice(i,n)),a.join("")}var r=e.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=a(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&fs!==tt,o=new(i?tt:fs);return"j"in n?o.setFullYear(n.y,0,n.j):"W"in n||"U"in n?(!("w"in n)&&(n.w="W"in n?1:0),o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(0|n.Z/100),n.M+n.Z%100,n.S,n.L),i?o._:o},t.toString=function(){return e},t}function a(e,a,r,o){for(var s=0,i=a.length,n=r.length,d,l,c;s<i;){if(o>=n)return-1;if(d=a.charCodeAt(s++),37===d){if(c=a.charAt(s++),l=v[c in bs?a.charAt(s++):c],!l||0>(o=l(e,r,o)))return-1;}else if(d!=r.charCodeAt(o++))return-1}return o}var n=e.dateTime,i=e.date,r=e.time,o=e.periods,s=e.days,l=e.shortDays,c=e.months,g=e.shortMonths;t.utc=function(e){function a(e){try{fs=tt;var t=new fs;return t._=e,n(t)}finally{fs=Date}}var n=t(e);return a.parse=function(e){try{fs=tt;var t=n.parse(e);return t&&t._}finally{fs=Date}},a.toString=n.toString,a},t.multi=t.utc.multi=At;var d=_o.map(),p=ot(s),h=st(s),u=ot(l),x=st(l),y=ot(c),m=st(c),f=ot(g),S=st(g);o.forEach(function(e,t){d.set(e.toLowerCase(),t)});var b={a:function(e){return l[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return g[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:t(n),d:function(e,t){return rt(e.getDate(),t,2)},e:function(e,t){return rt(e.getDate(),t,2)},H:function(e,t){return rt(e.getHours(),t,2)},I:function(e,t){return rt(e.getHours()%12||12,t,2)},j:function(e,t){return rt(1+ms.dayOfYear(e),t,3)},L:function(e,t){return rt(e.getMilliseconds(),t,3)},m:function(e,t){return rt(e.getMonth()+1,t,2)},M:function(e,t){return rt(e.getMinutes(),t,2)},p:function(e){return o[+(12<=e.getHours())]},S:function(e,t){return rt(e.getSeconds(),t,2)},U:function(e,t){return rt(ms.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return rt(ms.mondayOfYear(e),t,2)},x:t(i),X:t(r),y:function(e,t){return rt(e.getFullYear()%100,t,2)},Y:function(e,t){return rt(e.getFullYear()%1e4,t,4)},Z:vt,"%":function(){return"%"}},v={a:function(e,t,a){u.lastIndex=0;var i=u.exec(t.slice(a));return i?(e.w=x.get(i[0].toLowerCase()),a+i[0].length):-1},A:function(e,t,a){p.lastIndex=0;var i=p.exec(t.slice(a));return i?(e.w=h.get(i[0].toLowerCase()),a+i[0].length):-1},b:function(e,t,a){f.lastIndex=0;var i=f.exec(t.slice(a));return i?(e.m=S.get(i[0].toLowerCase()),a+i[0].length):-1},B:function(e,t,a){y.lastIndex=0;var i=y.exec(t.slice(a));return i?(e.m=m.get(i[0].toLowerCase()),a+i[0].length):-1},c:function(e,t,n){return a(e,b.c.toString(),t,n)},d:xt,e:xt,H:mt,I:mt,j:yt,L:bt,m:_t,M:ft,p:function(e,t,a){var i=d.get(t.slice(a,a+=2).toLowerCase());return null==i?-1:(e.p=i,a)},S:St,U:lt,w:dt,W:ct,x:function(e,t,n){return a(e,b.x.toString(),t,n)},X:function(e,t,n){return a(e,b.X.toString(),t,n)},y:pt,Y:gt,Z:ht,"%":Tt};return t}function rt(e,t,a){var n=0>e?"-":"",i=(n?-e:e)+"",r=i.length;return n+(r<a?Array(a-r+1).join(t)+i:i)}function ot(e){return new RegExp("^(?:"+e.map(_o.requote).join("|")+")","i")}function st(e){for(var t=new C,a=-1,i=e.length;++a<i;)t.set(e[a].toLowerCase(),a);return t}function dt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+1));return i?(e.w=+i[0],a+i[0].length):-1}function lt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a));return i?(e.U=+i[0],a+i[0].length):-1}function ct(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a));return i?(e.W=+i[0],a+i[0].length):-1}function gt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+4));return i?(e.y=+i[0],a+i[0].length):-1}function pt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+2));return i?(e.y=ut(+i[0]),a+i[0].length):-1}function ht(e,t,a){return /^[+-]\d{4}$/.test(t=t.slice(a,a+5))?(e.Z=-t,a+5):-1}function ut(e){return e+(68<e?1900:2e3)}function _t(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+2));return i?(e.m=i[0]-1,a+i[0].length):-1}function xt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+2));return i?(e.d=+i[0],a+i[0].length):-1}function yt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+3));return i?(e.j=+i[0],a+i[0].length):-1}function mt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+2));return i?(e.H=+i[0],a+i[0].length):-1}function ft(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+2));return i?(e.M=+i[0],a+i[0].length):-1}function St(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+2));return i?(e.S=+i[0],a+i[0].length):-1}function bt(e,t,a){vs.lastIndex=0;var i=vs.exec(t.slice(a,a+3));return i?(e.L=+i[0],a+i[0].length):-1}function vt(e){var t=e.getTimezoneOffset(),a=0<t?"-":"+",n=0|Po(t)/60,i=Po(t)%60;return a+rt(n,"0",2)+rt(i,"0",2)}function Tt(e,t,a){Ts.lastIndex=0;var i=Ts.exec(t.slice(a,a+1));return i?a+i[0].length:-1}function At(e){for(var t=e.length,a=-1;++a<t;)e[a][0]=this(e[a][0]);return function(t){for(var a=0,n=e[a];!n[1](t);)n=e[++a];return n[0](t)}}function Pt(){}function Ct(e,t,a){var n=a.s=e+t,i=n-e;a.t=e-(n-i)+(t-i)}function wt(e,t){e&&ws.hasOwnProperty(e.type)&&ws[e.type](e,t)}function Lt(e,t,a){var r=-1,i=e.length-a,n;for(t.lineStart();++r<i;)n=e[r],t.point(n[0],n[1],n[2]);t.lineEnd()}function kt(e,t){var a=-1,i=e.length;for(t.polygonStart();++a<i;)Lt(e[a],t,1);t.polygonEnd()}function Et(){function e(e,t){e*=Wo,t=t*Wo/2+No/4;var a=e-n,s=0<=a?1:-1,d=s*a,l=o(t),c=S(t),g=r*c,p=i*l+g*o(d),h=g*s*S(d);Ls.add(lo(h,p)),n=e,i=l,r=c}var t,a,n,i,r;ks.point=function(s,d){ks.point=e,n=(t=s)*Wo,i=o(d=(a=d)*Wo/2+No/4),r=S(d)},ks.lineEnd=function(){e(t,a)}}function Vt(e){var t=e[0],a=e[1],n=o(a);return[n*o(t),n*S(t),S(a)]}function It(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Gt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Rt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ot(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Dt(e){var t=g(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function zt(e){return[lo(e[1],e[0]),me(e[2])]}function Ft(e,t){return Po(e[0]-t[0])<jo&&Po(e[1]-t[1])<jo}function Mt(e,t){e*=Wo;var a=o(t*=Wo);Xt(a*o(e),a*S(e),S(t))}function Xt(e,t,a){++Rs,Ds+=(e-Ds)/Rs,zs+=(t-zs)/Rs,Fs+=(a-Fs)/Rs}function Ht(){function e(e,i){e*=Wo;var r=o(i*=Wo),s=r*o(e),d=r*S(e),l=S(i),c=lo(g((c=a*l-n*d)*c+(c=n*s-t*l)*c+(c=t*d-a*s)*c),t*s+a*d+n*l);Os+=c,Ms+=c*(t+(t=s)),Xs+=c*(a+(a=d)),Hs+=c*(n+(n=l)),Xt(t,a,n)}var t,a,n;Vs.point=function(i,r){i*=Wo;var s=o(r*=Wo);t=s*o(i),a=s*S(i),n=S(r),Vs.point=e,Xt(t,a,n)}}function jt(){Vs.point=Mt}function Bt(){function e(e,t){e*=Wo;var a=o(t*=Wo),s=a*o(e),d=a*S(e),l=S(t),c=i*l-r*d,p=r*s-n*l,h=n*d-i*s,x=g(c*c+p*p+h*h),y=n*s+i*d+r*l,u=x&&-ye(y)/x,m=lo(x,y);js+=u*c,Bs+=u*p,Ns+=u*h,Os+=m,Ms+=m*(n+(n=s)),Xs+=m*(i+(i=d)),Hs+=m*(r+(r=l)),Xt(n,i,r)}var t,a,n,i,r;Vs.point=function(s,d){t=s,a=d,Vs.point=e,s*=Wo;var l=o(d*=Wo);n=l*o(s),i=l*S(s),r=S(d),Xt(n,i,r)},Vs.lineEnd=function(){e(t,a),Vs.lineEnd=jt,Vs.point=Mt}}function Nt(e,t){function a(a,n){return a=e(a,n),t(a[0],a[1])}return e.invert&&t.invert&&(a.invert=function(a,n){return a=t.invert(a,n),a&&e.invert(a[0],a[1])}),a}function Yt(){return!0}function Ut(e,t,a,r,o){var s=[],d=[];if(e.forEach(function(e){if(!(0>=(l=e.length-1))){var t=e[0],r=e[l],l;if(Ft(t,r)){o.lineStart();for(var n=0;n<l;++n)o.point((t=e[n])[0],t[1]);return void o.lineEnd()}var i=new qt(t,e,null,!0),a=new qt(t,null,i,!1);i.o=a,s.push(i),d.push(a),i=new qt(r,e,null,!1),a=new qt(r,null,i,!0),i.o=a,s.push(i),d.push(a)}}),d.sort(t),Wt(s),Wt(d),!!s.length){for(var l=0,i=a,c=d.length;l<c;++l)d[l].e=i=!i;for(var n=s[0],g,p;;){for(var h=n,u=!0;h.v;)if((h=h.n)===n)return;g=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(u)for(var l=0,c=g.length;l<c;++l)o.point((p=g[l])[0],p[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(u){g=h.p.z;for(var l=g.length-1;0<=l;--l)o.point((p=g[l])[0],p[1])}else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,g=h.z,u=!u}while(!h.v);o.lineEnd()}}}function Wt(e){if(a=e.length){for(var t=0,i=e[0],a,n;++t<a;)i.n=n=e[t],n.p=i,i=n;i.n=n=e[0],n.p=i}}function qt(e,t,a,n){this.x=e,this.z=t,this.o=a,this.e=n,this.v=!1,this.n=this.p=null}function Qt(e,t,a,n){return function(i,r){function o(t,a){var n=i(t,a);e(t=n[0],a=n[1])&&r.point(t,a)}function s(e,t){var a=i(e,t);h.point(a[0],a[1])}function d(){x.point=s,h.lineStart()}function l(){x.point=o,h.lineEnd()}function c(e,t){v.push([e,t]);var a=i(e,t);m.point(a[0],a[1])}function g(){m.lineStart(),v=[]}function p(){c(v[0][0],v[0][1]),m.lineEnd();var e=m.clean(),t=y.buffer(),a=t.length,o;if(v.pop(),b.push(v),v=null,!!a){if(1&e){o=t[0];var a=o.length-1,s=-1,i;if(0<a){for(f||(r.polygonStart(),f=!0),r.lineStart();++s<a;)r.point((i=o[s])[0],i[1]);r.lineEnd()}return}1<a&&2&e&&t.push(t.pop().concat(t.shift())),S.push(t.filter(Zt))}}var h=t(r),u=i.invert(n[0],n[1]),x={point:o,lineStart:d,lineEnd:l,polygonStart:function(){x.point=c,x.lineStart=g,x.lineEnd=p,S=[],b=[]},polygonEnd:function(){x.point=o,x.lineStart=d,x.lineEnd=l,S=_o.merge(S);var e=ea(u,b);S.length?(!f&&(r.polygonStart(),f=!0),Ut(S,$t,e,a,r)):e&&(!f&&(r.polygonStart(),f=!0),r.lineStart(),a(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),S=b=null},sphere:function(){r.polygonStart(),r.lineStart(),a(null,null,1,r),r.lineEnd(),r.polygonEnd()}},y=Kt(),m=t(y),f=!1,S,b,v;return x}}function Zt(e){return 1<e.length}function Kt(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,a){t.push([e,a])},lineEnd:F,buffer:function(){var a=e;return e=[],t=null,a},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function $t(e,t){return(0>(e=e.x)[0]?e[1]-Uo-jo:Uo-e[1])-(0>(t=t.x)[0]?t[1]-Uo-jo:Uo-t[1])}function Jt(e,t,a,n){var i=S(e-a),r,s;return Po(i)>jo?oo((S(t)*(s=o(n))*S(a)-S(n)*(r=o(t))*S(e))/(r*s*i)):(t+n)/2}function ea(e,t){var a=e[0],r=e[1],s=[S(a),-o(a),0],d=0,l=0;Ls.reset();for(var c=0,i=t.length;c<i;++c){var n=t[c],g=n.length;if(g)for(var p=n[0],h=p[0],u=p[1]/2+No/4,x=S(u),y=o(u),m=1;;){m===g&&(m=0),e=n[m];var f=e[0],b=e[1]/2+No/4,v=S(b),T=o(b),A=f-h,P=0<=A?1:-1,C=P*A,w=C>No,L=x*v;if(Ls.add(lo(L*P*S(C),y*T+L*o(C))),d+=w?A+P*Yo:A,w^h>=a^f>=a){var k=Gt(Vt(p),Vt(e));Dt(k);var E=Gt(s,k);Dt(E);var V=(w^0<=A?-1:1)*me(E[2]);(r>V||r===V&&(k[0]||k[1]))&&(l+=w^0<=A?1:-1)}if(!m++)break;h=f,x=v,y=T,p=e}}return(d<-jo||d<jo&&Ls<-jo)^1&l}function ta(e){function a(e,t){return o(e)*o(t)>r}function n(e,a,n){var i=Vt(e),o=Vt(a),s=[1,0,0],d=Gt(i,o),l=It(d,d),c=d[0],p=l-c*c;if(!p)return!n&&e;var h=Gt(s,d),x=Ot(s,r*l/p),y=Ot(d,-r*c/p);Rt(x,y);var m=h,u=It(x,m),f=It(m,m),S=u*u-f*(It(x,x)-1);if(!(0>S)){var b=g(S),t=Ot(m,(-u-b)/f);if(Rt(t,x),t=zt(t),!n)return t;var v=e[0],T=a[0],A=e[1],P=a[1],C;T<v&&(C=v,v=T,T=C);var L=T-v,k=Po(L-No)<jo;if(!k&&P<A&&(C=A,A=P,P=C),k||L<jo?k?0<A+P^t[1]<(Po(t[0]-v)<jo?A:P):A<=t[1]&&t[1]<=P:L>No^(v<=t[0]&&t[0]<=T)){var E=Ot(m,(-u+b)/f);return Rt(E,x),[t,zt(E)]}}}function i(t,a){var n=s?e:No-e,i=0;return t<-n?i|=1:t>n&&(i|=2),a<-n?i|=4:a>n&&(i|=8),i}var r=o(e),s=0<r,d=Po(r)>jo,t=wa(e,6*Wo);return Qt(a,function(e){var r,o,l,g,p;return{lineStart:function(){g=l=!1,p=1},point:function(h,u){var x=[h,u],y=a(h,u),m=s?y?0:i(h,u):y?i(h+(0>h?No:-No),u):0,c;if(!r&&(g=l=y)&&e.lineStart(),y!==l&&(c=n(r,x),(Ft(r,c)||Ft(x,c))&&(x[0]+=jo,x[1]+=jo,y=a(x[0],x[1]))),y!==l)p=0,y?(e.lineStart(),c=n(x,r),e.point(c[0],c[1])):(c=n(r,x),e.point(c[0],c[1]),e.lineEnd()),r=c;else if(d&&r&&s^y){var f;!(m&o)&&(f=n(x,r,!0))&&(p=0,s?(e.lineStart(),e.point(f[0][0],f[0][1]),e.point(f[1][0],f[1][1]),e.lineEnd()):(e.point(f[1][0],f[1][1]),e.lineEnd(),e.lineStart(),e.point(f[0][0],f[0][1])))}!y||r&&Ft(r,x)||e.point(x[0],x[1]),r=x,l=y,o=m},lineEnd:function(){l&&e.lineEnd(),r=null},clean:function(){return p|(g&&l)<<1}}},t,s?[0,-e]:[-No,e-No])}function aa(e,t,a,n){return function(i){var o=i.a,s=i.b,d=o.x,l=o.y,c=s.x,g=s.y,p=0,h=1,u=c-d,x=g-l,y;if(y=e-d,u||!(0<y)){if(y/=u,0>u){if(y<p)return;y<h&&(h=y)}else if(0<u){if(y>h)return;y>p&&(p=y)}if(y=a-d,u||!(0>y)){if(y/=u,0>u){if(y>h)return;y>p&&(p=y)}else if(0<u){if(y<p)return;y<h&&(h=y)}if(y=t-l,x||!(0<y)){if(y/=x,0>x){if(y<p)return;y<h&&(h=y)}else if(0<x){if(y>h)return;y>p&&(p=y)}if(y=n-l,x||!(0>y)){if(y/=x,0>x){if(y>h)return;y>p&&(p=y)}else if(0<x){if(y<p)return;y<h&&(h=y)}return 0<p&&(i.a={x:d+p*u,y:l+p*x}),1>h&&(i.b={x:d+h*u,y:l+h*x}),i}}}}}}function na(e,t,n,i){function r(a,i){return Po(a[0]-e)<jo?0<i?0:3:Po(a[0]-n)<jo?0<i?2:1:Po(a[1]-t)<jo?0<i?1:0:0<i?3:2}function a(e,t){return o(e.x,t.x)}function o(e,t){var a=r(e,1),n=r(t,1);return a===n?0===a?t[1]-e[1]:1===a?e[0]-t[0]:2===a?e[1]-t[1]:t[0]-e[0]:a-n}return function(s){function d(e){for(var t=0,r=S.length,n=e[1],o=0;o<r;++o)for(var i=1,s=S[o],d=s.length,l=s[0],a;i<d;++i)a=s[i],l[1]<=n?a[1]>n&&0<xe(l,a,e)&&++t:a[1]<=n&&0>xe(l,a,e)&&--t,l=a;return 0!=t}function l(s,d,l,c){var g=0,a=0;if(null==s||(g=r(s,l))!==(a=r(d,l))||0>o(s,d)^0<l)do c.point(0==g||3==g?e:n,1<g?i:t);while((g=(g+l+4)%4)!=a);else c.point(d[0],d[1])}function c(a,r){return e<=a&&a<=n&&t<=r&&r<=i}function g(e,t){c(e,t)&&s.point(e,t)}function p(e,t){e=T(-Gs,f(Gs,e)),t=T(-Gs,f(Gs,t));var a=c(e,t);if(S&&b.push([e,t]),E)A=e,P=t,C=a,E=!1,a&&(s.lineStart(),s.point(e,t));else if(a&&k)s.point(e,t);else{var n={a:{x:w,y:L},b:{x:e,y:t}};m(n)?(!k&&(s.lineStart(),s.point(n.a.x,n.a.y)),s.point(n.b.x,n.b.y),!a&&s.lineEnd(),V=!1):a&&(s.lineStart(),s.point(e,t),V=!1)}w=e,L=t,k=a}var h=s,u=Kt(),m=aa(e,t,n,i),x={point:g,lineStart:function(){x.point=p,S&&S.push(b=[]),E=!0,k=!1,w=L=NaN},lineEnd:function(){y&&(p(A,P),C&&k&&u.rejoin(),y.push(u.buffer())),x.point=g,k&&s.lineEnd()},polygonStart:function(){s=u,y=[],S=[],V=!0},polygonEnd:function(){s=h,y=_o.merge(y);var t=d([e,i]),n=V&&t,r=y.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&Ut(y,a,t,l,s),s.polygonEnd()),y=S=b=null}},y,S,b,A,P,C,w,L,k,E,V;return x}}function ia(e){var t=0,a=No/3,n=fa(e),i=n(t,a);return i.parallels=function(e){return arguments.length?n(t=e[0]*No/180,a=e[1]*No/180):[180*(t/No),180*(a/No)]},i}function ra(e,t){function a(e,t){var a=g(n-2*r*S(t))/r;return[a*S(e*=r),s-a*o(e)]}var i=S(e),r=(i+S(t))/2,n=1+i*(2*r-i),s=g(n)/r;return a.invert=function(e,t){var a=s-t;return[lo(e,a)/r,me((n-(e*e+a*a)*r*r)/(2*r))]},a}function oa(){function e(e,t){Qs+=i*e-n*t,n=e,i=t}var t,a,n,i;Ys.point=function(r,o){Ys.point=e,t=n=r,a=i=o},Ys.lineEnd=function(){e(t,a)}}function sa(){function e(e,t){o.push("M",e,",",t,r)}function t(e,t){o.push("M",e,",",t),s.point=a}function a(e,t){o.push("L",e,",",t)}function n(){s.point=e}function i(){o.push("Z")}var r=da(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:n,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=n,s.point=e},pointRadius:function(e){return r=da(e),s},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return s}function da(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function la(e,t){Ds+=e,zs+=t,++Fs}function ca(){function e(e,n){var i=e-t,r=n-a,o=g(i*i+r*r);Ms+=o*(t+e)/2,Xs+=o*(a+n)/2,Hs+=o,la(t=e,a=n)}var t,a;Ws.point=function(n,i){Ws.point=e,la(t=n,a=i)}}function ga(){Ws.point=la}function pa(){function e(e,t){var a=e-n,r=t-i,o=g(a*a+r*r);Ms+=o*(n+e)/2,Xs+=o*(i+t)/2,Hs+=o,o=i*e-n*t,js+=o*(n+e),Bs+=o*(i+t),Ns+=3*o,la(n=e,i=t)}var t,a,n,i;Ws.point=function(r,o){Ws.point=e,la(t=n=r,a=i=o)},Ws.lineEnd=function(){e(t,a)}}function ha(e){function t(t,a){e.moveTo(t+o,a),e.arc(t,a,o,0,Yo)}function a(t,a){e.moveTo(t,a),s.point=n}function n(t,a){e.lineTo(t,a)}function i(){s.point=t}function r(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=a},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return o=e,s},result:F};return s}function ua(e){function t(e){return(d?n:a)(e)}function a(t){return ya(t,function(a,n){a=e(a,n),t.point(a[0],a[1])})}function n(t){function a(a,n){a=e(a,n),t.point(a[0],a[1])}function n(){b=NaN,g.point=r,t.lineStart()}function r(a,n){var r=Vt([a,n]),o=e(a,n);i(b,v,S,T,A,P,b=o[0],v=o[1],S=a,T=r[0],A=r[1],P=r[2],d,t),t.point(b,v)}function o(){g.point=a,t.lineEnd()}function s(){n(),g.point=l,g.lineEnd=c}function l(e,t){r(p=e,h=t),u=b,x=v,y=T,m=A,f=P,g.point=r}function c(){i(b,v,S,T,A,P,u,x,p,y,m,f,d,t),g.lineEnd=o,o()}var g={point:a,lineStart:n,lineEnd:o,polygonStart:function(){t.polygonStart(),g.lineStart=s},polygonEnd:function(){t.polygonEnd(),g.lineStart=n}},p,h,u,x,y,m,f,S,b,v,T,A,P;return g}function i(t,n,o,d,l,h,u,x,y,f,S,v,T,A){var P=u-t,C=x-n,w=P*P+C*C;if(w>4*r&&T--){var L=d+f,a=l+S,b=h+v,c=g(L*L+a*a+b*b),m=ho(b/=c),k=Po(Po(b)-1)<jo||Po(o-y)<jo?(o+y)/2:lo(a,L),E=e(k,m),p=E[0],V=E[1],I=p-t,G=V-n,R=C*I-P*G;(R*R/w>r||.3<Po((P*I+C*G)/w-.5)||d*f+l*S+h*v<s)&&(i(t,n,o,d,l,h,p,V,k,L/=c,a/=c,b,T,A),A.point(p,V),i(p,V,k,L,a,b,u,x,y,f,S,v,T,A))}}var r=.5,s=o(30*Wo),d=16;return t.precision=function(e){return arguments.length?(d=0<(r=e*e)&&16,t):g(r)},t}function _a(e){var t=ua(function(t,a){return e([t*qo,a*qo])});return function(e){return Sa(t(e))}}function xa(e){this.stream=e}function ya(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function ma(e){return fa(function(){return e})()}function fa(e){function t(e){return e=b(e[0]*Wo,e[1]*Wo),[e[0]*o+v,T-e[1]*o]}function a(e){return e=b.invert((e[0]-v)/o,(T-e[1])/o),e&&[e[0]*qo,e[1]*qo]}function n(){b=Nt(S=Ta(g,p,h),f);var e=f(l,c);return v=s-e[0]*o,T=d+e[1]*o,i()}function i(){return A&&(A.valid=!1,A=null),t}var r=ua(function(e,t){return e=f(e,t),[e[0]*o+v,T-e[1]*o]}),o=150,s=480,d=250,l=0,c=0,g=0,p=0,h=0,u=Is,x=O,y=null,m=null,f,S,b,v,T,A;return t.stream=function(e){return A&&(A.valid=!1),A=Sa(u(S,r(x(e)))),A.valid=!0,A},t.clipAngle=function(e){return arguments.length?(u=null==e?(y=e,Is):ta((y=+e)*Wo),i()):y},t.clipExtent=function(e){return arguments.length?(m=e,x=e?na(e[0][0],e[0][1],e[1][0],e[1][1]):O,i()):m},t.scale=function(e){return arguments.length?(o=+e,n()):o},t.translate=function(e){return arguments.length?(s=+e[0],d=+e[1],n()):[s,d]},t.center=function(e){return arguments.length?(l=e[0]%360*Wo,c=e[1]%360*Wo,n()):[l*qo,c*qo]},t.rotate=function(e){return arguments.length?(g=e[0]%360*Wo,p=e[1]%360*Wo,h=2<e.length?e[2]%360*Wo:0,n()):[g*qo,p*qo,h*qo]},_o.rebind(t,r,"precision"),function(){return f=e.apply(this,arguments),t.invert=f.invert&&a,n()}}function Sa(e){return ya(e,function(t,a){e.point(t*Wo,a*Wo)})}function ba(e,t){return[e,t]}function va(e,t){return[e>No?e-Yo:e<-No?e+Yo:e,t]}function Ta(e,t,a){return e?t||a?Nt(Pa(e),Ca(t,a)):Pa(e):t||a?Ca(t,a):va}function Aa(e){return function(t,a){return t+=e,[t>No?t-Yo:t<-No?t+Yo:t,a]}}function Pa(e){var t=Aa(e);return t.invert=Aa(-e),t}function Ca(e,t){function a(e,t){var a=o(t),d=o(e)*a,l=S(e)*a,c=S(t),g=c*n+d*i;return[lo(l*r-g*s,d*n-c*i),me(g*r+l*s)]}var n=o(e),i=S(e),r=o(t),s=S(t);return a.invert=function(e,t){var a=o(t),d=o(e)*a,l=S(e)*a,c=S(t),g=c*r-l*s;return[lo(l*r+c*s,d*n+g*i),me(g*n-d*i)]},a}function wa(e,a){var n=o(e),i=S(e);return function(r,s,d,l){var c=d*a;null==r?(r=e+d*Yo,s=e-.5*c):(r=La(n,r),s=La(n,s),(0<d?r<s:r>s)&&(r+=d*Yo));for(var g=r,t;0<d?g>s:g<s;g-=c)l.point((t=zt([n,-i*o(g),-i*S(g)]))[0],t[1])}}function La(e,t){var i=Vt(t);i[0]-=e,Dt(i);var a=ye(-i[1]);return((0>-i[2]?-a:a)+2*n-jo)%(2*n)}function ka(e,t,a){var n=_o.range(e,t-jo,a).concat(t);return function(e){return n.map(function(t){return[e,t]})}}function Ea(e,t,a){var n=_o.range(e,t-jo,a).concat(t);return function(e){return n.map(function(t){return[t,e]})}}function Va(e){return e.source}function Ia(e){return e.target}function Ga(e,t,a,n){var i=o(t),r=S(t),s=o(n),l=S(n),c=i*o(e),p=i*S(e),h=s*o(a),u=s*S(a),m=2*ho(g(ve(n-t)+i*s*ve(a-e))),d=1/S(m),x=m?function(e){var t=S(e*=m)*d,a=S(m-e)*d,n=a*c+t*h,i=a*p+t*u;return[lo(i,n)*qo,lo(a*r+t*l,g(n*n+i*i))*qo]}:function(){return[e*qo,t*qo]};return x.distance=m,x}function Ra(e,t){function a(t,a){var n=o(t),i=o(a),r=e(n*i);return[r*i*S(t),r*S(a)]}return a.invert=function(e,a){var n=g(e*e+a*a),i=t(n),r=S(i),s=o(i);return[lo(e*r,n*s),ho(n&&a*r/n)]},a}function Oa(e,a){function i(e,a){0<n?a<-Uo+jo&&(a=-Uo+jo):a>Uo-jo&&(a=Uo-jo);var i=n/c(s(a),t);return[i*S(t*e),n-i*o(t*e)]}var r=o(e),s=function(e){return ro(No/4+e/2)},t=e===a?S(e):go(r/o(a))/go(s(a)/s(e)),n=r*c(s(e),t)/t;return t?(i.invert=function(e,a){var i=n-a,r=_e(t)*g(e*e+i*i);return[lo(e,i)/t,2*oo(c(n/r,1/t))-Uo]},i):za}function Da(e,t){function a(e,t){var a=n-t;return[a*S(r*e),n-a*o(r*e)]}var i=o(e),r=e===t?S(e):(i-o(t))/(t-e),n=i/r+e;return Po(r)<jo?ba:(a.invert=function(e,t){var a=n-t;return[lo(e,a)/r,n-_e(r)*g(e*e+a*a)]},a)}function za(e,t){return[e,go(ro(No/4+t/2))]}function Fa(e){var a=ma(e),n=a.scale,i=a.translate,r=a.clipExtent,o;return a.scale=function(){var e=n.apply(a,arguments);return e===a?o?a.clipExtent(null):a:e},a.translate=function(){var e=i.apply(a,arguments);return e===a?o?a.clipExtent(null):a:e},a.clipExtent=function(e){var s=r.apply(a,arguments);if(s!==a)o&&(s=null);else if(o=null==e){var d=No*n(),l=i();r([[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]])}return s},a.clipExtent(null)}function Ma(e,t){return[go(ro(No/4+t/2)),-e]}function Xa(e){return e[0]}function Ha(e){return e[1]}function ja(e){for(var t=e.length,a=[0,1],n=2,r=2;r<t;r++){for(;1<n&&0>=xe(e[a[n-2]],e[a[n-1]],e[r]);)--n;a[n++]=r}return a.slice(0,n)}function Ba(e,t){return e[0]-t[0]||e[1]-t[1]}function Na(e,t,a){return(a[0]-t[0])*(e[1]-t[1])<(a[1]-t[1])*(e[0]-t[0])}function Ya(e,t,n,a){var i=e[0],r=n[0],o=t[0]-i,s=a[0]-r,d=e[1],l=n[1],c=t[1]-d,g=a[1]-l,p=(s*(d-l)-g*(i-r))/(g*o-s*c);return[i+p*o,d+p*c]}function Ua(e){var t=e[0],a=e[e.length-1];return!(t[0]-a[0]||t[1]-a[1])}function Wa(){_n(this),this.edge=this.site=this.circle=null}function qa(e){var t=dd.pop()||new Wa;return t.site=e,t}function Qa(e){on(e),pd.remove(e),dd.push(e),_n(e)}function Za(e){var t=e.circle,a=t.x,n=t.cy,i={x:a,y:n},r=e.P,o=e.N,s=[e];Qa(e);for(var d=r;d.circle&&Po(a-d.circle.x)<jo&&Po(n-d.circle.cy)<jo;)r=d.P,s.unshift(d),Qa(d),d=r;s.unshift(d),on(d);for(var l=o;l.circle&&Po(a-l.circle.x)<jo&&Po(n-l.circle.cy)<jo;)o=l.N,s.push(l),Qa(l),l=o;s.push(l),on(l);var c=s.length,g;for(g=1;g<c;++g)l=s[g],d=s[g-1],pn(l.edge,d.site,l.site,i);d=s[0],l=s[c-1],l.edge=cn(d.site,l.site,null,i),rn(d),rn(l)}function Ka(e){for(var t=e.x,a=e.y,n=pd._,i,r,o,s;n;)if(o=$a(n,a)-t,o>jo)n=n.L;else if(s=t-Ja(n,a),s>jo){if(!n.R){i=n;break}n=n.R}else{o>-jo?(i=n.P,r=n):s>-jo?(i=n,r=n.N):i=r=n;break}var l=qa(e);if(pd.insert(i,l),i||r){if(i===r)return on(i),r=qa(i.site),pd.insert(l,r),l.edge=r.edge=cn(i.site,l.site),rn(i),void rn(r);if(!r)return void(l.edge=cn(i.site,l.site));on(i),on(r);var c=i.site,g=c.x,p=c.y,h=e.x-g,u=e.y-p,x=r.site,y=x.x-g,m=x.y-p,f=2*(h*m-u*y),d=h*h+u*u,S=y*y+m*m,b={x:(m*d-u*S)/f+g,y:(h*S-y*d)/f+p};pn(r.edge,c,x,b),l.edge=cn(c,e,null,b),r.edge=cn(e,x,null,b),rn(i),rn(r)}}function $a(e,t){var a=e.site,n=a.x,i=a.y,r=i-t;if(!r)return n;var o=e.P;if(!o)return-Infinity;a=o.site;var s=a.x,d=a.y,l=d-t;if(!l)return s;var c=s-n,p=1/r-1/l,h=c/l;return p?(-h+g(h*h-2*p*(c*c/(-2*l)-d+l/2+i-r/2)))/p+n:(n+s)/2}function Ja(e,t){var a=e.N;if(a)return $a(a,t);var n=e.site;return n.y===t?n.x:Infinity}function en(e){this.site=e,this.edges=[]}function tn(e){for(var t=e[0][0],a=e[1][0],n=e[0][1],i=e[1][1],r=gd,o=r.length,s,d,l,c,g,p,h,u,x,y;o--;)if(g=r[o],g&&g.prepare())for(h=g.edges,u=h.length,p=0;p<u;)y=h[p].end(),l=y.x,c=y.y,x=h[++p%u].start(),s=x.x,d=x.y,(Po(l-s)>jo||Po(c-d)>jo)&&(h.splice(p,0,new hn(gn(g.site,y,Po(l-t)<jo&&i-c>jo?{x:t,y:Po(s-t)<jo?d:i}:Po(c-i)<jo&&a-l>jo?{x:Po(d-i)<jo?s:a,y:i}:Po(l-a)<jo&&c-n>jo?{x:a,y:Po(s-a)<jo?d:n}:Po(c-n)<jo&&l-t>jo?{x:Po(d-n)<jo?s:t,y:n}:null),g.site,null)),++u)}function an(e,t){return t.angle-e.angle}function nn(){_n(this),this.x=this.y=this.arc=this.site=this.cy=null}function rn(e){var t=e.P,a=e.N;if(t&&a){var n=t.site,i=e.site,r=a.site;if(n!==r){var o=i.x,s=i.y,l=n.x-o,c=n.y-s,p=r.x-o,h=r.y-s,u=2*(l*h-c*p);if(!(u>=-Bo)){var d=l*l+c*c,m=p*p+h*h,f=(h*d-c*m)/u,x=(l*m-p*d)/u,h=x+s,y=ld.pop()||new nn;y.arc=e,y.site=i,y.x=f+o,y.y=h+g(f*f+x*x),y.cy=h,e.circle=y;for(var S=null,b=ud._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(b.L)b=b.L;else{S=b.P;break}}else if(b.R)b=b.R;else{S=b;break}ud.insert(S,y),S||(hd=y)}}}}function on(e){var t=e.circle;t&&(!t.P&&(hd=t.N),ud.remove(t),ld.push(t),_n(t),e.circle=null)}function sn(t){for(var a=cd,n=aa(t[0][0],t[0][1],t[1][0],t[1][1]),r=a.length,i;r--;)i=a[r],(!dn(i,t)||!n(i)||Po(i.a.x-i.b.x)<jo&&Po(i.a.y-i.b.y)<jo)&&(i.a=i.b=null,a.splice(r,1))}function dn(e,t){var a=e.b;if(a)return!0;var n=e.a,i=t[0][0],r=t[1][0],o=t[0][1],s=t[1][1],d=e.l,l=e.r,c=d.x,g=d.y,p=l.x,h=l.y,u=(c+p)/2,x,y;if(h===g){if(u<i||u>=r)return;if(c>p){if(!n)n={x:u,y:o};else if(n.y>=s)return;a={x:u,y:s}}else{if(!n)n={x:u,y:s};else if(n.y<o)return;a={x:u,y:o}}}else if(x=(c-p)/(h-g),y=(g+h)/2-x*u,-1>x||1<x){if(c>p){if(!n)n={x:(o-y)/x,y:o};else if(n.y>=s)return;a={x:(s-y)/x,y:s}}else{if(!n)n={x:(s-y)/x,y:s};else if(n.y<o)return;a={x:(o-y)/x,y:o}}}else if(g<h){if(!n)n={x:i,y:x*i+y};else if(n.x>=r)return;a={x:r,y:x*r+y}}else{if(!n)n={x:r,y:x*r+y};else if(n.x<i)return;a={x:i,y:x*i+y}}return e.a=n,e.b=a,!0}function ln(e,t){this.l=e,this.r=t,this.a=this.b=null}function cn(e,t,a,n){var i=new ln(e,t);return cd.push(i),a&&pn(i,e,t,a),n&&pn(i,t,e,n),gd[e.i].edges.push(new hn(i,e,t)),gd[t.i].edges.push(new hn(i,t,e)),i}function gn(e,t,a){var n=new ln(e,null);return n.a=t,n.b=a,cd.push(n),n}function pn(e,t,a,n){e.a||e.b?e.l===a?e.b=n:e.a=n:(e.a=n,e.l=t,e.r=a)}function hn(e,t,a){var n=e.a,i=e.b;this.edge=e,this.site=t,this.angle=a?lo(a.y-t.y,a.x-t.x):e.l===t?lo(i.x-n.x,n.y-i.y):lo(n.x-i.x,i.y-n.y)}function un(){this._=null}function _n(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function xn(e,t){var a=t,n=t.R,i=a.U;i?i.L===a?i.L=n:i.R=n:e._=n,n.U=i,a.U=n,a.R=n.L,a.R&&(a.R.U=a),n.L=a}function yn(e,t){var a=t,n=t.L,i=a.U;i?i.L===a?i.L=n:i.R=n:e._=n,n.U=i,a.U=n,a.L=n.R,a.L&&(a.L.U=a),n.R=a}function mn(e){for(;e.L;)e=e.L;return e}function fn(e,t){var a=e.sort(Sn).pop(),n,i,r;for(cd=[],gd=Array(e.length),pd=new un,ud=new un;;)if(r=hd,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==n||a.y!==i)&&(gd[a.i]=new en(a),Ka(a),n=a.x,i=a.y),a=e.pop();else if(r)Za(r.arc);else break;t&&(sn(t),tn(t));var o={cells:gd,edges:cd};return pd=ud=cd=gd=null,o}function Sn(e,t){return t.y-e.y||t.x-e.x}function bn(e,t,a){return(e.x-a.x)*(t.y-e.y)-(e.x-t.x)*(a.y-e.y)}function vn(e){return e.x}function Tn(e){return e.y}function An(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Pn(e,t,a,n,i,r){if(!e(t,a,n,i,r)){var o=.5*(a+i),s=.5*(n+r),d=t.nodes;d[0]&&Pn(e,d[0],a,n,o,s),d[1]&&Pn(e,d[1],o,n,i,s),d[2]&&Pn(e,d[2],a,s,o,r),d[3]&&Pn(e,d[3],o,s,i,r)}}function Cn(e,t,a,n,r,o,s){var i=Infinity,d;return function e(l,c,p,h,u){if(!(c>o||p>s||h<n||u<r)){if(f=l.point){var x=t-l.x,y=a-l.y,m=x*x+y*y,f;if(m<i){var S=g(i=m);n=t-S,r=a-S,o=t+S,s=a+S,d=f}}for(var b=l.nodes,v=.5*(c+h),T=.5*(p+u),A=(a>=T)<<1|t>=v,P=A+4;A<P;++A)if(l=b[3&A])switch(3&A){case 0:e(l,c,p,v,T);break;case 1:e(l,v,p,h,T);break;case 2:e(l,c,T,v,u);break;case 3:e(l,v,T,h,u);}}}(e,n,r,o,s),d}function wn(e,t){e=_o.rgb(e),t=_o.rgb(t);var a=e.r,n=e.g,i=e.b,r=t.r-a,o=t.g-n,d=t.b-i;return function(e){return"#"+ze(s(a+r*e))+ze(s(n+o*e))+ze(s(i+d*e))}}function Ln(e,t){var a={},n={},i;for(i in e)i in t?a[i]=Vn(e[i],t[i]):n[i]=e[i];for(i in t)i in e||(n[i]=t[i]);return function(e){for(i in a)n[i]=a[i](e);return n}}function kn(e,n){return e=+e,n=+n,function(a){return e*(1-a)+n*a}}function En(e,a){var t=xd.lastIndex=yd.lastIndex=0,n=-1,r=[],s=[],o,d,l;for(e+="",a+="";(o=xd.exec(e))&&(d=yd.exec(a));)(l=d.index)>t&&(l=a.slice(t,l),r[n]?r[n]+=l:r[++n]=l),(o=o[0])===(d=d[0])?r[n]?r[n]+=d:r[++n]=d:(r[++n]=null,s.push({i:n,x:kn(o,d)})),t=yd.lastIndex;return t<a.length&&(l=a.slice(t),r[n]?r[n]+=l:r[++n]=l),2>r.length?s[0]?(a=s[0].x,function(e){return a(e)+""}):function(){return a}:(a=s.length,function(e){for(var t=0,n;t<a;++t)r[(n=s[t]).i]=n.x(e);return r.join("")})}function Vn(e,t){for(var a=_o.interpolators.length,n;0<=--a&&!(n=_o.interpolators[a](e,t)););return n}function In(e,t){var a=[],n=[],r=e.length,o=t.length,s=f(e.length,t.length),d;for(d=0;d<s;++d)a.push(Vn(e[d],t[d]));for(;d<r;++d)n[d]=e[d];for(;d<o;++d)n[d]=t[d];return function(e){for(d=0;d<s;++d)n[d]=a[d](e);return n}}function Gn(e){return function(a){return 0>=a?0:1<=a?1:e(a)}}function Rn(e){return function(a){return 1-e(1-a)}}function On(e){return function(a){return .5*(.5>a?e(2*a):2-e(2-2*a))}}function Dn(e){return e*e}function zn(e){return e*e*e}function Fn(e){if(0>=e)return 0;if(1<=e)return 1;var t=e*e,a=t*e;return 4*(.5>e?a:3*(e-t)+a-.75)}function Mn(e){return 1-o(e*Uo)}function Xn(e){return c(2,10*(e-1))}function Hn(e){return 1-g(1-e*e)}function jn(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Bn(e,a){return a-=e,function(n){return s(e+a*n)}}function Nn(e){var t=[e.a,e.b],a=[e.c,e.d],n=Un(t),i=Yn(t,a),r=Un(Wn(a,t,-i))||0;t[0]*a[1]<a[0]*t[1]&&(t[0]*=-1,t[1]*=-1,n*=-1,i*=-1),this.rotate=(n?lo(t[1],t[0]):lo(-a[0],a[1]))*qo,this.translate=[e.e,e.f],this.scale=[n,r],this.skew=r?lo(i,r)*qo:0}function Yn(e,t){return e[0]*t[0]+e[1]*t[1]}function Un(e){var t=g(Yn(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Wn(e,t,a){return e[0]+=a*t[0],e[1]+=a*t[1],e}function qn(e){return e.length?e.pop()+",":""}function Qn(e,t,a,n){if(e[0]!==t[0]||e[1]!==t[1]){var r=a.push("translate(",null,",",null,")");n.push({i:r-4,x:kn(e[0],t[0])},{i:r-2,x:kn(e[1],t[1])})}else(t[0]||t[1])&&a.push("translate("+t+")")}function Zn(e,t,a,n){e===t?t&&a.push(qn(a)+"rotate("+t+")"):(180<e-t?t+=360:180<t-e&&(e+=360),n.push({i:a.push(qn(a)+"rotate(",null,")")-2,x:kn(e,t)}))}function Kn(e,t,a,n){e===t?t&&a.push(qn(a)+"skewX("+t+")"):n.push({i:a.push(qn(a)+"skewX(",null,")")-2,x:kn(e,t)})}function $n(e,t,a,n){if(e[0]!==t[0]||e[1]!==t[1]){var r=a.push(qn(a)+"scale(",null,",",null,")");n.push({i:r-4,x:kn(e[0],t[0])},{i:r-2,x:kn(e[1],t[1])})}else(1!==t[0]||1!==t[1])&&a.push(qn(a)+"scale("+t+")")}function Jn(e,t){var a=[],r=[];return e=_o.transform(e),t=_o.transform(t),Qn(e.translate,t.translate,a,r),Zn(e.rotate,t.rotate,a,r),Kn(e.skew,t.skew,a,r),$n(e.scale,t.scale,a,r),e=t=null,function(e){for(var t=-1,i=r.length,n;++t<i;)a[(n=r[t]).i]=n.x(e);return a.join("")}}function ei(e,t){return t=(t-=e=+e)||1/t,function(a){return(a-e)/t}}function ti(e,t){return t=(t-=e=+e)||1/t,function(a){return T(0,f(1,(a-e)/t))}}function ai(e){for(var t=e.source,a=e.target,n=ii(t,a),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;a!==n;)i.splice(r,0,a),a=a.parent;return i}function ni(e){for(var t=[],a=e.parent;null!=a;)t.push(e),e=a,a=a.parent;return t.push(e),t}function ii(e,t){if(e===t)return e;for(var a=ni(e),n=ni(t),i=a.pop(),r=n.pop(),o=null;i===r;)o=i,i=a.pop(),r=n.pop();return o}function ri(e){e.fixed|=2}function oi(e){e.fixed&=-7}function si(e){e.fixed|=4,e.px=e.x,e.py=e.y}function di(e){e.fixed&=-5}function li(e,t,a){var r=0,o=0;if(e.charge=0,!e.leaf)for(var s=e.nodes,d=s.length,n=-1,i;++n<d;)i=s[n],null==i||(li(i,t,a),e.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*a[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,o+=l*e.point.y}e.cx=r/e.charge,e.cy=o/e.charge}function ci(e,t){return _o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=xi,e}function gi(e,t){for(var a=[e];null!=(e=a.pop());)if(t(e),(n=e.children)&&(i=n.length))for(var i,n;0<=--i;)a.push(n[i])}function pi(e,t){for(var a=[e],r=[];null!=(e=a.pop());)if(r.push(e),(n=e.children)&&(i=n.length))for(var o=-1,i,n;++o<i;)a.push(n[o]);for(;null!=(e=r.pop());)t(e)}function hi(e){return e.children}function ui(e){return e.value}function _i(e,t){return t.value-e.value}function xi(e){return _o.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function yi(e){return e.x}function mi(e){return e.y}function fi(e,t,a){e.y0=t,e.y=a}function Si(e){return _o.range(e.length)}function bi(e){for(var t=-1,a=e[0].length,n=[];++t<a;)n[t]=0;return n}function vi(e){for(var t=1,a=0,i=e[0][1],r=e.length,n;t<r;++t)(n=e[t][1])>i&&(a=t,i=n);return a}function Ti(e){return e.reduce(Ai,0)}function Ai(e,t){return e+t[1]}function Pi(e,t){return Ci(e,d(go(t.length)/co+1))}function Ci(e,t){for(var a=-1,n=+e[0],i=(e[1]-n)/t,r=[];++a<=t;)r[a]=i*a+n;return r}function wi(e){return[_o.min(e),_o.max(e)]}function Li(e,t){return e.value-t.value}function ki(e,t){var a=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=a,a._pack_prev=t}function Ei(e,t){e._pack_next=t,t._pack_prev=e}function Vi(e,t){var a=t.x-e.x,n=t.y-e.y,i=e.r+t.r;return .999*i*i>a*a+n*n}function Ii(e){function t(e){r=f(e.x-e.r,r),o=T(e.x+e.r,o),s=f(e.y-e.r,s),d=T(e.y+e.r,d)}if((l=e.children)&&(x=l.length)){var r=Infinity,o=-Infinity,s=Infinity,d=-Infinity,l,p,a,h,c,i,u,x;if(l.forEach(Gi),p=l[0],p.x=-p.r,p.y=0,t(p),1<x&&(a=l[1],a.x=a.r,a.y=0,t(a),2<x))for(h=l[2],Di(p,a,h),t(h),ki(p,h),p._pack_prev=h,ki(h,a),a=p._pack_next,c=3;c<x;c++){Di(p,a,h=l[c]);var n=0,y=1,m=1;for(i=a._pack_next;i!==a;i=i._pack_next,y++)if(Vi(i,h)){n=1;break}if(1==n)for(u=p._pack_prev;u!==i._pack_prev&&!Vi(u,h);u=u._pack_prev,m++);n?(y<m||y==m&&a.r<p.r?Ei(p,a=i):Ei(p=u,a),c--):(ki(p,h),a=h,t(h))}var S=(r+o)/2,b=(s+d)/2,v=0;for(c=0;c<x;c++)h=l[c],h.x-=S,h.y-=b,v=T(v,h.r+g(h.x*h.x+h.y*h.y));e.r=v,l.forEach(Ri)}}function Gi(e){e._pack_next=e._pack_prev=e}function Ri(e){delete e._pack_next,delete e._pack_prev}function Oi(e,t,a,r){var o=e.children;if(e.x=t+=r*e.x,e.y=a+=r*e.y,e.r*=r,o)for(var s=-1,i=o.length;++s<i;)Oi(o[s],t,a,r)}function Di(e,t,a){var n=e.r+a.r,i=t.x-e.x,r=t.y-e.y;if(n&&(i||r)){var o=t.r+a.r,s=i*i+r*r;o*=o,n*=n;var d=.5+(n-o)/(2*s),l=g(T(0,2*o*(n+s)-(n-=s)*n-o*o))/(2*s);a.x=e.x+d*i+l*r,a.y=e.y+d*r-l*i}else a.x=e.x+n,a.y=e.y}function zi(e,t){return e.parent==t.parent?1:2}function Fi(e){var t=e.children;return t.length?t[0]:e.t}function Mi(e){var t=e.children,a;return(a=t.length)?t[a-1]:e.t}function Xi(e,t,a){var n=a/(t.i-e.i);t.c-=n,t.s+=a,e.c+=n,t.z+=a,t.m+=a}function Hi(e){for(var t=0,a=0,n=e.children,r=n.length,i;0<=--r;)i=n[r],i.z+=t,i.m+=t,t+=i.s+(a+=i.c)}function ji(e,t,a){return e.a.parent===t.parent?e.a:a}function Bi(e){return 1+_o.max(e,function(e){return e.y})}function Ni(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Yi(e){var t=e.children;return t&&t.length?Yi(t[0]):e}function Ui(e){var t=e.children,a;return t&&(a=t.length)?Ui(t[a-1]):e}function Wi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function qi(e,t){var a=e.x+t[3],n=e.y+t[0],i=e.dx-t[1]-t[3],r=e.dy-t[0]-t[2];return 0>i&&(a+=i/2,i=0),0>r&&(n+=r/2,r=0),{x:a,y:n,dx:i,dy:r}}function Qi(e){var t=e[0],a=e[e.length-1];return t<a?[t,a]:[a,t]}function Zi(e){return e.rangeExtent?e.rangeExtent():Qi(e.range())}function Ki(e,t,a,n){var r=a(e[0],e[1]),o=n(t[0],t[1]);return function(e){return o(r(e))}}function $i(e,t){var a=0,n=e.length-1,i=e[a],r=e[n],o;return r<i&&(o=a,a=n,n=o,o=i,i=r,r=o),e[a]=t.floor(i),e[n]=t.ceil(r),e}function Ji(e){return e?{floor:function(t){return r(t/e)*e},ceil:function(t){return d(t/e)*e}}:Ld}function er(e,t,a,n){var r=[],o=[],i=0,s=f(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<=s;)r.push(a(e[i-1],e[i])),o.push(n(t[i-1],t[i]));return function(t){var a=_o.bisect(e,t,1,s)-1;return o[a](r[a](t))}}function tr(e,t,a,n){function i(){var i=2<f(e.length,t.length)?er:Ki,d=n?ti:ei;return o=i(e,t,d,a),s=i(t,e,d,Vn),r}function r(e){return o(e)}var o,s;return r.invert=function(e){return s(e)},r.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},r.range=function(e){return arguments.length?(t=e,i()):t},r.rangeRound=function(e){return r.range(e).interpolate(Bn)},r.clamp=function(e){return arguments.length?(n=e,i()):n},r.interpolate=function(e){return arguments.length?(a=e,i()):a},r.ticks=function(t){return rr(e,t)},r.tickFormat=function(t,a){return or(e,t,a)},r.nice=function(t){return nr(e,t),i()},r.copy=function(){return tr(e,t,a,n)},i()}function ar(e,t){return _o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function nr(e,t){return $i(e,Ji(ir(e,t)[2])),$i(e,Ji(ir(e,t)[2])),e}function ir(e,t){null==t&&(t=10);var a=Qi(e),n=a[1]-a[0],i=c(10,r(go(n/t)/so)),o=t/n*i;return .15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),a[0]=d(a[0]/i)*i,a[1]=r(a[1]/i)*i+.5*i,a[2]=i,a}function rr(e,t){return _o.range.apply(_o,ir(e,t))}function or(e,t,a){var n=ir(e,t);if(a){var i=xs.exec(a);if(i.shift(),"s"===i[8]){var r=_o.formatPrefix(T(Po(n[0]),Po(n[1])));return i[7]||(i[7]="."+sr(r.scale(n[2]))),i[8]="f",a=_o.format(i.join("")),function(e){return a(r.scale(e))+r.symbol}}i[7]||(i[7]="."+dr(i[8],n)),a=i.join("")}else a=",."+sr(n[2])+"f";return _o.format(a)}function sr(e){return-r(go(e)/so+.01)}function dr(e,t){var a=sr(t[2]);return e in kd?i(a-sr(T(Po(t[0]),Po(t[1]))))+ +("e"!==e):a-2*("%"===e)}function lr(e,t,a,o){function l(e){return(a?go(0>e?0:e):-go(0<e?0:-e))/go(t)}function g(e){return a?c(t,e):-c(t,-e)}function i(t){return e(l(t))}return i.invert=function(t){return g(e.invert(t))},i.domain=function(t){return arguments.length?(a=0<=t[0],e.domain((o=t.map(Number)).map(l)),i):o},i.base=function(a){return arguments.length?(t=+a,e.domain(o.map(l)),i):t},i.nice=function(){var t=$i(o.map(l),a?Math:Vd);return e.domain(t),o=t.map(g),i},i.ticks=function(){var e=Qi(o),s=[],c=e[0],p=e[1],h=r(l(c)),i=d(l(p)),u=t%1?2:t;if(isFinite(i-h)){if(a){for(;h<i;h++)for(var n=1;n<u;n++)s.push(g(h)*n);s.push(g(h))}else for(s.push(g(h));h++<i;)for(var n=u-1;0<n;n--)s.push(g(h)*n);for(h=0;s[h]<c;h++);for(i=s.length;s[i-1]>p;i--);s=s.slice(h,i)}return s},i.tickFormat=function(e,a){if(!arguments.length)return Ed;2>arguments.length?a=Ed:"function"!=typeof a&&(a=_o.format(a));var n=T(1,t*e/i.ticks().length);return function(e){var r=e/g(s(l(e)));return r*t<t-.5&&(r*=t),r<=n?a(e):""}},i.copy=function(){return lr(e.copy(),t,a,o)},ar(i,e)}function cr(e,t,a){function n(t){return e(i(t))}var i=gr(t),r=gr(1/t);return n.invert=function(t){return r(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain((a=t.map(Number)).map(i)),n):a},n.ticks=function(e){return rr(a,e)},n.tickFormat=function(e,t){return or(a,e,t)},n.nice=function(e){return n.domain(nr(a,e))},n.exponent=function(o){return arguments.length?(i=gr(t=o),r=gr(1/t),e.domain(a.map(i)),n):t},n.copy=function(){return cr(e.copy(),t,a)},ar(n,e)}function gr(t){return function(e){return 0>e?-c(-e,t):c(e,t)}}function pr(e,t){function a(a){return i[((o.get(a)||("range"===t.t?o.set(a,e.push(a)):NaN))-1)%i.length]}function n(t,a){return _o.range(e.length).map(function(e){return t+a*e})}var o,i,d;return a.domain=function(r){if(!arguments.length)return e;e=[],o=new C;for(var s=-1,i=r.length,n;++s<i;)o.has(n=r[s])||o.set(n,e.push(n));return a[t.t].apply(a,t.a)},a.range=function(e){return arguments.length?(i=e,d=0,t={t:"range",a:arguments},a):i},a.rangePoints=function(r,o){2>arguments.length&&(o=0);var s=r[0],l=r[1],c=2>e.length?(s=(s+l)/2,0):(l-s)/(e.length-1+o);return i=n(s+c*o/2,c),d=0,t={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(r,o){2>arguments.length&&(o=0);var l=r[0],c=r[1],g=2>e.length?(l=c=s((l+c)/2),0):0|(c-l)/(e.length-1+o);return i=n(l+s(g*o/2+(c-l-(e.length-1+o)*g)/2),g),d=0,t={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(r,o,s){2>arguments.length&&(o=0),3>arguments.length&&(s=o);var l=r[1]<r[0],c=r[l-0],g=r[1-l],p=(g-c)/(e.length-o+2*s);return i=n(c+p*s,p),l&&i.reverse(),d=p*(1-o),t={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(o,l,c){2>arguments.length&&(l=0),3>arguments.length&&(c=l);var g=o[1]<o[0],p=o[g-0],h=o[1-g],u=r((h-p)/(e.length-l+2*c));return i=n(p+s((h-p-(e.length-l)*u)/2),u),g&&i.reverse(),d=s(u*(1-l)),t={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return d},a.rangeExtent=function(){return Qi(t.a[0])},a.copy=function(){return pr(e,t)},a.domain(e)}function hr(e,t){function a(){var a=0,r=t.length;for(i=[];++a<r;)i[a-1]=_o.quantile(e,a/r);return n}function n(e){if(!isNaN(e=+e))return t[_o.bisect(i,e)]}var i;return n.domain=function(t){return arguments.length?(e=t.map(b).filter(v).sort(y),a()):e},n.range=function(e){return arguments.length?(t=e,a()):t},n.quantiles=function(){return i},n.invertExtent=function(a){return a=t.indexOf(a),0>a?[NaN,NaN]:[0<a?i[a-1]:e[0],a<i.length?i[a]:e[e.length-1]]},n.copy=function(){return hr(e,t)},a()}function ur(e,t,a){function n(t){return a[T(0,f(d,r(s*(t-e))))]}function o(){return s=a.length/(t-e),d=a.length-1,n}var s,d;return n.domain=function(a){return arguments.length?(e=+a[0],t=+a[a.length-1],o()):[e,t]},n.range=function(e){return arguments.length?(a=e,o()):a},n.invertExtent=function(t){return t=a.indexOf(t),t=0>t?NaN:t/s+e,[t,t+1/s]},n.copy=function(){return ur(e,t,a)},o()}function _r(e,t){function a(a){if(a<=a)return t[_o.bisect(e,a)]}return a.domain=function(t){return arguments.length?(e=t,a):e},a.range=function(e){return arguments.length?(t=e,a):t},a.invertExtent=function(a){return a=t.indexOf(a),[e[a-1],e[a]]},a.copy=function(){return _r(e,t)},a}function xr(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(a){return arguments.length?(e=a.map(t),t):e},t.ticks=function(t){return rr(e,t)},t.tickFormat=function(t,a){return or(e,t,a)},t.copy=function(){return xr(e)},t}function yr(){return 0}function mr(e){return e.innerRadius}function fr(e){return e.outerRadius}function Sr(e){return e.startAngle}function br(e){return e.endAngle}function vr(e){return e&&e.padAngle}function Tr(e,t,a,n){return 0<(e-a)*t-(t-n)*e?0:1}function Ar(e,t,a,n,i){var o=e[0]-t[0],s=e[1]-t[1],l=(i?n:-n)/g(o*o+s*s),c=l*s,p=-l*o,h=e[0]+c,u=e[1]+p,x=t[0]+c,y=t[1]+p,m=(h+x)/2,f=(u+y)/2,S=x-h,b=y-u,v=S*S+b*b,A=a-n,r=h*y-x*u,P=(0>b?-1:1)*g(T(0,A*A*v-r*r)),d=(r*b-S*P)/v,C=(-r*S-b*P)/v,w=(r*b+S*P)/v,L=(-r*S+b*P)/v,k=d-m,E=C-f,V=w-m,I=L-f;return k*k+E*E>V*V+I*I&&(d=w,C=L),[[d-c,C-p],[d*a/A,C*a/A]]}function Pr(e){function t(t){function l(){c.push("M",n(e(g),s))}for(var c=[],g=[],p=-1,i=t.length,h=Be(a),u=Be(r),x;++p<i;)o.call(this,x=t[p],p)?g.push([+h.call(this,x,p),+u.call(this,x,p)]):g.length&&(l(),g=[]);return g.length&&l(),c.length?c.join(""):null}var a=Xa,r=Ha,o=Yt,n=Cr,i=n.key,s=.7;return t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(i="function"==typeof e?n=e:(n=zd.get(e)||Cr).key,t):i},t.tension=function(e){return arguments.length?(s=e,t):s},t}function Cr(e){return 1<e.length?e.join("L"):e+"Z"}function wr(e){return e.join("L")+"Z"}function Lr(e){for(var t=0,a=e.length,n=e[0],i=[n[0],",",n[1]];++t<a;)i.push("V",(n=e[t])[1],"H",n[0]);return i.join("")}function kr(e){for(var t=0,a=e.length,n=e[0],i=[n[0],",",n[1]];++t<a;)i.push("H",(n=e[t])[0],"V",n[1]);return i.join("")}function Er(e,a){if(1>a.length||e.length!=a.length&&e.length!=a.length+2)return Cr(e);var n=e.length!=a.length,r="",o=e[0],s=e[1],d=a[0],l=d,t=1;if(n&&(r+="Q"+(s[0]-2*d[0]/3)+","+(s[1]-2*d[1]/3)+","+s[0]+","+s[1],o=e[1],t=2),1<a.length){l=a[1],s=e[t],t++,r+="C"+(o[0]+d[0])+","+(o[1]+d[1])+","+(s[0]-l[0])+","+(s[1]-l[1])+","+s[0]+","+s[1];for(var c=2;c<a.length;c++,t++)s=e[t],l=a[c],r+="S"+(s[0]-l[0])+","+(s[1]-l[1])+","+s[0]+","+s[1]}if(n){var i=e[t];r+="Q"+(s[0]+2*l[0]/3)+","+(s[1]+2*l[1]/3)+","+i[0]+","+i[1]}return r}function Vr(e,t){for(var r=[],o=(1-t)/2,a=e[0],s=e[1],d=1,i=e.length,n;++d<i;)n=a,a=s,s=e[d],r.push([o*(s[0]-n[0]),o*(s[1]-n[1])]);return r}function Ir(e){if(3>e.length)return Cr(e);var t=1,a=e.length,n=e[0],i=n[0],r=n[1],o=[i,i,i,(n=e[1])[0]],s=[r,r,r,n[1]],d=[i,",",r,"L",Gr(Xd,o),",",Gr(Xd,s)];for(e.push(e[a-1]);++t<=a;)n=e[t],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Rr(d,o,s);return e.pop(),d.push("L",n),d.join("")}function Gr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Rr(e,t,a){e.push("C",Gr(Fd,t),",",Gr(Fd,a),",",Gr(Md,t),",",Gr(Md,a),",",Gr(Xd,t),",",Gr(Xd,a))}function Or(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Dr(e){for(var t=0,a=e.length-1,n=[],i=e[0],r=e[1],o=n[0]=Or(i,r);++t<a;)n[t]=(o+(o=Or(i=r,r=e[t+1])))/2;return n[t]=o,n}function zr(e){for(var t=[],n=Dr(e),r=-1,i=e.length-1,o,d,a,l;++r<i;)o=Or(e[r],e[r+1]),Po(o)<jo?n[r]=n[r+1]=0:(d=n[r]/o,a=n[r+1]/o,l=d*d+a*a,9<l&&(l=3*o/g(l),n[r]=l*d,n[r+1]=l*a));for(r=-1;++r<=i;)l=(e[f(i,r+1)][0]-e[T(0,r-1)][0])/(6*(1+n[r]*n[r])),t.push([l||0,n[r]*l||0]);return t}function Fr(e){for(var t=-1,i=e.length,n,s,r;++t<i;)n=e[t],s=n[0],r=n[1]-Uo,n[0]=s*o(r),n[1]=s*S(r);return e}function Mr(e){function t(t){function p(){h.push("M",n(e(m),g),c,d(e(u.reverse()),g),"Z")}for(var h=[],u=[],m=[],f=-1,i=t.length,S=Be(a),b=Be(o),v=a===r?function(){return P}:Be(r),T=o===s?function(){return x}:Be(s),A,P,x;++f<i;)l.call(this,A=t[f],f)?(u.push([P=+S.call(this,A,f),x=+b.call(this,A,f)]),m.push([+v.call(this,A,f),+T.call(this,A,f)])):u.length&&(p(),u=[],m=[]);return u.length&&p(),h.length?h.join(""):null}var a=Xa,r=Xa,o=0,s=Ha,l=Yt,n=Cr,i=n.key,d=n,c="L",g=.7;return t.x=function(e){return arguments.length?(a=r=e,t):r},t.x0=function(e){return arguments.length?(a=e,t):a},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=s=e,t):s},t.y0=function(e){return arguments.length?(o=e,t):o},t.y1=function(e){return arguments.length?(s=e,t):s},t.defined=function(e){return arguments.length?(l=e,t):l},t.interpolate=function(e){return arguments.length?(i="function"==typeof e?n=e:(n=zd.get(e)||Cr).key,d=n.reverse||n,c=n.closed?"M":"L",t):i},t.tension=function(e){return arguments.length?(g=e,t):g},t}function Xr(e){return e.radius}function Hr(e){return[e.x,e.y]}function jr(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Uo;return[n*o(i),n*S(i)]}}function Br(){return 64}function Nr(){return"circle"}function Yr(e){var t=g(e/No);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ur(e){return function(){var t,a,n;(t=this[e])&&(n=t[a=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[a]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wr(e,t,a){return Eo(e,Yd),e.namespace=t,e.id=a,e}function qr(e,t,a,n){var r=e.id,o=e.namespace;return oe(e,"function"==typeof a?function(e,s,i){e[o][r].tween.set(t,n(a.call(e,e.__data__,s,i)))}:(a=n(a),function(e){e[o][r].tween.set(t,a)}))}function Qr(e){return null==e&&(e=""),function(){this.textContent=e}}function Zr(e){return null==e?"__transition__":"__transition_"+e+"__"}function Kr(a,r,o,s,e){function t(e){var t=d.active,i=d[t];for(var o in i&&(i.timer.c=null,i.timer.t=NaN,--d.count,delete d[t],i.event&&i.event.interrupt.call(a,a.__data__,i.index)),d)if(+o<s){var x=d[o];x.timer.c=null,x.timer.t=NaN,--d.count,delete d[o]}g.c=n,qe(function(){return g.c&&n(e||1)&&(g.c=null,g.t=NaN),1},0,c),d.active=s,l.event&&l.event.start.call(a,a.__data__,r),u=[],l.tween.forEach(function(e,t){(t=t.call(a,a.__data__,r))&&u.push(t)}),h=l.ease,p=l.duration}function n(i){for(var c=i/p,t=h(c),e=u.length;0<e;)u[--e].call(a,t);if(1<=c)return l.event&&l.event.end.call(a,a.__data__,r),--d.count?delete d[s]:delete a[o],1}var d=a[o]||(a[o]={active:0,count:0}),l=d[s],c,g,p,h,u;l||(c=e.time,g=qe(function(e){var a=l.delay;return g.t=a+c,a<=e?t(e-a):void(g.c=t)},0,c),l=d[s]={tween:new C,time:c,timer:g,delay:e.delay,duration:e.duration,ease:e.ease,index:r},e=null,++d.count)}function $r(e,t,a){e.attr("transform",function(e){var n=t(e);return"translate("+(isFinite(n)?n:a(e))+",0)"})}function Jr(e,t,a){e.attr("transform",function(e){var n=t(e);return"translate(0,"+(isFinite(n)?n:a(e))+")"})}function eo(e){return e.toISOString()}function to(e,t,a){function n(t){return e(t)}function i(e,a){var n=e[1]-e[0],r=n/a,o=_o.bisect(al,r);return o==al.length?[t.year,ir(e.map(function(e){return e/31536e6}),a)[2]]:o?t[r/al[o-1]<al[o]/r?o-1:o]:[rl,ir(e,a)[2]]}return n.invert=function(t){return ao(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t),n):e.domain().map(ao)},n.nice=function(e,t){function a(a){return!isNaN(a)&&!e.range(a,ao(+a+1),t).length}var r=n.domain(),o=Qi(r),s=null==e?i(o,10):"number"==typeof e&&i(o,e);return s&&(e=s[0],t=s[1]),n.domain($i(r,1<t?{floor:function(t){for(;a(t=e.floor(t));)t=ao(t-1);return t},ceil:function(t){for(;a(t=e.ceil(t));)t=ao(+t+1);return t}}:e))},n.ticks=function(e,t){var a=Qi(n.domain()),r=null==e?i(a,10):"number"==typeof e?i(a,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(a[0],ao(+a[1]+1),1>t?1:t)},n.tickFormat=function(){return a},n.copy=function(){return to(e.copy(),t,a)},ar(n,e)}function ao(e){return new Date(e)}function no(e){return JSON.parse(e.responseText)}function io(e){var t=mo.createRange();return t.selectNode(mo.body),t.createContextualFragment(e.responseText)}var ro=Math.tan,oo=Math.atan,so=Math.LN10,lo=Math.atan2,co=Math.LN2,go=Math.log,po=Math.exp,ho=Math.asin,uo=Math.acos,_o={version:"3.5.17"},xo=[].slice,yo=function(e){return xo.call(e)},mo=this.document;if(mo)try{yo(mo.documentElement.childNodes)[0].nodeType}catch(t){yo=function(e){for(var t=e.length,a=Array(t);t--;)a[t]=e[t];return a}}if(Date.now||(Date.now=function(){return+new Date}),mo)try{mo.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var fo=this.Element.prototype,So=fo.setAttribute,bo=fo.setAttributeNS,vo=this.CSSStyleDeclaration.prototype,To=vo.setProperty;fo.setAttribute=function(e,t){So.call(this,e,t+"")},fo.setAttributeNS=function(e,t,a){bo.call(this,e,t,a+"")},vo.setProperty=function(e,t,a){To.call(this,e,t+"",a)}}_o.ascending=y,_o.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},_o.min=function(e,t){var r=-1,i=e.length,n,a;if(1===arguments.length){for(;++r<i;)if(null!=(a=e[r])&&a>=a){n=a;break}for(;++r<i;)null!=(a=e[r])&&n>a&&(n=a)}else{for(;++r<i;)if(null!=(a=t.call(e,e[r],r))&&a>=a){n=a;break}for(;++r<i;)null!=(a=t.call(e,e[r],r))&&n>a&&(n=a)}return n},_o.max=function(e,t){var r=-1,i=e.length,n,a;if(1===arguments.length){for(;++r<i;)if(null!=(a=e[r])&&a>=a){n=a;break}for(;++r<i;)null!=(a=e[r])&&a>n&&(n=a)}else{for(;++r<i;)if(null!=(a=t.call(e,e[r],r))&&a>=a){n=a;break}for(;++r<i;)null!=(a=t.call(e,e[r],r))&&a>n&&(n=a)}return n},_o.extent=function(e,t){var r=-1,i=e.length,n,a,o;if(1===arguments.length){for(;++r<i;)if(null!=(a=e[r])&&a>=a){n=o=a;break}for(;++r<i;)null!=(a=e[r])&&(n>a&&(n=a),o<a&&(o=a))}else{for(;++r<i;)if(null!=(a=t.call(e,e[r],r))&&a>=a){n=o=a;break}for(;++r<i;)null!=(a=t.call(e,e[r],r))&&(n>a&&(n=a),o<a&&(o=a))}return[n,o]},_o.sum=function(e,t){var r=0,o=e.length,n=-1,i;if(1===arguments.length)for(;++n<o;)v(i=+e[n])&&(r+=i);else for(;++n<o;)v(i=+t.call(e,e[n],n))&&(r+=i);return r},_o.mean=function(e,t){var r=0,o=e.length,n=-1,i=o,s;if(1===arguments.length)for(;++n<o;)v(s=b(e[n]))?r+=s:--i;else for(;++n<o;)v(s=b(t.call(e,e[n],n)))?r+=s:--i;return i?r/i:void 0},_o.quantile=function(t,a){var n=(t.length-1)*a+1,i=r(n),o=+t[i-1],s=n-i;return s?o+s*(t[i]-o):o},_o.median=function(e,t){var r=[],o=e.length,n=-1,i;if(1===arguments.length)for(;++n<o;)v(i=b(e[n]))&&r.push(i);else for(;++n<o;)v(i=b(t.call(e,e[n],n)))&&r.push(i);return r.length?_o.quantile(r.sort(y),.5):void 0},_o.variance=function(e,t){var r=e.length,n=0,o=0,s=-1,i=0,l,a;if(1===arguments.length)for(;++s<r;)v(l=b(e[s]))&&(a=l-n,n+=a/++i,o+=a*(l-n));else for(;++s<r;)v(l=b(t.call(e,e[s],s)))&&(a=l-n,n+=a/++i,o+=a*(l-n));return 1<i?o/(i-1):void 0},_o.deviation=function(){var e=_o.variance.apply(this,arguments);return e?g(e):e};var Ao=x(y);_o.bisectLeft=Ao.left,_o.bisect=_o.bisectRight=Ao.right,_o.bisector=function(e){return x(1===e.length?function(t,a){return y(e(t),a)}:e)},_o.shuffle=function(e,a,n){3>(r=arguments.length)&&(n=e.length,2>r&&(a=0));for(var r=n-a,o,t;r;)t=0|Math.random()*r--,o=e[r+a],e[r+a]=e[t+a],e[t+a]=o;return e},_o.permute=function(e,t){for(var a=t.length,n=Array(a);a--;)n[a]=e[t[a]];return n},_o.pairs=function(e){for(var t=0,a=e.length-1,n=e[0],i=Array(0>a?0:a),r;t<a;)i[t]=[r=n,n=e[++t]];return i},_o.transpose=function(e){if(!(s=e.length))return[];for(var t=-1,a=_o.min(e,A),i=Array(a);++t<a;)for(var r=-1,o=i[t]=Array(s),s;++r<s;)o[r]=e[r][t];return i},_o.zip=function(){return _o.transpose(arguments)},_o.keys=function(e){var t=[];for(var a in e)t.push(a);return t},_o.values=function(e){var t=[];for(var a in e)t.push(e[a]);return t},_o.entries=function(e){var t=[];for(var a in e)t.push({key:a,value:e[a]});return t},_o.merge=function(e){for(var t=e.length,a=-1,n=0,i,r,o;++a<t;)n+=e[a].length;for(r=Array(n);0<=--t;)for(o=e[t],i=o.length;0<=--i;)r[--n]=o[i];return r};var Po=i;_o.range=function(e,t,a){if(3>arguments.length&&(a=1,2>arguments.length&&(t=e,e=0)),(t-e)/a==Infinity)throw new Error("infinite range");var n=[],r=m(Po(a)),o=-1,i;if(e*=r,t*=r,a*=r,0>a)for(;(i=e+a*++o)>t;)n.push(i/r);else for(;(i=e+a*++o)<t;)n.push(i/r);return n},_o.map=function(e,t){var a=new C;if(e instanceof C)e.forEach(function(e,t){a.set(e,t)});else if(Array.isArray(e)){var r=-1,i=e.length,n;if(1===arguments.length)for(;++r<i;)a.set(r,e[r]);else for(;++r<i;)a.set(t.call(e,n=e[r],r),n)}else for(var o in e)a.set(o,e[o]);return a};var Co="__proto__",wo="\0";P(C,{has:k,get:function(e){return this._[w(e)]},set:function(e,t){return this._[w(e)]=t},remove:E,keys:V,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:L(t),value:this._[t]});return e},size:I,empty:G,forEach:function(e){for(var t in this._)e.call(this,L(t),this._[t])}}),_o.nest=function(){function e(t,d,l){if(l>=r.length)return s?s.call(a,d):o?d.sort(o):d;for(var c=-1,i=d.length,n=r[l++],g=new C,p,h,u,x;++c<i;)(x=g.get(p=n(h=d[c])))?x.push(h):g.set(p,[h]);return t?(h=t(),u=function(a,n){h.set(a,e(t,n,l))}):(h={},u=function(a,n){h[a]=e(t,n,l)}),g.forEach(u),h}function t(e,a){if(a>=r.length)return e;var i=[],o=n[a++];return e.forEach(function(e,n){i.push({key:e,values:t(n,a)})}),o?i.sort(function(e,t){return o(e.key,t.key)}):i}var a={},r=[],n=[],o,s;return a.map=function(t,a){return e(a,t,0)},a.entries=function(a){return t(e(_o.map,a,0),0)},a.key=function(e){return r.push(e),a},a.sortKeys=function(e){return n[r.length-1]=e,a},a.sortValues=function(e){return o=e,a},a.rollup=function(e){return s=e,a},a},_o.set=function(e){var t=new R;if(e)for(var a=0,i=e.length;a<i;++a)t.add(e[a]);return t},P(R,{has:k,add:function(e){return this._[w(e+="")]=!0,e},remove:E,values:V,size:I,empty:G,forEach:function(e){for(var t in this._)e.call(this,L(t))}}),_o.behavior={},_o.rebind=function(e,t){for(var a=1,i=arguments.length,n;++a<i;)e[n=arguments[a]]=D(e,t,t[n]);return e};var Lo=["webkit","ms","moz","Moz","o","O"];_o.dispatch=function(){for(var e=new M,t=-1,a=arguments.length;++t<a;)e[arguments[t]]=X(e);return e},M.prototype.on=function(e,t){var a=e.indexOf("."),n="";if(0<=a&&(n=e.slice(a+1),e=e.slice(0,a)),e)return 2>arguments.length?this[e].on(n):this[e].on(n,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(n,null);return this}},_o.event=null,_o.requote=function(e){return e.replace(ko,"\\$&")};var ko=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Eo={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var a in t)e[a]=t[a]},Vo=function(e,t){return t.querySelector(e)},Io=function(e,t){return t.querySelectorAll(e)},Go=function(e,t){var a=e.matches||e[z(e,"matchesSelector")];return Go=function(e,t){return a.call(e,t)},Go(e,t)};"function"==typeof Sizzle&&(Vo=function(e,t){return Sizzle(e,t)[0]||null},Io=Sizzle,Go=Sizzle.matchesSelector),_o.selection=function(){return _o.select(mo.documentElement)};var Ro=_o.selection.prototype=[];Ro.select=function(e){var t=[],a,r,o,s;e=Y(e);for(var d=-1,l=this.length;++d<l;){t.push(a=[]),a.parentNode=(o=this[d]).parentNode;for(var c=-1,i=o.length;++c<i;)(s=o[c])?(a.push(r=e.call(s,s.__data__,c,d)),r&&"__data__"in s&&(r.__data__=s.__data__)):a.push(null)}return N(t)},Ro.selectAll=function(e){var t=[],a,r;e=U(e);for(var o=-1,s=this.length;++o<s;)for(var d=this[o],l=-1,i=d.length;++l<i;)(r=d[l])&&(t.push(a=yo(e.call(r,r.__data__,l,o))),a.parentNode=r);return N(t)};var Oo="http://www.w3.org/1999/xhtml",Do={svg:"http://www.w3.org/2000/svg",xhtml:Oo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};_o.ns={prefix:Do,qualify:function(e){var t=e.indexOf(":"),a=e;return 0<=t&&"xmlns"!==(a=e.slice(0,t))&&(e=e.slice(t+1)),Do.hasOwnProperty(a)?{space:Do[a],local:e}:e}},Ro.attr=function(e,t){if(2>arguments.length){if("string"==typeof e){var a=this.node();return e=_o.ns.qualify(e),e.local?a.getAttributeNS(e.space,e.local):a.getAttribute(e)}for(t in e)this.each(W(t,e[t]));return this}return this.each(W(e,t))},Ro.classed=function(e,t){if(2>arguments.length){if("string"==typeof e){var a=this.node(),r=(e=Z(e)).length,n=-1;if(t=a.classList){for(;++n<r;)if(!t.contains(e[n]))return!1;}else for(t=a.getAttribute("class");++n<r;)if(!Q(e[n]).test(t))return!1;return!0}for(t in e)this.each(K(t,e[t]));return this}return this.each(K(e,t))},Ro.style=function(e,t,a){var i=arguments.length;if(3>i){if("string"!=typeof e){for(a in 2>i&&(t=""),e)this.each(J(a,e[a],t));return this}if(2>i){var n=this.node();return u(n).getComputedStyle(n,null).getPropertyValue(e)}a=""}return this.each(J(e,t,a))},Ro.property=function(e,t){if(2>arguments.length){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ee(t,e[t]));return this}return this.each(ee(e,t))},Ro.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ro.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ro.append=function(e){return e=te(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ro.insert=function(e,t){return e=te(e),t=Y(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Ro.remove=function(){return this.each(ae)},Ro.data=function(e,t){function a(e,a){var r=e.length,n=a.length,o=f(r,n),c=Array(n),g=Array(n),p=Array(r),h,i,u;if(t){var x=new C,y=Array(r),m;for(h=-1;++h<r;)(i=e[h])&&(x.has(m=t.call(i,i.__data__,h))?p[h]=i:x.set(m,i),y[h]=m);for(h=-1;++h<n;)(i=x.get(m=t.call(a,u=a[h],h)))?!0!==i&&(c[h]=i,i.__data__=u):g[h]=ne(u),x.set(m,!0);for(h=-1;++h<r;)h in y&&!0!==x.get(y[h])&&(p[h]=e[h])}else{for(h=-1;++h<o;)i=e[h],u=a[h],i?(i.__data__=u,c[h]=i):g[h]=ne(u);for(;h<n;++h)g[h]=ne(a[h]);for(;h<r;++h)p[h]=e[h]}g.update=c,g.parentNode=c.parentNode=p.parentNode=e.parentNode,s.push(g),d.push(c),l.push(p)}var r=-1,i=this.length,n,o;if(!arguments.length){for(e=Array(i=(n=this[0]).length);++r<i;)(o=n[r])&&(e[r]=o.__data__);return e}var s=se([]),d=N([]),l=N([]);if("function"==typeof e)for(;++r<i;)a(n=this[r],e.call(n,n.parentNode.__data__,r));else for(;++r<i;)a(n=this[r],e);return d.enter=function(){return s},d.exit=function(){return l},d},Ro.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ro.filter=function(e){var t=[],a,r,o;"function"!=typeof e&&(e=ie(e));for(var s=0,d=this.length;s<d;s++){t.push(a=[]),a.parentNode=(r=this[s]).parentNode;for(var l=0,i=r.length;l<i;l++)(o=r[l])&&e.call(o,o.__data__,l,s)&&a.push(o)}return N(t)},Ro.order=function(){for(var e=-1,t=this.length;++e<t;)for(var a=this[e],n=a.length-1,i=a[n],r;0<=--n;)(r=a[n])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},Ro.sort=function(e){e=re.apply(this,arguments);for(var t=-1,a=this.length;++t<a;)this[t].sort(e);return this.order()},Ro.each=function(e){return oe(this,function(t,a,n){e.call(t,t.__data__,a,n)})},Ro.call=function(e){var t=yo(arguments);return e.apply(t[0]=this,t),this},Ro.empty=function(){return!this.node()},Ro.node=function(){for(var e=0,t=this.length;e<t;e++)for(var a=this[e],r=0,i=a.length,n;r<i;r++)if(n=a[r],n)return n;return null},Ro.size=function(){var e=0;return oe(this,function(){++e}),e};var zo=[];_o.selection.enter=se,_o.selection.enter.prototype=zo,zo.append=Ro.append,zo.empty=Ro.empty,zo.node=Ro.node,zo.call=Ro.call,zo.size=Ro.size,zo.select=function(e){for(var t=[],a=-1,r=this.length,o,s,d,l,c;++a<r;){d=(l=this[a]).update,t.push(o=[]),o.parentNode=l.parentNode;for(var g=-1,i=l.length;++g<i;)(c=l[g])?(o.push(d[g]=s=e.call(l.parentNode,c.__data__,g,a)),s.__data__=c.__data__):o.push(null)}return N(t)},zo.insert=function(e,t){return 2>arguments.length&&(t=de(this)),Ro.insert.call(this,e,t)},_o.select=function(e){var t;return"string"==typeof e?(t=[Vo(e,mo)],t.parentNode=mo.documentElement):(t=[e],t.parentNode=h(e)),N([t])},_o.selectAll=function(e){var t;return"string"==typeof e?(t=yo(Io(e,mo)),t.parentNode=mo.documentElement):(t=yo(e),t.parentNode=null),N([t])},Ro.on=function(e,t,a){var i=arguments.length;if(3>i){if("string"!=typeof e){for(a in 2>i&&(t=!1),e)this.each(le(a,e[a],t));return this}if(2>i)return(i=this.node()["__on"+e])&&i._;a=!1}return this.each(le(e,t,a))};var Fo=_o.map({mouseenter:"mouseover",mouseleave:"mouseout"});mo&&Fo.forEach(function(e){"on"+e in mo&&Fo.remove(e)});var Mo=0,Xo;_o.mouse=function(e){return he(e,j())};var Ho=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;_o.touch=function(e,t,a){if(3>arguments.length&&(a=t,t=j().changedTouches),t)for(var r=0,i=t.length,n;r<i;++r)if((n=t[r]).identifier===a)return he(e,n)},_o.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",r)}function t(e,t,i,r,o){return function(){var s=this,d=_o.event.target.correspondingElement||_o.event.target,l=s.parentNode,c=a.of(s,arguments),g=0,p=e(),h=".drag"+(null==p?"":"-"+p),u=_o.select(i(d)).on(r+h,function(){var e=t(l,p),a,n;e&&(a=e[0]-y[0],n=e[1]-y[1],g|=a|n,y=e,c({type:"drag",x:e[0]+m[0],y:e[1]+m[1],dx:a,dy:n}))}).on(o+h,function(){t(l,p)&&(u.on(r+h,null).on(o+h,null),x(g),c({type:"dragend"}))}),x=pe(d),y=t(l,p),m;n?(m=n.apply(s,arguments),m=[m.x-y[0],m.y-y[1]]):m=[0,0],c({type:"dragstart"})}}var a=B(e,"drag","dragstart","dragend"),n=null,i=t(F,_o.mouse,u,"mousemove","mouseup"),r=t(ue,_o.touch,O,"touchmove","touchend");return e.origin=function(t){return arguments.length?(n=t,e):n},_o.rebind(e,a,"on")},_o.touches=function(e,t){return 2>arguments.length&&(t=j().touches),t?yo(t).map(function(t){var a=he(e,t);return a.identifier=t.identifier,a}):[]};var jo=1e-6,Bo=jo*jo,No=n,Yo=2*No,Uo=No/2,Wo=No/180,qo=180/No,Qo=Math.SQRT2,Zo=2,Ko=4;_o.interpolateZoom=function(e,t){var a=e[0],n=e[1],r=e[2],o=t[0],s=t[1],d=t[2],l=o-a,c=s-n,p=l*l+c*c,h,i;if(p<Bo)i=go(d/r)/Qo,h=function(e){return[a+e*l,n+e*c,r*po(Qo*e*i)]};else{var x=g(p),u=(d*d-r*r+Ko*p)/(2*r*Zo*x),y=(d*d-r*r-Ko*p)/(2*d*Zo*x),m=go(g(u*u+1)-u),f=go(g(y*y+1)-y);i=(f-m)/Qo,h=function(e){var t=e*i,o=Se(m),s=r/(Zo*x)*(o*be(Qo*t+m)-fe(m));return[a+s*l,n+s*c,r*o/Se(Qo*t+m)]}}return h.duration=1e3*i,h},_o.behavior.zoom=function(){function e(e){e.on(w,x).on(es+".zoom",m).on("dblclick.zoom",S).on(E,y)}function a(e){return[(e[0]-b.x)/b.k,(e[1]-b.y)/b.k]}function t(e){return[e[0]*b.k+b.x,e[1]*b.k+b.y]}function n(e){b.k=T(A[0],f(A[1],e))}function o(e,a){a=t(a),b.x+=e[0]-a[0],b.y+=e[1]-a[1]}function i(t,a,i,r){t.__chart__={x:b.x,y:b.y,k:b.k},n(c(2,r)),o(G=a,i),t=_o.select(t),0<P&&(t=t.transition().duration(P)),t.call(e.event)}function s(){M&&M.domain(F.range().map(function(e){return(e-b.x)/b.k}).map(F.invert)),j&&j.domain(X.range().map(function(e){return(e-b.y)/b.k}).map(X.invert))}function l(e){C++||e({type:"zoomstart"})}function p(e){s(),e({type:"zoom",scale:b.k,translate:[b.x,b.y]})}function h(e){--C||(e({type:"zoomend"}),G=null)}function x(){var e=this,t=V.of(e,arguments),n=0,i=_o.select(u(e)).on(L,function(){n=1,o(_o.mouse(e),r),p(t)}).on(k,function(){i.on(L,null).on(k,null),s(n),h(t)}),r=a(_o.mouse(e)),s=pe(e);Nd.call(e),l(t)}function y(){function e(){var e=_o.touches(c);return L=b.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=a(e))}),e}function t(){var t=_o.event.target;_o.select(t).on(v,s).on(T,d),A.push(t);for(var a=_o.event.changedTouches,o=0,l=a.length;o<l;++o)m[a[o].identifier]=null;var n=e(),g=Date.now();if(1===n.length){if(500>g-D){var h=n[0];i(c,h,m[h.identifier],r(go(b.k)/co)+1),H()}D=g}else if(1<n.length){var h=n[0],p=n[1],u=h[0]-p[0],x=h[1]-p[1];f=u*u+x*x}}function s(){var e=_o.touches(c),t,a,r,s;Nd.call(c);for(var d=0,i=e.length;d<i;++d,s=null)if(r=e[d],s=m[r.identifier]){if(a)break;t=r,a=s}if(s){var l=(l=r[0]-t[0])*l+(l=r[1]-t[1])*l,h=f&&g(l/f);t=[(t[0]+r[0])/2,(t[1]+r[1])/2],a=[(a[0]+s[0])/2,(a[1]+s[1])/2],n(h*L)}D=null,o(t,a),p(u)}function d(){if(_o.event.touches.length){for(var t=_o.event.changedTouches,a=0,i=t.length;a<i;++a)delete m[t[a].identifier];for(var n in m)return void e()}_o.selectAll(A).on(S,null),P.on(w,x).on(E,y),C(),h(u)}var c=this,u=V.of(c,arguments),m={},f=0,S=".zoom-"+_o.event.changedTouches[0].identifier,v="touchmove"+S,T="touchend"+S,A=[],P=_o.select(c),C=pe(c),L;t(),l(u),P.on(w,null).on(E,t)}function m(){var e=V.of(this,arguments);O?clearTimeout(O):(Nd.call(this),I=a(G=R||_o.mouse(this)),l(e)),O=setTimeout(function(){O=null,h(e)},50),H(),n(c(2,.002*Jo())*b.k),o(G,I),p(e)}function S(){var e=_o.mouse(this),t=go(b.k)/co;i(this,e,a(e),_o.event.shiftKey?d(t)-1:r(t)+1)}var b={x:0,y:0,k:1},v=[960,500],A=$o,P=250,C=0,w="mousedown.zoom",L="mousemove.zoom",k="mouseup.zoom",E="touchstart.zoom",V=B(e,"zoomstart","zoom","zoomend"),I,G,R,O,D,F,M,X,j;return es||(es="onwheel"in mo?(Jo=function(){return-_o.event.deltaY*(_o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in mo?(Jo=function(){return _o.event.wheelDelta},"mousewheel"):(Jo=function(){return-_o.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=V.of(this,arguments),t=b;Wd?_o.select(this).transition().each("start.zoom",function(){b=this.__chart__||{x:0,y:0,k:1},l(e)}).tween("zoom:zoom",function(){var a=v[0],n=v[1],r=G?G[0]:a/2,o=G?G[1]:n/2,s=_o.interpolateZoom([(r-b.x)/b.k,(o-b.y)/b.k,a/b.k],[(r-t.x)/t.k,(o-t.y)/t.k,a/t.k]);return function(n){var t=s(n),i=a/t[2];this.__chart__=b={x:r-t[0]*i,y:o-t[1]*i,k:i},p(e)}}).each("interrupt.zoom",function(){h(e)}).each("end.zoom",function(){h(e)}):(this.__chart__=b,l(e),p(e),h(e))})},e.translate=function(t){return arguments.length?(b={x:+t[0],y:+t[1],k:b.k},s(),e):[b.x,b.y]},e.scale=function(t){return arguments.length?(b={x:b.x,y:b.y,k:null},n(+t),s(),e):b.k},e.scaleExtent=function(t){return arguments.length?(A=null==t?$o:[+t[0],+t[1]],e):A},e.center=function(t){return arguments.length?(R=t&&[+t[0],+t[1]],e):R},e.size=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.duration=function(t){return arguments.length?(P=+t,e):P},e.x=function(t){return arguments.length?(M=t,F=t.copy(),b={x:0,y:0,k:1},e):M},e.y=function(t){return arguments.length?(j=t,X=t.copy(),b={x:0,y:0,k:1},e):j},_o.rebind(e,V,"on")};var $o=[0,Infinity],Jo,es;_o.color=Te,Te.prototype.toString=function(){return this.rgb()+""},_o.hsl=Ae;var ts=Ae.prototype=new Te;ts.brighter=function(e){return e=c(.7,arguments.length?e:1),new Ae(this.h,this.s,this.l/e)},ts.darker=function(e){return e=c(.7,arguments.length?e:1),new Ae(this.h,this.s,e*this.l)},ts.rgb=function(){return Pe(this.h,this.s,this.l)},_o.hcl=Ce;var as=Ce.prototype=new Te;as.brighter=function(e){return new Ce(this.h,this.c,f(100,this.l+ns*(arguments.length?e:1)))},as.darker=function(e){return new Ce(this.h,this.c,T(0,this.l-ns*(arguments.length?e:1)))},as.rgb=function(){return we(this.h,this.c,this.l).rgb()},_o.lab=Le;var ns=18,is=.95047,rs=1,os=1.08883,ss=Le.prototype=new Te;ss.brighter=function(e){return new Le(f(100,this.l+ns*(arguments.length?e:1)),this.a,this.b)},ss.darker=function(e){return new Le(T(0,this.l-ns*(arguments.length?e:1)),this.a,this.b)},ss.rgb=function(){return ke(this.l,this.a,this.b)},_o.rgb=Re;var ds=Re.prototype=new Te;ds.brighter=function(e){e=c(.7,arguments.length?e:1);var t=this.r,a=this.g,n=this.b,r=30;return t||a||n?(t&&t<r&&(t=r),a&&a<r&&(a=r),n&&n<r&&(n=r),new Re(f(255,t/e),f(255,a/e),f(255,n/e))):new Re(r,r,r)},ds.darker=function(e){return e=c(.7,arguments.length?e:1),new Re(e*this.r,e*this.g,e*this.b)},ds.hsl=function(){return Me(this.r,this.g,this.b)},ds.toString=function(){return"#"+ze(this.r)+ze(this.g)+ze(this.b)};var ls=_o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ls.forEach(function(e,t){ls.set(e,Oe(t))}),_o.functor=Be,_o.xhr=Ne(O),_o.dsv=function(e,t){function a(e,a,r){3>arguments.length&&(r=a,a=null);var o=Ye(e,t,null==a?n:i(a),r);return o.row=function(e){return arguments.length?o.response(null==(a=e)?n:i(e)):a},o}function n(e){return a.parse(e.responseText)}function i(e){return function(t){return a.parse(t.responseText,e)}}function r(t){return t.map(o).join(e)}function o(e){return s.test(e)?"\""+e.replace(/\"/g,"\"\"")+"\"":e}var s=new RegExp("[\""+e+"\n]"),d=e.charCodeAt(0);return a.parse=function(e,t){var n;return a.parseRows(e,function(e,r){if(n)return n(e,r-1);var o=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,a){return t(o(e),a)}:o})},a.parseRows=function(e,i){function r(){if(p>=g)return s;if(t)return t=!1,o;var a=p;if(34===e.charCodeAt(a)){for(var n=a;n++<g;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}p=n+2;var i=e.charCodeAt(n+1);return 13===i?(t=!0,10===e.charCodeAt(n+2)&&++p):10===i&&(t=!0),e.slice(a+1,n).replace(/""/g,"\"")}for(;p<g;){var i=e.charCodeAt(p++),r=1;if(10===i)t=!0;else if(13===i)t=!0,10===e.charCodeAt(p)&&(++p,++r);else if(i!==d)continue;return e.slice(a,p-r)}return e.slice(a)}for(var o={},s={},l=[],g=e.length,p=0,c=0,n,t;(n=r())!==s;){for(var h=[];n!==o&&n!==s;)h.push(n),n=r();i&&null==(h=i(h,c++))||l.push(h)}return l},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new R,i=[];return t.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},a.formatRows=function(e){return e.map(r).join("\n")},a},_o.csv=_o.dsv(",","text/csv"),_o.tsv=_o.dsv("\t","text/tab-separated-values");var cs=this[z(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)},gs,ps,hs,us;_o.timer=function(){qe.apply(this,arguments)},_o.timer.flush=function(){Ze(),Ke()},_o.round=function(e,t){return t?s(e*(t=c(10,t)))/t:s(e)};var _s=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var a=c(10,3*Po(8-t));return{scale:8<t?function(e){return e/a}:function(e){return e*a},symbol:e}});_o.formatPrefix=function(e,t){var a=0;return(e=+e)&&(0>e&&(e*=-1),t&&(e=_o.round(e,$e(e,t))),a=1+r(1e-12+go(e)/so),a=T(-24,f(24,3*r((a-1)/3)))),_s[8+a/3]};var xs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ys=_o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=_o.round(e,$e(e,t))).toFixed(T(0,f(20,$e(e*(1+1e-15),t))))}}),ms=_o.time={},fs=Date;tt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ss.setUTCDate.apply(this._,arguments)},setDay:function(){Ss.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ss.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ss.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ss.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ss.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ss.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ss.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ss.setTime.apply(this._,arguments)}};var Ss=Date.prototype;ms.year=at(function(e){return e=ms.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ms.years=ms.year.range,ms.years.utc=ms.year.utc.range,ms.day=at(function(e){var t=new fs(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ms.days=ms.day.range,ms.days.utc=ms.day.utc.range,ms.dayOfYear=function(e){var t=ms.year(e);return r((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var a=ms[e]=at(function(e){return(e=ms.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*r(t))},function(e){var a=ms.year(e).getDay();return r((ms.dayOfYear(e)+(a+t)%7)/7)-(a!==t)});ms[e+"s"]=a.range,ms[e+"s"].utc=a.utc.range,ms[e+"OfYear"]=function(e){var a=ms.year(e).getDay();return r((ms.dayOfYear(e)+(a+t)%7)/7)}}),ms.week=ms.sunday,ms.weeks=ms.sunday.range,ms.weeks.utc=ms.sunday.utc.range,ms.weekOfYear=ms.sundayOfYear;var bs={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,Ts=/^%/;_o.locale=function(e){return{numberFormat:Je(e),timeFormat:it(e)}};var As=_o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});_o.format=As.numberFormat,_o.geo={},Pt.prototype={s:0,t:0,add:function(e){Ct(e,this.t,Ps),Ct(Ps.s,this.s,this),this.s?this.t+=Ps.t:this.s=Ps.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ps=new Pt;_o.geo.stream=function(e,t){e&&Cs.hasOwnProperty(e.type)?Cs[e.type](e,t):wt(e,t)};var Cs={Feature:function(e,t){wt(e.geometry,t)},FeatureCollection:function(e,t){for(var a=e.features,r=-1,i=a.length;++r<i;)wt(a[r].geometry,t)}},ws={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var a=e.coordinates,r=-1,i=a.length;++r<i;)e=a[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Lt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var a=e.coordinates,r=-1,i=a.length;++r<i;)Lt(a[r],t,0)},Polygon:function(e,t){kt(e.coordinates,t)},MultiPolygon:function(e,t){for(var a=e.coordinates,r=-1,i=a.length;++r<i;)kt(a[r],t)},GeometryCollection:function(e,t){for(var a=e.geometries,r=-1,i=a.length;++r<i;)wt(a[r],t)}};_o.geo.area=function(e){return Es=0,_o.geo.stream(e,ks),Es};var Ls=new Pt,ks={sphere:function(){Es+=4*No},point:F,lineStart:F,lineEnd:F,polygonStart:function(){Ls.reset(),ks.lineStart=Et},polygonEnd:function(){var e=2*Ls;Es+=0>e?4*No+e:e,ks.lineStart=ks.lineEnd=ks.point=F}},Es;_o.geo.bounds=function(){function e(e,t){v.push(T=[g=e,u=e]),t<h&&(h=t),t>x&&(x=t)}function t(t,a){var n=Vt([t*Wo,a*Wo]);if(f){var i=Gt(f,n),r=[i[1],-i[0],0],o=Gt(r,i);Dt(o),o=zt(o);var l=t-y,c=0<l?1:-1,s=o[0]*qo*c,p=180<Po(l);if(p^(c*y<s&&s<c*t)){var m=o[1]*qo;m>x&&(x=m)}else if(s=(s+360)%360-180,p^(c*y<s&&s<c*t)){var m=-o[1]*qo;m<h&&(h=m)}else a<h&&(h=a),a>x&&(x=a);p?t<y?d(g,t)>d(g,u)&&(u=t):d(t,u)>d(g,u)&&(g=t):u>=g?(t<g&&(g=t),t>u&&(u=t)):t>y?d(g,t)>d(g,u)&&(u=t):d(t,u)>d(g,u)&&(g=t)}else e(t,a);f=n,y=t}function a(){c.point=t}function n(){T[0]=g,T[1]=u,c.point=e,f=null}function i(e,a){if(f){var n=e-y;S+=180<Po(n)?n+(0<n?360:-360):n}else p=e,m=a;ks.point(e,a),t(e,a)}function r(){ks.lineStart()}function o(){i(p,m),ks.lineEnd(),Po(S)>jo&&(g=-(u=180)),T[0]=g,T[1]=u,f=null}function d(e,t){return 0>(t-=e)?t+360:t}function s(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c={point:e,lineStart:a,lineEnd:n,polygonStart:function(){c.point=i,c.lineStart=r,c.lineEnd=o,S=0,ks.polygonStart()},polygonEnd:function(){ks.polygonEnd(),c.point=e,c.lineStart=a,c.lineEnd=n,0>Ls?(g=-(u=180),h=-(x=90)):S>jo?x=90:S<-jo&&(h=-90),T[0]=g,T[1]=u}},g,h,u,x,y,p,m,f,S,v,T;return function(e){x=u=-(g=h=Infinity),v=[],_o.geo.stream(e,c);var t=v.length;if(t){v.sort(s);for(var n=1,i=v[0],a=[i],r;n<t;++n)r=v[n],l(r[0],i)||l(r[1],i)?(d(i[0],r[1])>d(i[0],i[1])&&(i[1]=r[1]),d(r[0],i[1])>d(i[0],i[1])&&(i[0]=r[0])):a.push(i=r);for(var o=-Infinity,t=a.length-1,n=0,i=a[t],p,r;n<=t;i=r,++n)r=a[n],(p=d(i[1],r[0]))>o&&(o=p,g=r[0],u=i[1])}return v=T=null,g===Infinity||h===Infinity?[[NaN,NaN],[NaN,NaN]]:[[g,h],[u,x]]}}(),_o.geo.centroid=function(e){Rs=Os=Ds=zs=Fs=Ms=Xs=Hs=js=Bs=Ns=0,_o.geo.stream(e,Vs);var t=js,a=Bs,n=Ns,i=t*t+a*a+n*n;return i<Bo&&(t=Ms,a=Xs,n=Hs,Os<jo&&(t=Ds,a=zs,n=Fs),i=t*t+a*a+n*n,i<Bo)?[NaN,NaN]:[lo(a,t)*qo,me(n/g(i))*qo]};var Vs={sphere:F,point:Mt,lineStart:Ht,lineEnd:jt,polygonStart:function(){Vs.lineStart=Bt},polygonEnd:function(){Vs.lineStart=Ht}},Is=Qt(Yt,function(e){var t=NaN,a=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(r,o){var s=0<r?No:-No,d=Po(r-t);Po(d-No)<jo?(e.point(t,a=0<(a+o)/2?Uo:-Uo),e.point(n,a),e.lineEnd(),e.lineStart(),e.point(s,a),e.point(r,a),i=0):n!==s&&d>=No&&(Po(t-n)<jo&&(t-=n*jo),Po(r-s)<jo&&(r-=s*jo),a=Jt(t,a,r,o),e.point(n,a),e.lineEnd(),e.lineStart(),e.point(s,a),i=0),e.point(t=r,a=o),n=s},lineEnd:function(){e.lineEnd(),t=a=NaN},clean:function(){return 2-i}}},function(e,t,a,n){var i;if(null==e)i=a*Uo,n.point(-No,i),n.point(0,i),n.point(No,i),n.point(No,0),n.point(No,-i),n.point(0,-i),n.point(-No,-i),n.point(-No,0),n.point(-No,i);else if(Po(e[0]-t[0])>jo){var r=e[0]<t[0]?No:-No;i=a*r/2,n.point(-r,i),n.point(0,i),n.point(r,i)}else n.point(t[0],t[1])},[-No,-No/2]),Gs=1e9,Rs,Os,Ds,zs,Fs,Ms,Xs,Hs,js,Bs,Ns;_o.geo.clipExtent=function(){var e={stream:function(e){return r&&(r.valid=!1),r=o(e),r.valid=!0,r},extent:function(s){return arguments.length?(o=na(t=+s[0][0],a=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),e):[[t,a],[n,i]]}},t,a,n,i,r,o;return e.extent([[0,0],[960,500]])},(_o.geo.conicEqualArea=function(){return ia(ra)}).raw=ra,_o.geo.albers=function(){return _o.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},_o.geo.albersUsa=function(){function e(e){var t=e[0],a=e[1];return r=null,(o(t,a),r)||(s(t,a),r)||d(t,a),r}var a=_o.geo.albers(),n=_o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i=_o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),t={point:function(e,t){r=[e,t]}},r,o,s,d;return e.invert=function(e){var r=a.scale(),o=a.translate(),t=(e[0]-o[0])/r,s=(e[1]-o[1])/r;return(.12<=s&&.234>s&&-.425<=t&&-.214>t?n:.166<=s&&.234>s&&-.214<=t&&-.115>t?i:a).invert(e)},e.stream=function(e){var t=a.stream(e),r=n.stream(e),o=i.stream(e);return{point:function(e,a){t.point(e,a),r.point(e,a),o.point(e,a)},sphere:function(){t.sphere(),r.sphere(),o.sphere()},lineStart:function(){t.lineStart(),r.lineStart(),o.lineStart()},lineEnd:function(){t.lineEnd(),r.lineEnd(),o.lineEnd()},polygonStart:function(){t.polygonStart(),r.polygonStart(),o.polygonStart()},polygonEnd:function(){t.polygonEnd(),r.polygonEnd(),o.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),n.precision(t),i.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),n.scale(.35*t),i.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(r){if(!arguments.length)return a.translate();var l=a.scale(),c=+r[0],g=+r[1];return o=a.translate(r).clipExtent([[c-.455*l,g-.238*l],[c+.455*l,g+.238*l]]).stream(t).point,s=n.translate([c-.307*l,g+.201*l]).clipExtent([[c-.425*l+jo,g+.12*l+jo],[c-.214*l-jo,g+.234*l-jo]]).stream(t).point,d=i.translate([c-.205*l,g+.212*l]).clipExtent([[c-.214*l+jo,g+.166*l+jo],[c-.115*l-jo,g+.234*l-jo]]).stream(t).point,e},e.scale(1070)};var Ys={point:F,lineStart:F,lineEnd:F,polygonStart:function(){Qs=0,Ys.lineStart=oa},polygonEnd:function(){Ys.lineStart=Ys.lineEnd=Ys.point=F,qs+=Po(Qs/2)}},Us={point:function(e,t){e<Zs&&(Zs=e),e>$s&&($s=e),t<Ks&&(Ks=t),t>Js&&(Js=t)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F},Ws={point:la,lineStart:ca,lineEnd:ga,polygonStart:function(){Ws.lineStart=pa},polygonEnd:function(){Ws.point=la,Ws.lineStart=ca,Ws.lineEnd=ga}},qs,Qs,Zs,Ks,$s,Js;_o.geo.path=function(){function e(e){return e&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),(!s||!s.valid)&&(s=r(o)),_o.geo.stream(e,s)),o.result()}function t(){return s=null,e}var a=4.5,n,i,r,o,s;return e.area=function(e){return qs=0,_o.geo.stream(e,r(Ys)),qs},e.centroid=function(e){return Ds=zs=Fs=Ms=Xs=Hs=js=Bs=Ns=0,_o.geo.stream(e,r(Ws)),Ns?[js/Ns,Bs/Ns]:Hs?[Ms/Hs,Xs/Hs]:Fs?[Ds/Fs,zs/Fs]:[NaN,NaN]},e.bounds=function(e){return $s=Js=-(Zs=Ks=Infinity),_o.geo.stream(e,r(Us)),[[Zs,Ks],[$s,Js]]},e.projection=function(e){return arguments.length?(r=(n=e)?e.stream||_a(e):O,t()):n},e.context=function(e){return arguments.length?(o=null==(i=e)?new sa:new ha(e),"function"!=typeof a&&o.pointRadius(a),t()):i},e.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(o.pointRadius(+t),+t),e):a},e.projection(_o.geo.albersUsa()).context(null)},_o.geo.transform=function(e){return{stream:function(t){var a=new xa(t);for(var n in e)a[n]=e[n];return a}}},xa.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},_o.geo.projection=ma,_o.geo.projectionMutator=fa,(_o.geo.equirectangular=function(){return ma(ba)}).raw=ba.invert=ba,_o.geo.rotation=function(e){function t(t){return t=e(t[0]*Wo,t[1]*Wo),t[0]*=qo,t[1]*=qo,t}return e=Ta(e[0]%360*Wo,e[1]*Wo,2<e.length?e[2]*Wo:0),t.invert=function(t){return t=e.invert(t[0]*Wo,t[1]*Wo),t[0]*=qo,t[1]*=qo,t},t},va.invert=ba,_o.geo.circle=function(){function e(){var e="function"==typeof t?t.apply(this,arguments):t,a=Ta(-e[0]*Wo,-e[1]*Wo,0).invert,n=[];return i(null,null,1,{point:function(e,t){n.push(e=a(e,t)),e[0]*=qo,e[1]*=qo}}),{type:"Polygon",coordinates:[n]}}var t=[0,0],a=6,n,i;return e.origin=function(a){return arguments.length?(t=a,e):t},e.angle=function(t){return arguments.length?(i=wa((n=+t)*Wo,a*Wo),e):n},e.precision=function(t){return arguments.length?(i=wa(n*Wo,(a=+t)*Wo),e):a},e.angle(90)},_o.geo.distance=function(e,a){var n=(a[0]-e[0])*Wo,i=e[1]*Wo,r=a[1]*Wo,s=S(n),d=o(n),l=S(i),c=o(i),p=S(r),h=o(r),u;return lo(g((u=h*s)*u+(u=c*p-l*h*d)*u),l*p+c*h*d)},_o.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return _o.range(d(g/i)*i,c,i).map(y).concat(_o.range(d(m/r)*r,u,r).map(S)).concat(_o.range(d(l/a)*a,s,a).filter(function(e){return Po(e%i)>jo}).map(f)).concat(_o.range(d(h/n)*n,p,n).filter(function(e){return Po(e%r)>jo}).map(x))}var a=10,n=a,i=90,r=360,o=2.5,s,l,c,g,p,h,u,m,f,x,y,S;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[y(g).concat(S(u).slice(1),y(c).reverse().slice(1),S(m).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(g=+t[0][0],c=+t[1][0],m=+t[0][1],u=+t[1][1],g>c&&(t=g,g=c,c=t),m>u&&(t=m,m=u,u=t),e.precision(o)):[[g,m],[c,u]]},e.minorExtent=function(t){return arguments.length?(l=+t[0][0],s=+t[1][0],h=+t[0][1],p=+t[1][1],l>s&&(t=l,l=s,s=t),h>p&&(t=h,h=p,p=t),e.precision(o)):[[l,h],[s,p]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(i=+t[0],r=+t[1],e):[i,r]},e.minorStep=function(t){return arguments.length?(a=+t[0],n=+t[1],e):[a,n]},e.precision=function(t){return arguments.length?(o=+t,f=ka(h,p,90),x=Ea(l,s,o),y=ka(m,u,90),S=Ea(g,c,o),e):o},e.majorExtent([[-180,-90+jo],[180,90-jo]]).minorExtent([[-180,-80-jo],[180,80+jo]])},_o.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),i||a.apply(this,arguments)]}}var t=Va,a=Ia,n,i;return e.distance=function(){return _o.geo.distance(n||t.apply(this,arguments),i||a.apply(this,arguments))},e.source=function(a){return arguments.length?(t=a,n="function"==typeof a?null:a,e):t},e.target=function(t){return arguments.length?(a=t,i="function"==typeof t?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},_o.geo.interpolate=function(e,t){return Ga(e[0]*Wo,e[1]*Wo,t[0]*Wo,t[1]*Wo)},_o.geo.length=function(e){return ad=0,_o.geo.stream(e,ed),ad};var ed={sphere:F,point:F,lineStart:function(){function e(e,r){var s=S(r*=Wo),d=o(r),l=Po((e*=Wo)-a),t=o(l);ad+=lo(g((l=d*S(l))*l+(l=i*s-n*d*t)*l),n*s+i*d*t),a=e,n=s,i=d}var a,n,i;ed.point=function(t,r){a=t*Wo,n=S(r*=Wo),i=o(r),ed.point=e},ed.lineEnd=function(){ed.point=ed.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F},td=Ra(function(e){return g(2/(1+e))},function(e){return 2*ho(e/2)}),ad;(_o.geo.azimuthalEqualArea=function(){return ma(td)}).raw=td;var nd=Ra(function(e){var t=uo(e);return t&&t/S(t)},O);(_o.geo.azimuthalEquidistant=function(){return ma(nd)}).raw=nd,(_o.geo.conicConformal=function(){return ia(Oa)}).raw=Oa,(_o.geo.conicEquidistant=function(){return ia(Da)}).raw=Da;var id=Ra(function(e){return 1/e},Math.atan);(_o.geo.gnomonic=function(){return ma(id)}).raw=id,za.invert=function(e,t){return[e,2*oo(po(t))-Uo]},(_o.geo.mercator=function(){return Fa(za)}).raw=za;var rd=Ra(function(){return 1},Math.asin);(_o.geo.orthographic=function(){return ma(rd)}).raw=rd;var od=Ra(function(e){return 1/(1+e)},function(e){return 2*oo(e)});(_o.geo.stereographic=function(){return ma(od)}).raw=od,Ma.invert=function(e,t){return[-t,2*oo(po(e))-Uo]},(_o.geo.transverseMercator=function(){var e=Fa(Ma),t=e.center,a=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?a([e[0],e[1],2<e.length?e[2]+90:90]):(e=a(),[e[0],e[1],e[2]-90])},a([0,0,90])}).raw=Ma,_o.geom={},_o.geom.hull=function(e){function t(e){if(3>e.length)return[];var t=Be(a),o=Be(r),s=e.length,n=[],d=[],l;for(l=0;l<s;l++)n.push([+t.call(this,e[l],l),+o.call(this,e[l],l),l]);for(n.sort(Ba),l=0;l<s;l++)d.push([n[l][0],-n[l][1]]);var i=ja(n),c=ja(d),g=c[0]===i[0],p=c[c.length-1]===i[i.length-1],h=[];for(l=i.length-1;0<=l;--l)h.push(e[n[i[l]][2]]);for(l=+g;l<c.length-p;++l)h.push(e[n[c[l]][2]]);return h}var a=Xa,r=Ha;return arguments.length?t(e):(t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(r=e,t):r},t)},_o.geom.polygon=function(e){return Eo(e,sd),e};var sd=_o.geom.polygon.prototype=[];sd.area=function(){for(var e=-1,t=this.length,n=this[t-1],i=0,r;++e<t;)r=n,n=this[e],i+=r[1]*n[0]-r[0]*n[1];return .5*i},sd.centroid=function(e){var t=-1,i=this.length,n=0,r=0,o=this[i-1],s,a;for(arguments.length||(e=-1/(6*this.area()));++t<i;)s=o,o=this[t],a=s[0]*o[1]-o[0]*s[1],n+=(s[0]+o[0])*a,r+=(s[1]+o[1])*a;return[n*e,r*e]},sd.clip=function(e){for(var t=Ua(e),r=-1,i=this.length-Ua(this),n=this[i-1],a,o,s,l,g,c;++r<i;){for(a=e.slice(),e.length=0,l=this[r],g=a[(s=a.length-t)-1],o=-1;++o<s;)c=a[o],Na(c,n,l)?(!Na(g,n,l)&&e.push(Ya(g,c,n,l)),e.push(c)):Na(g,n,l)&&e.push(Ya(g,c,n,l)),g=c;t&&e.push(e[0]),n=l}return e};var dd=[],ld=[],cd,gd,pd,hd,ud;en.prototype.prepare=function(){for(var e=this.edges,t=e.length,a;t--;)a=e[t].edge,a.b&&a.a||e.splice(t,1);return e.sort(an),e.length},hn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},un.prototype={insert:function(e,t){var a,n,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;a=e}else this._?(e=mn(this._),t.P=null,t.N=e,e.P=e.L=t,a=e):(t.P=t.N=null,this._=t,a=null);for(t.L=t.R=null,t.U=a,t.C=!0,e=t;a&&a.C;)n=a.U,a===n.L?(i=n.R,i&&i.C?(a.C=i.C=!1,n.C=!0,e=n):(e===a.R&&(xn(this,a),e=a,a=e.U),a.C=!1,n.C=!0,yn(this,n))):(i=n.L,i&&i.C?(a.C=i.C=!1,n.C=!0,e=n):(e===a.L&&(yn(this,a),e=a,a=e.U),a.C=!1,n.C=!0,xn(this,n))),a=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,a=e.L,n=e.R,i,r,o;if(r=a?n?mn(n):a:n,t?t.L===e?t.L=r:t.R=r:this._=r,a&&n?(o=r.C,r.C=e.C,r.L=a,a.U=r,r===n?(r.U=t,t=r,e=r.R):(t=r.U,r.U=e.U,e=r.R,t.L=e,r.R=n,n.U=r)):(o=e.C,e=r),e&&(e.U=t),!o){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===t.L){if(i=t.R,i.C&&(i.C=!1,t.C=!0,xn(this,t),i=t.R),i.L&&i.L.C||i.R&&i.R.C){i.R&&i.R.C||(i.L.C=!1,i.C=!0,yn(this,i),i=t.R),i.C=t.C,t.C=i.R.C=!1,xn(this,t),e=this._;break}}else if(i=t.L,i.C&&(i.C=!1,t.C=!0,yn(this,t),i=t.L),i.L&&i.L.C||i.R&&i.R.C){i.L&&i.L.C||(i.R.C=!1,i.C=!0,xn(this,i),i=t.L),i.C=t.C,t.C=i.L.C=!1,yn(this,t),e=this._;break}i.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}},_o.geom.voronoi=function(e){function t(e){var t=Array(e.length),n=d[0][0],r=d[0][1],o=d[1][0],s=d[1][1];return fn(a(e),d).cells.forEach(function(a,d){var i=a.edges,l=a.site,c=t[d]=i.length?i.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=n&&l.x<=o&&l.y>=r&&l.y<=s?[[n,s],[o,s],[o,r],[n,r]]:[];c.point=e[d]}),t}function a(e){return e.map(function(e,t){return{x:s(r(e,t)/jo)*jo,y:s(o(e,t)/jo)*jo,i:t}})}var n=Xa,i=Ha,r=n,o=i,d=_d;return e?t(e):(t.links=function(e){return fn(a(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return fn(a(e)).cells.forEach(function(a,n){for(var i=a.site,r=a.edges.sort(an),o=-1,s=r.length,d=r[s-1].edge,l=d.l===i?d.r:d.l,c,g;++o<s;)c=d,g=l,d=r[o].edge,l=d.l===i?d.r:d.l,n<g.i&&n<l.i&&0>bn(i,g,l)&&t.push([e[n],e[g.i],e[l.i]])}),t},t.x=function(e){return arguments.length?(r=Be(n=e),t):n},t.y=function(e){return arguments.length?(o=Be(i=e),t):i},t.clipExtent=function(e){return arguments.length?(d=null==e?_d:e,t):d===_d?null:d},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):d===_d?null:d&&d[1]},t)};var _d=[[-1000000,-1000000],[1000000,1000000]];_o.geom.delaunay=function(e){return _o.geom.voronoi().triangles(e)},_o.geom.quadtree=function(e,t,a,r,o){function n(e){function g(e,t,a,n,i,r,o,s){if(!(isNaN(a)||isNaN(n)))if(e.leaf){var d=e.x,l=e.y;if(null==d)e.x=a,e.y=n,e.point=t;else if(.01>Po(d-a)+Po(l-n))p(e,t,a,n,i,r,o,s);else{var c=e.point;e.x=e.y=e.point=null,p(e,c,d,l,i,r,o,s),p(e,t,a,n,i,r,o,s)}}else p(e,t,a,n,i,r,o,s)}function p(e,t,a,n,r,o,s,d){var l=.5*(r+s),c=.5*(o+d),p=a>=l,h=n>=c,u=h<<1|p;e.leaf=!1,e=e.nodes[u]||(e.nodes[u]=An()),p?r=l:s=l,h?o=c:d=c,g(e,t,a,n,r,o,s,d)}var h=Be(s),u=Be(l),x,d,y,m,i,n,S,b,v;if(null!=t)n=t,S=a,b=r,v=o;else if(b=v=-(n=S=Infinity),d=[],y=[],i=e.length,c)for(m=0;m<i;++m)x=e[m],x.x<n&&(n=x.x),x.y<S&&(S=x.y),x.x>b&&(b=x.x),x.y>v&&(v=x.y),d.push(x.x),y.push(x.y);else for(m=0;m<i;++m){var f=+h(x=e[m],m),T=+u(x,m);f<n&&(n=f),T<S&&(S=T),f>b&&(b=f),T>v&&(v=T),d.push(f),y.push(T)}var A=b-n,P=v-S;A>P?v=S+A:b=n+P;var C=An();if(C.add=function(e){g(C,e,+h(e,++m),+u(e,m),n,S,b,v)},C.visit=function(e){Pn(e,C,n,S,b,v)},C.find=function(e){return Cn(C,e[0],e[1],n,S,b,v)},m=-1,null==t){for(;++m<i;)g(C,e[m],d[m],y[m],n,S,b,v);--m}else e.forEach(C.add);return d=y=e=x=null,C}var s=Xa,l=Ha,c;return(c=arguments.length)?(s=vn,l=Tn,3===c&&(o=a,r=t,a=t=0),n(e)):(n.x=function(e){return arguments.length?(s=e,n):s},n.y=function(e){return arguments.length?(l=e,n):l},n.extent=function(e){return arguments.length?(null==e?t=a=r=o=null:(t=+e[0][0],a=+e[0][1],r=+e[1][0],o=+e[1][1]),n):null==t?null:[[t,a],[r,o]]},n.size=function(e){return arguments.length?(null==e?t=a=r=o=null:(t=a=0,r=+e[0],o=+e[1]),n):null==t?null:[r-t,o-a]},n)},_o.interpolateRgb=wn,_o.interpolateObject=Ln,_o.interpolateNumber=kn,_o.interpolateString=En;var xd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yd=new RegExp(xd.source,"g");_o.interpolate=Vn,_o.interpolators=[function(e,a){var n=typeof a;return("string"==n?ls.has(a.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(a)?wn:En:a instanceof Te?wn:Array.isArray(a)?In:"object"==n&&isNaN(a)?Ln:kn)(e,a)}],_o.interpolateArray=In;var md=function(){return O},fd=_o.map({linear:md,poly:function(a){return function(e){return c(e,a)}},quad:function(){return Dn},cubic:function(){return zn},sin:function(){return Mn},exp:function(){return Xn},circle:function(){return Hn},elastic:function(e,a){var n;return 2>arguments.length&&(a=.45),arguments.length?n=a/Yo*ho(1/e):(e=1,n=a/4),function(i){return 1+e*c(2,-10*i)*S((i-n)*Yo/a)}},back:function(e){return e||(e=1.70158),function(a){return a*a*((e+1)*a-e)}},bounce:function(){return jn}}),Sd=_o.map({in:O,out:Rn,"in-out":On,"out-in":function(e){return On(Rn(e))}});_o.ease=function(e){var a=e.indexOf("-"),n=0<=a?e.slice(0,a):e,t=0<=a?e.slice(a+1):"in";return n=fd.get(n)||md,t=Sd.get(t)||O,Gn(t(n.apply(null,xo.call(arguments,1))))},_o.interpolateHcl=function(e,t){e=_o.hcl(e),t=_o.hcl(t);var a=e.h,n=e.c,i=e.l,r=t.h-a,o=t.c-n,s=t.l-i;return isNaN(o)&&(o=0,n=isNaN(n)?t.c:n),isNaN(r)?(r=0,a=isNaN(a)?t.h:a):180<r?r-=360:-180>r&&(r+=360),function(e){return we(a+r*e,n+o*e,i+s*e)+""}},_o.interpolateHsl=function(e,t){e=_o.hsl(e),t=_o.hsl(t);var a=e.h,n=e.s,i=e.l,r=t.h-a,o=t.s-n,s=t.l-i;return isNaN(o)&&(o=0,n=isNaN(n)?t.s:n),isNaN(r)?(r=0,a=isNaN(a)?t.h:a):180<r?r-=360:-180>r&&(r+=360),function(e){return Pe(a+r*e,n+o*e,i+s*e)+""}},_o.interpolateLab=function(e,t){e=_o.lab(e),t=_o.lab(t);var a=e.l,n=e.a,i=e.b,r=t.l-a,o=t.a-n,s=t.b-i;return function(e){return ke(a+r*e,n+o*e,i+s*e)+""}},_o.interpolateRound=Bn,_o.transform=function(e){var t=mo.createElementNS(_o.ns.prefix.svg,"g");return(_o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var a=t.transform.baseVal.consolidate()}return new Nn(a?a.matrix:bd)})(e)},Nn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bd={a:1,b:0,c:0,d:1,e:0,f:0};_o.interpolateTransform=Jn,_o.layout={},_o.layout.bundle=function(){return function(e){for(var t=[],a=-1,i=e.length;++a<i;)t.push(ai(e[a]));return t}},_o.layout.chord=function(){function e(){var e={},p=[],a=_o.range(l),h=[],u,y,m,f,i;for(o=[],s=[],u=0,f=-1;++f<l;){for(y=0,i=-1;++i<l;)y+=d[f][i];p.push(y),h.push(_o.range(l)),u+=y}for(n&&a.sort(function(e,t){return n(p[e],p[t])}),c&&h.forEach(function(e,t){e.sort(function(e,a){return c(d[t][e],d[t][a])})}),u=(Yo-r*l)/u,y=0,f=-1;++f<l;){for(m=y,i=-1;++i<l;){var S=a[f],b=h[S][i],T=d[S][b],A=y,P=y+=T*u;e[S+"-"+b]={index:S,subindex:b,startAngle:A,endAngle:P,value:T}}s[S]={index:S,startAngle:m,endAngle:y,value:p[S]},y+=r}for(f=-1;++f<l;)for(i=f-1;++i<l;){var C=e[f+"-"+i],w=e[i+"-"+f];(C.value||w.value)&&o.push(C.value<w.value?{source:w,target:C}:{source:C,target:w})}g&&t()}function t(){o.sort(function(e,t){return g((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var a={},r=0,o,s,d,l,n,c,g;return a.matrix=function(e){return arguments.length?(l=(d=e)&&d.length,o=s=null,a):d},a.padding=function(e){return arguments.length?(r=e,o=s=null,a):r},a.sortGroups=function(e){return arguments.length?(n=e,o=s=null,a):n},a.sortSubgroups=function(e){return arguments.length?(c=e,o=null,a):c},a.sortChords=function(e){return arguments.length?(g=e,o&&t(),a):g},a.chords=function(){return o||e(),o},a.groups=function(){return s||e(),s},a},_o.layout.force=function(){function e(e){return function(t,a,r,o){if(t.point!==e){var s=t.cx-e.x,d=t.cy-e.y,l=o-a,c=s*s+d*d;if(l*l/i<c){if(c<n){var g=t.charge/c;e.px-=s*g,e.py-=d*g}return!0}if(t.point&&c&&c<n){var g=t.pointCharge/c;e.px-=s*g,e.py-=d*g}}return!t.charge}}function t(e){e.px=_o.event.x,e.py=_o.event.y,a.resume()}var a={},r=_o.dispatch("start","tick","end"),d=[1,1],s=.9,l=vd,c=Td,p=-30,n=Ad,h=.1,i=.64,u=[],f=[],S,o,b,v,T,x;return a.tick=function(){if(.005>(b*=.99))return S=null,r.end({type:"end",alpha:b=0}),!0;var a=u.length,n=f.length,c,m,i,o,A,t,l,P,C;for(m=0;m<n;++m)i=f[m],o=i.source,A=i.target,P=A.x-o.x,C=A.y-o.y,(t=P*P+C*C)&&(t=b*T[m]*((t=g(t))-v[m])/t,P*=t,C*=t,A.x-=P*(l=o.weight+A.weight?o.weight/(o.weight+A.weight):.5),A.y-=C*l,o.x+=P*(l=1-l),o.y+=C*l);if((l=b*h)&&(P=d[0]/2,C=d[1]/2,m=-1,l))for(;++m<a;)i=u[m],i.x+=(P-i.x)*l,i.y+=(C-i.y)*l;if(p)for(li(c=_o.geom.quadtree(u),b,x),m=-1;++m<a;)(i=u[m]).fixed||c.visit(e(i));for(m=-1;++m<a;)i=u[m],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*s,i.y-=(i.py-(i.py=i.y))*s);r.tick({type:"tick",alpha:b})},a.nodes=function(e){return arguments.length?(u=e,a):u},a.links=function(e){return arguments.length?(f=e,a):f},a.size=function(e){return arguments.length?(d=e,a):d},a.linkDistance=function(e){return arguments.length?(l="function"==typeof e?e:+e,a):l},a.distance=a.linkDistance,a.linkStrength=function(e){return arguments.length?(c="function"==typeof e?e:+e,a):c},a.friction=function(e){return arguments.length?(s=+e,a):s},a.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,a):p},a.chargeDistance=function(e){return arguments.length?(n=e*e,a):g(n)},a.gravity=function(e){return arguments.length?(h=+e,a):h},a.theta=function(e){return arguments.length?(i=e*e,a):g(i)},a.alpha=function(e){return arguments.length?(e=+e,b?0<e?b=e:(S.c=null,S.t=NaN,S=null,r.end({type:"end",alpha:b=0})):0<e&&(r.start({type:"start",alpha:b=e}),S=qe(a.tick)),a):b},a.start=function(){function e(e,a){if(!i){for(i=Array(t),s=0;s<t;++s)i[s]=[];for(s=0;s<n;++s){var r=f[s];i[r.source.index].push(r.target),i[r.target.index].push(r.source)}}for(var o=i[g],s=-1,d=o.length,l;++s<d;)if(!isNaN(l=o[s][e]))return l;return Math.random()*a}var t=u.length,n=f.length,r=d[0],s=d[1],g,i,h;for(g=0;g<t;++g)(h=u[g]).index=g,h.weight=0;for(g=0;g<n;++g)h=f[g],"number"==typeof h.source&&(h.source=u[h.source]),"number"==typeof h.target&&(h.target=u[h.target]),++h.source.weight,++h.target.weight;for(g=0;g<t;++g)h=u[g],isNaN(h.x)&&(h.x=e("x",r)),isNaN(h.y)&&(h.y=e("y",s)),isNaN(h.px)&&(h.px=h.x),isNaN(h.py)&&(h.py=h.y);if(v=[],"function"==typeof l)for(g=0;g<n;++g)v[g]=+l.call(this,f[g],g);else for(g=0;g<n;++g)v[g]=l;if(T=[],"function"==typeof c)for(g=0;g<n;++g)T[g]=+c.call(this,f[g],g);else for(g=0;g<n;++g)T[g]=c;if(x=[],"function"==typeof p)for(g=0;g<t;++g)x[g]=+p.call(this,u[g],g);else for(g=0;g<t;++g)x[g]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return o||(o=_o.behavior.drag().origin(O).on("dragstart.force",ri).on("drag.force",t).on("dragend.force",oi)),arguments.length?void this.on("mouseover.force",si).on("mouseout.force",di).call(o):o},_o.rebind(a,r,"on")};var vd=20,Td=1,Ad=Infinity;_o.layout.hierarchy=function(){function e(r){var o=[r],s=[],d;for(r.depth=0;null!=(d=o.pop());)if(s.push(d),(n=a.call(e,d,d.depth))&&(l=n.length)){for(var l,n,c;0<=--l;)o.push(c=n[l]),c.parent=d,c.depth=d.depth+1;i&&(d.value=0),d.children=n}else i&&(d.value=+i.call(e,d,d.depth)||0),delete d.children;return pi(r,function(e){var a,n;t&&(a=e.children)&&a.sort(t),i&&(n=e.parent)&&(n.value+=e.value)}),s}var t=_i,a=hi,i=ui;return e.sort=function(a){return arguments.length?(t=a,e):t},e.children=function(t){return arguments.length?(a=t,e):a},e.value=function(t){return arguments.length?(i=t,e):i},e.revalue=function(t){return i&&(gi(t,function(e){e.children&&(e.value=0)}),pi(t,function(t){var a;t.children||(t.value=+i.call(e,t,t.depth)||0),(a=t.parent)&&(a.value+=t.value)})),t},e},_o.layout.partition=function(){function e(t,a,r,o){var s=t.children;if(t.x=a,t.y=t.depth*o,t.dx=r,t.dy=o,s&&(i=s.length)){var l=-1,i,n,c;for(r=t.value?r/t.value:0;++l<i;)e(n=s[l],a,c=n.value*r,o),a+=c}}function t(e){var a=e.children,r=0;if(a&&(i=a.length))for(var o=-1,i;++o<i;)r=T(r,t(a[o]));return 1+r}function a(a,o){var i=n.call(this,a,o);return e(i[0],0,r[0],r[1]/t(i[0])),i}var n=_o.layout.hierarchy(),r=[1,1];return a.size=function(e){return arguments.length?(r=e,a):r},ci(a,n)},_o.layout.pie=function(){function e(l){var c=l.length,n=l.map(function(a,n){return+t.call(e,a,n)}),g=+("function"==typeof o?o.apply(this,arguments):o),h=("function"==typeof s?s.apply(this,arguments):s)-g,u=f(i(h)/c,+("function"==typeof d?d.apply(this,arguments):d)),x=u*(0>h?-1:1),y=_o.sum(n),m=y?(h-c*x)/y:0,S=_o.range(c),b=[],T;return null!=r&&S.sort(r===Pd?function(e,t){return n[t]-n[e]}:function(e,t){return r(l[e],l[t])}),S.forEach(function(e){b[e]={data:l[e],value:T=n[e],startAngle:g,endAngle:g+=T*m+x,padAngle:u}}),b}var t=Number,r=Pd,o=0,s=Yo,d=0;return e.value=function(a){return arguments.length?(t=a,e):t},e.sort=function(t){return arguments.length?(r=t,e):r},e.startAngle=function(t){return arguments.length?(o=t,e):o},e.endAngle=function(t){return arguments.length?(s=t,e):s},e.padAngle=function(t){return arguments.length?(d=t,e):d},e};var Pd={};_o.layout.stack=function(){function e(d,l){if(!(x=d.length))return d;var c=d.map(function(a,n){return t.call(e,a,n)}),g=c.map(function(t){return t.map(function(t,a){return[n.call(e,t,a),o.call(e,t,a)]})}),p=a.call(e,g,l);c=_o.permute(c,p),g=_o.permute(g,p);var h=r.call(e,g,l),u=c[0].length,x,y,i,m;for(i=0;i<u;++i)for(s.call(e,c[0][i],m=h[i],g[0][i][1]),y=1;y<x;++y)s.call(e,c[y][i],m+=g[y-1][i][1],g[y][i][1]);return d}var t=O,a=Si,r=bi,s=fi,n=yi,o=mi;return e.values=function(a){return arguments.length?(t=a,e):t},e.order=function(t){return arguments.length?(a="function"==typeof t?t:Cd.get(t)||Si,e):a},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:wd.get(t)||bi,e):r},e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(s=t,e):s},e};var Cd=_o.map({"inside-out":function(e){var t=e.length,n=e.map(vi),a=e.map(Ti),r=_o.range(t).sort(function(e,t){return n[e]-n[t]}),o=0,s=0,d=[],l=[],c,i;for(c=0;c<t;++c)i=r[c],o<s?(o+=a[i],d.push(i)):(s+=a[i],l.push(i));return l.reverse().concat(d)},reverse:function(e){return _o.range(e.length).reverse()},default:Si}),wd=_o.map({silhouette:function(e){var t=e.length,a=e[0].length,n=[],r=0,s=[],d,i,l;for(i=0;i<a;++i){for(d=0,l=0;d<t;d++)l+=e[d][i][1];l>r&&(r=l),n.push(l)}for(i=0;i<a;++i)s[i]=(r-n[i])/2;return s},wiggle:function(e){var t=e.length,a=e[0],n=a.length,r=[],s,i,d,l,c,g,p,h,o;for(r[0]=h=o=0,i=1;i<n;++i){for(s=0,l=0;s<t;++s)l+=e[s][i][1];for(s=0,c=0,p=a[i][0]-a[i-1][0];s<t;++s){for(d=0,g=(e[s][i][1]-e[s][i-1][1])/(2*p);d<s;++d)g+=(e[d][i][1]-e[d][i-1][1])/p;c+=g*e[s][i][1]}r[i]=h-=l?c/l*p:0,h<o&&(o=h)}for(i=0;i<n;++i)r[i]-=o;return r},expand:function(e){var t=e.length,a=e[0].length,n=[],r,i,s;for(i=0;i<a;++i){for(r=0,s=0;r<t;r++)s+=e[r][i][1];if(s)for(r=0;r<t;r++)e[r][i][1]/=s;else for(r=0;r<t;r++)e[r][i][1]=1/t}for(i=0;i<a;++i)n[i]=0;return n},zero:bi});_o.layout.histogram=function(){function e(e,s){for(var i=[],d=e.map(a,this),l=r.call(this,d,s),c=o.call(this,l,d,s),s=-1,g=d.length,n=c.length-1,p=t?1:1/g,h,u;++s<n;)h=i[s]=[],h.dx=c[s+1]-(h.x=c[s]),h.y=0;if(0<n)for(s=-1;++s<g;)u=d[s],u>=l[0]&&u<=l[1]&&(h=i[_o.bisect(c,u,1,n)-1],h.y+=p,h.push(e[s]));return i}var t=!0,a=Number,r=wi,o=Pi;return e.value=function(t){return arguments.length?(a=t,e):a},e.range=function(t){return arguments.length?(r=Be(t),e):r},e.bins=function(t){return arguments.length?(o="number"==typeof t?function(e){return Ci(e,t)}:Be(t),e):o},e.frequency=function(a){return arguments.length?(t=!!a,e):t},e},_o.layout.pack=function(){function e(e,s){var i=t.call(this,e,s),d=i[0],l=n[0],c=n[1],p=null==o?g:"function"==typeof o?o:function(){return o};if(d.x=d.y=0,pi(d,function(e){e.r=+p(e.value)}),pi(d,Ii),a){var r=a*(o?1:T(2*d.r/l,2*d.r/c))/2;pi(d,function(e){e.r+=r}),pi(d,Ii),pi(d,function(e){e.r-=r})}return Oi(d,l/2,c/2,o?1:1/T(2*d.r/l,2*d.r/c)),i}var t=_o.layout.hierarchy().sort(Li),a=0,n=[1,1],o;return e.size=function(t){return arguments.length?(n=t,e):n},e.radius=function(t){return arguments.length?(o=null==t||"function"==typeof t?t:+t,e):o},e.padding=function(t){return arguments.length?(a=+t,e):a},ci(e,t)},_o.layout.tree=function(){function e(e,c){var i=o.call(this,e,c),g=i[0],p=t(g);if(pi(p,a),p.parent.m=-p.z,gi(p,n),l)gi(g,r);else{var h=g,u=g,x=g;gi(g,function(e){e.x<h.x&&(h=e),e.x>u.x&&(u=e),e.depth>x.depth&&(x=e)});var y=s(h,u)/2-h.x,m=d[0]/(u.x+s(u,h)/2+y),f=d[1]/(x.depth||1);gi(g,function(e){e.x=(e.x+y)*m,e.y=e.depth*f})}return i}function t(e){for(var t={A:null,children:[e]},a=[t],r;null!=(r=a.pop());)for(var o=r.children,s=0,d=o.length,n;s<d;++s)a.push((o[s]=n={_:o[s],parent:r,children:(n=o[s].children)&&n.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=n);return t.children[0]}function a(e){var t=e.children,a=e.parent.children,n=e.i?a[e.i-1]:null;if(t.length){Hi(e);var r=(t[0].z+t[t.length-1].z)/2;n?(e.z=n.z+s(e._,n._),e.m=e.z-r):e.z=r}else n&&(e.z=n.z+s(e._,n._));e.parent.A=i(e,n,e.parent.A||a[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,a){if(t){for(var n=e,i=e,r=t,o=n.parent.children[0],d=n.m,l=i.m,c=r.m,g=o.m,p;r=Mi(r),n=Fi(n),r&&n;)o=Fi(o),i=Mi(i),i.a=e,p=r.z+c-n.z-d+s(r._,n._),0<p&&(Xi(ji(r,e,a),e,p),d+=p,l+=p),c+=r.m,d+=n.m,g+=o.m,l+=i.m;r&&!Mi(i)&&(i.t=r,i.m+=c-l),n&&!Fi(o)&&(o.t=n,o.m+=d-g,a=e)}return a}function r(e){e.x*=d[0],e.y=e.depth*d[1]}var o=_o.layout.hierarchy().sort(null).value(null),s=zi,d=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(d=t)?r:null,e):l?null:d},e.nodeSize=function(t){return arguments.length?(l=null==(d=t)?null:r,e):l?d:null},ci(e,o)},_o.layout.cluster=function(){function e(e,o){var i=t.call(this,e,o),s=i[0],d=0,l;pi(s,function(e){var t=e.children;t&&t.length?(e.x=Ni(t),e.y=Bi(t)):(e.x=l?d+=a(e,l):0,e.y=0,l=e)});var c=Yi(s),g=Ui(s),p=c.x-a(c,g)/2,h=g.x+a(g,c)/2;return pi(s,r?function(e){e.x=(e.x-s.x)*n[0],e.y=(s.y-e.y)*n[1]}:function(e){e.x=(e.x-p)/(h-p)*n[0],e.y=(1-(s.y?e.y/s.y:1))*n[1]}),i}var t=_o.layout.hierarchy().sort(null).value(null),a=zi,n=[1,1],r=!1;return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(r=null==(n=t),e):r?null:n},e.nodeSize=function(t){return arguments.length?(r=null!=(n=t),e):r?n:null},ci(e,t)},_o.layout.treemap=function(){function e(e,t){for(var a=-1,i=e.length,n,r;++a<i;)r=(n=e[a]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(a){var o=a.children;if(o&&o.length){var s=g(a),d=[],l=o.slice(),c=Infinity,p="slice"==h?s.dx:"dice"==h?s.dy:"slice-dice"==h?1&a.depth?s.dy:s.dx:f(s.dx,s.dy),u,x,y;for(e(l,s.dx*s.dy/a.value),d.area=0;0<(y=l.length);)d.push(u=l[y-1]),d.area+=u.area,"squarify"!=h||(x=i(d,p))<=c?(l.pop(),c=x):(d.area-=d.pop().area,r(d,p,s,!1),p=f(s.dx,s.dy),d.length=d.area=0,c=Infinity);d.length&&(r(d,p,s,!0),d.length=d.area=0),o.forEach(t)}}function a(t){var n=t.children;if(n&&n.length){var i=g(t),o=n.slice(),s=[],d;for(e(o,i.dx*i.dy/t.value),s.area=0;d=o.pop();)s.push(d),s.area+=d.area,null!=d.z&&(r(s,d.z?i.dx:i.dy,i,!o.length),s.length=s.area=0);n.forEach(a)}}function i(e,t){for(var a=e.area,o=0,s=Infinity,d=-1,i=e.length,n;++d<i;)(n=e[d].area)&&(n<s&&(s=n),n>o&&(o=n));return a*=a,t*=t,a?T(t*o*y/a,a/(t*s*y)):Infinity}function r(e,t,a,r){var s=-1,i=e.length,n=a.x,l=a.y,c=t?d(e.area/t):0,g;if(t==a.dx){for((r||c>a.dy)&&(c=a.dy);++s<i;)g=e[s],g.x=n,g.y=l,g.dy=c,n+=g.dx=f(a.x+a.dx-n,c?d(g.area/c):0);g.z=!0,g.dx+=a.x+a.dx-n,a.y+=c,a.dy-=c}else{for((r||c>a.dx)&&(c=a.dx);++s<i;)g=e[s],g.x=n,g.y=l,g.dx=c,l+=g.dy=f(a.y+a.dy-l,c?d(g.area/c):0);g.z=!1,g.dy+=a.y+a.dy-l,a.x+=c,a.dx-=c}}function n(n){var i=u||o(n),r=i[0];return r.x=r.y=0,r.value?(r.dx=l[0],r.dy=l[1]):r.dx=r.dy=0,u&&o.revalue(r),e([r],r.dx*r.dy/r.value),(u?a:t)(r),p&&(u=i),i}var o=_o.layout.hierarchy(),d=s,l=[1,1],c=null,g=Wi,p=!1,h="squarify",y=.5*(1+2.23606797749979),u;return n.size=function(e){return arguments.length?(l=e,n):l},n.padding=function(e){function t(t){return qi(t,e)}if(!arguments.length)return c;var a;return g=null==(c=e)?Wi:"function"==(a=typeof e)?function(t){var a=e.call(n,t,t.depth);return null==a?Wi(t):qi(t,"number"==typeof a?[a,a,a,a]:a)}:"number"===a?(e=[e,e,e,e],t):t,n},n.round=function(e){return arguments.length?(d=e?s:Number,n):d!=Number},n.sticky=function(e){return arguments.length?(p=e,u=null,n):p},n.ratio=function(e){return arguments.length?(y=e,n):y},n.mode=function(e){return arguments.length?(h=e+"",n):h},ci(n,o)},_o.random={normal:function(e,t){var a=arguments.length;return 2>a&&(t=1),1>a&&(e=0),function(){var a,n,i;do a=2*Math.random()-1,n=2*Math.random()-1,i=a*a+n*n;while(!i||1<i);return e+t*a*g(-2*go(i)/i)}},logNormal:function(){var e=_o.random.normal.apply(_o,arguments);return function(){return po(e())}},bates:function(e){var t=_o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,a=0;a<e;a++)t+=Math.random();return t}}},_o.scale={};var Ld={floor:O,ceil:O};_o.scale.linear=function(){return tr([0,1],[0,1],Vn,!1)};var kd={s:1,g:1,p:1,r:1,e:1};_o.scale.log=function(){return lr(_o.scale.linear().domain([0,1]),10,!0,[1,10])};var Ed=_o.format(".0e"),Vd={floor:function(e){return-d(-e)},ceil:function(e){return-r(-e)}};_o.scale.pow=function(){return cr(_o.scale.linear(),1,[0,1])},_o.scale.sqrt=function(){return _o.scale.pow().exponent(.5)},_o.scale.ordinal=function(){return pr([],{t:"range",a:[[]]})},_o.scale.category10=function(){return _o.scale.ordinal().range(Id)},_o.scale.category20=function(){return _o.scale.ordinal().range(Gd)},_o.scale.category20b=function(){return _o.scale.ordinal().range(Rd)},_o.scale.category20c=function(){return _o.scale.ordinal().range(Od)};var Id=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(De),Gd=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(De),Rd=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(De),Od=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(De);_o.scale.quantile=function(){return hr([],[])},_o.scale.quantize=function(){return ur(0,1,[0,1])},_o.scale.threshold=function(){return _r([0.5],[0,1])},_o.scale.identity=function(){return xr([0,1])},_o.svg={},_o.svg.arc=function(){function e(){var e=T(0,+n.apply(this,arguments)),p=T(0,+s.apply(this,arguments)),h=d.apply(this,arguments)-Uo,u=l.apply(this,arguments)-Uo,x=i(u-h),y=h>u?0:1;if(p<e&&(A=p,p=e,e=A),x>=Yo-jo)return t(p,y)+(e?t(e,1-y):"")+"Z";var m=0,b=0,v=[],A,P,C,w,L,k,E,V,I,G,R,O;if((w=(+c.apply(this,arguments)||0)/2)&&(C=r===Dd?g(e*e+p*p):+r.apply(this,arguments),!y&&(b*=-1),p&&(b=me(C/p*S(w))),e&&(m=me(C/e*S(w)))),p){L=p*o(h+b),k=p*S(h+b),E=p*o(u-b),V=p*S(u-b);var D=i(u-h-2*b)<=No?0:1;if(b&&Tr(L,k,E,V)===y^D){var z=(h+u)/2;L=p*o(z),k=p*S(z),E=V=null}}else L=k=0;if(e){I=e*o(u-m),G=e*S(u-m),R=e*o(h+m),O=e*S(h+m);var F=i(h-u+2*m)<=No?0:1;if(m&&Tr(I,G,R,O)===1-y^F){var M=(h+u)/2;I=e*o(M),G=e*S(M),R=O=null}}else I=G=0;if(x>jo&&.001<(A=f(i(p-e)/2,+a.apply(this,arguments)))){P=e<p^y?0:1;var X=A,H=A;if(x<No){var j=null==R?[I,G]:null==E?[L,k]:Ya([L,k],[R,O],[E,V],[I,G]),B=L-j[0],N=k-j[1],Y=E-j[0],U=V-j[1],W=1/S(uo((B*Y+N*U)/(g(B*B+N*N)*g(Y*Y+U*U)))/2),q=g(j[0]*j[0]+j[1]*j[1]);H=f(A,(e-q)/(W-1)),X=f(A,(p-q)/(W+1))}if(null!=E){var Q=Ar(null==R?[I,G]:[R,O],[L,k],p,X,y),Z=Ar([E,V],[I,G],p,X,y);A===X?v.push("M",Q[0],"A",X,",",X," 0 0,",P," ",Q[1],"A",p,",",p," 0 ",1-y^Tr(Q[1][0],Q[1][1],Z[1][0],Z[1][1]),",",y," ",Z[1],"A",X,",",X," 0 0,",P," ",Z[0]):v.push("M",Q[0],"A",X,",",X," 0 1,",P," ",Z[0])}else v.push("M",L,",",k);if(null!=R){var K=Ar([L,k],[R,O],e,-H,y),$=Ar([I,G],null==E?[L,k]:[E,V],e,-H,y);A===H?v.push("L",$[0],"A",H,",",H," 0 0,",P," ",$[1],"A",e,",",e," 0 ",y^Tr($[1][0],$[1][1],K[1][0],K[1][1]),",",1-y," ",K[1],"A",H,",",H," 0 0,",P," ",K[0]):v.push("L",$[0],"A",H,",",H," 0 0,",P," ",K[0])}else v.push("L",I,",",G)}else v.push("M",L,",",k),null!=E&&v.push("A",p,",",p," 0 ",D,",",y," ",E,",",V),v.push("L",I,",",G),null!=R&&v.push("A",e,",",e," 0 ",F,",",1-y," ",R,",",O);return v.push("Z"),v.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=mr,s=fr,a=yr,r=Dd,d=Sr,l=br,c=vr;return e.innerRadius=function(t){return arguments.length?(n=Be(t),e):n},e.outerRadius=function(t){return arguments.length?(s=Be(t),e):s},e.cornerRadius=function(t){return arguments.length?(a=Be(t),e):a},e.padRadius=function(t){return arguments.length?(r=t==Dd?Dd:Be(t),e):r},e.startAngle=function(t){return arguments.length?(d=Be(t),e):d},e.endAngle=function(t){return arguments.length?(l=Be(t),e):l},e.padAngle=function(t){return arguments.length?(c=Be(t),e):c},e.centroid=function(){var e=(+n.apply(this,arguments)+ +s.apply(this,arguments))/2,t=(+d.apply(this,arguments)+ +l.apply(this,arguments))/2-Uo;return[o(t)*e,S(t)*e]},e};var Dd="auto";_o.svg.line=function(){return Pr(O)};var zd=_o.map({linear:Cr,"linear-closed":wr,step:function(e){for(var t=0,a=e.length,n=e[0],i=[n[0],",",n[1]];++t<a;)i.push("H",(n[0]+(n=e[t])[0])/2,"V",n[1]);return 1<a&&i.push("H",n[0]),i.join("")},"step-before":Lr,"step-after":kr,basis:Ir,"basis-open":function(e){if(4>e.length)return Cr(e);for(var t=[],a=-1,i=e.length,n=[0],r=[0],o;3>++a;)o=e[a],n.push(o[0]),r.push(o[1]);for(t.push(Gr(Xd,n)+","+Gr(Xd,r)),--a;++a<i;)o=e[a],n.shift(),n.push(o[0]),r.shift(),r.push(o[1]),Rr(t,n,r);return t.join("")},"basis-closed":function(e){for(var t=-1,a=e.length,n=a+4,i=[],r=[],o,s;4>++t;)s=e[t%a],i.push(s[0]),r.push(s[1]);for(o=[Gr(Xd,i),",",Gr(Xd,r)],--t;++t<n;)s=e[t%a],i.shift(),i.push(s[0]),r.shift(),r.push(s[1]),Rr(o,i,r);return o.join("")},bundle:function(e,a){var r=e.length-1;if(r)for(var n=e[0][0],o=e[0][1],s=e[r][0]-n,d=e[r][1]-o,l=-1,i,c;++l<=r;)i=e[l],c=l/r,i[0]=a*i[0]+(1-a)*(n+c*s),i[1]=a*i[1]+(1-a)*(o+c*d);return Ir(e)},cardinal:function(e,t){return 3>e.length?Cr(e):e[0]+Er(e,Vr(e,t))},"cardinal-open":function(e,t){return 4>e.length?Cr(e):e[1]+Er(e.slice(1,-1),Vr(e,t))},"cardinal-closed":function(e,t){return 3>e.length?wr(e):e[0]+Er((e.push(e[0]),e),Vr([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return 3>e.length?Cr(e):e[0]+Er(e,zr(e))}});zd.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Fd=[0,0.6666666666666666,0.3333333333333333,0],Md=[0,0.3333333333333333,0.6666666666666666,0],Xd=[0,0.16666666666666666,0.6666666666666666,0.16666666666666666];_o.svg.line.radial=function(){var e=Pr(Fr);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Lr.reverse=kr,kr.reverse=Lr,_o.svg.area=function(){return Mr(O)},_o.svg.area.radial=function(){var e=Mr(Fr);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},_o.svg.chord=function(){function e(e,o){var i=a(this,c,e,o),s=a(this,g,e,o);return"M"+i.p0+r(i.r,i.p1,i.a1-i.a0)+(n(i,s)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,s.r,s.p0)+r(s.r,s.p1,s.a1-s.a0)+l(s.r,s.p1,i.r,i.p0))+"Z"}function a(e,a,n,d){var i=a.call(e,n,d),l=t.call(e,i,d),c=s.call(e,i,d)-Uo,g=p.call(e,i,d)-Uo;return{r:l,a0:c,a1:g,p0:[l*o(c),l*S(c)],p1:[l*o(g),l*S(g)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>No)+",1 "+t}function l(e,t,a,n){return"Q 0,0 "+n}var c=Va,g=Ia,t=Xr,s=Sr,p=br;return e.radius=function(a){return arguments.length?(t=Be(a),e):t},e.source=function(t){return arguments.length?(c=Be(t),e):c},e.target=function(t){return arguments.length?(g=Be(t),e):g},e.startAngle=function(t){return arguments.length?(s=Be(t),e):s},e.endAngle=function(t){return arguments.length?(p=Be(t),e):p},e},_o.svg.diagonal=function(){function e(e,r){var i=t.call(this,e,r),o=a.call(this,e,r),s=(i.y+o.y)/2,d=[i,{x:i.x,y:s},{x:o.x,y:s},o];return d=d.map(n),"M"+d[0]+"C"+d[1]+" "+d[2]+" "+d[3]}var t=Va,a=Ia,n=Hr;return e.source=function(a){return arguments.length?(t=Be(a),e):t},e.target=function(t){return arguments.length?(a=Be(t),e):a},e.projection=function(t){return arguments.length?(n=t,e):n},e},_o.svg.diagonal.radial=function(){var e=_o.svg.diagonal(),t=Hr,a=e.projection;return e.projection=function(e){return arguments.length?a(jr(t=e)):t},e},_o.svg.symbol=function(){function e(e,n){return(Hd.get(t.call(this,e,n))||Yr)(a.call(this,e,n))}var t=Nr,a=Br;return e.type=function(a){return arguments.length?(t=Be(a),e):t},e.size=function(t){return arguments.length?(a=Be(t),e):a},e};var Hd=_o.map({circle:Yr,cross:function(e){var t=g(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=g(e/(2*Bd)),a=t*Bd;return"M0,"+-t+"L"+a+",0 0,"+t+" "+-a+",0Z"},square:function(e){var t=g(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=g(e/jd),a=t*jd/2;return"M0,"+a+"L"+t+","+-a+" "+-t+","+-a+"Z"},"triangle-up":function(e){var t=g(e/jd),a=t*jd/2;return"M0,"+-a+"L"+t+","+a+" "+-t+","+a+"Z"}});_o.svg.symbolTypes=Hd.keys();var jd=1.7320508075688772,Bd=ro(30*Wo);Ro.transition=function(e){for(var t=Wd||++Ud,a=Zr(e),r=[],o=qd||{time:Date.now(),ease:Fn,delay:0,duration:250},s=-1,d=this.length,l,c;++s<d;){r.push(l=[]);for(var g=this[s],p=-1,i=g.length;++p<i;)(c=g[p])&&Kr(c,p,a,t,o),l.push(c)}return Wr(r,a,t)},Ro.interrupt=function(e){return this.each(null==e?Nd:Ur(Zr(e)))};var Nd=Ur(Zr()),Yd=[],Ud=0,Wd,qd;Yd.call=Ro.call,Yd.empty=Ro.empty,Yd.node=Ro.node,Yd.size=Ro.size,_o.transition=function(e,t){return e&&e.transition?Wd?e.transition(t):e:_o.selection().transition(e)},_o.transition.prototype=Yd,Yd.select=function(e){var t=this.id,a=this.namespace,r=[],o,s,d;e=Y(e);for(var l=-1,c=this.length;++l<c;){r.push(o=[]);for(var g=this[l],p=-1,i=g.length;++p<i;)(d=g[p])&&(s=e.call(d,d.__data__,p,l))?("__data__"in d&&(s.__data__=d.__data__),Kr(s,p,a,t,d[a][t]),o.push(s)):o.push(null)}return Wr(r,a,t)},Yd.selectAll=function(e){var t=this.id,a=this.namespace,r=[],s,d,l,c,g;e=U(e);for(var p=-1,h=this.length;++p<h;)for(var u=this[p],x=-1,i=u.length;++x<i;)if(l=u[x]){g=l[a][t],d=e.call(l,l.__data__,x,p),r.push(s=[]);for(var n=-1,y=d.length;++n<y;)(c=d[n])&&Kr(c,n,a,t,g),s.push(c)}return Wr(r,a,t)},Yd.filter=function(e){var t=[],a,r,o;"function"!=typeof e&&(e=ie(e));for(var s=0,d=this.length;s<d;s++){t.push(a=[]);for(var r=this[s],l=0,i=r.length;l<i;l++)(o=r[l])&&e.call(o,o.__data__,l,s)&&a.push(o)}return Wr(t,this.namespace,this.id)},Yd.tween=function(e,t){var a=this.id,n=this.namespace;return 2>arguments.length?this.node()[n][a].tween.get(e):oe(this,null==t?function(t){t[n][a].tween.remove(e)}:function(i){i[n][a].tween.set(e,t)})},Yd.attr=function(e,t){function a(){this.removeAttribute(o)}function n(){this.removeAttributeNS(o.space,o.local)}if(2>arguments.length){for(t in e)this.attr(t,e[t]);return this}var r="transform"==e?Jn:Vn,o=_o.ns.qualify(e);return qr(this,"attr."+e,t,o.local?function(e){return null==e?n:(e+="",function(){var t=this.getAttributeNS(o.space,o.local),a;return t!==e&&(a=r(t,e),function(e){this.setAttributeNS(o.space,o.local,a(e))})})}:function(e){return null==e?a:(e+="",function(){var t=this.getAttribute(o),a;return t!==e&&(a=r(t,e),function(e){this.setAttribute(o,a(e))})})})},Yd.attrTween=function(e,t){var a=_o.ns.qualify(e);return this.tween("attr."+e,a.local?function(e,n){var i=t.call(this,e,n,this.getAttributeNS(a.space,a.local));return i&&function(e){this.setAttributeNS(a.space,a.local,i(e))}}:function(e,n){var i=t.call(this,e,n,this.getAttribute(a));return i&&function(e){this.setAttribute(a,i(e))}})},Yd.style=function(e,t,a){function i(){this.style.removeProperty(e)}var r=arguments.length;if(3>r){if("string"!=typeof e){for(a in 2>r&&(t=""),e)this.style(a,e[a],t);return this}a=""}return qr(this,"style."+e,t,function(t){return null==t?i:(t+="",function(){var n=u(this).getComputedStyle(this,null).getPropertyValue(e),r;return n!==t&&(r=Vn(n,t),function(n){this.style.setProperty(e,r(n),a)})})})},Yd.styleTween=function(e,t,a){return 3>arguments.length&&(a=""),this.tween("style."+e,function(n,r){var i=t.call(this,n,r,u(this).getComputedStyle(this,null).getPropertyValue(e));return i&&function(n){this.style.setProperty(e,i(n),a)}})},Yd.text=function(e){return qr(this,"text",e,Qr)},Yd.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;2>this[e].count&&(t=this.parentNode)&&t.removeChild(this)})},Yd.ease=function(e){var t=this.id,a=this.namespace;return 1>arguments.length?this.node()[a][t].ease:("function"!=typeof e&&(e=_o.ease.apply(_o,arguments)),oe(this,function(n){n[a][t].ease=e}))},Yd.delay=function(e){var t=this.id,a=this.namespace;return 1>arguments.length?this.node()[a][t].delay:oe(this,"function"==typeof e?function(n,r,i){n[a][t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n[a][t].delay=e}))},Yd.duration=function(e){var t=this.id,a=this.namespace;return 1>arguments.length?this.node()[a][t].duration:oe(this,"function"==typeof e?function(n,r,i){n[a][t].duration=T(1,e.call(n,n.__data__,r,i))}:(e=T(1,e),function(n){n[a][t].duration=e}))},Yd.each=function(e,t){var a=this.id,n=this.namespace;if(2>arguments.length){var i=qd,r=Wd;try{Wd=a,oe(this,function(t,r,i){qd=t[n][a],e.call(t,t.__data__,r,i)})}finally{qd=i,Wd=r}}else oe(this,function(i){var r=i[n][a];(r.event||(r.event=_o.dispatch("start","end","interrupt"))).on(e,t)});return this},Yd.transition=function(){for(var e=this.id,t=++Ud,a=this.namespace,r=[],o=0,s=this.length,d,l,c,g;o<s;o++){r.push(d=[]);for(var l=this[o],p=0,i=l.length;p<i;p++)(c=l[p])&&(g=c[a][e],Kr(c,p,a,t,{time:g.time,ease:g.ease,delay:g.delay+g.duration,duration:g.duration})),d.push(c)}return Wr(r,a,t)},_o.svg.axis=function(){function e(e){e.each(function(){var e=_o.select(this),l=this.__chart__||t,c=this.__chart__=t.copy(),g=null==s?c.ticks?c.ticks.apply(c,o):c.domain():s,p=null==d?c.tickFormat?c.tickFormat.apply(c,o):O:d,h=e.selectAll(".tick").data(g,c),u=h.enter().insert("g",".domain").attr("class","tick").style("opacity",jo),y=_o.transition(h.exit()).style("opacity",jo).remove(),m=_o.transition(h.order()).style("opacity",1),f=T(i,0)+n,S=Zi(c),b=e.selectAll(".domain").data([0]),v=(b.enter().append("path").attr("class","domain"),_o.transition(b)),A;u.append("line"),u.append("text");var P=u.select("line"),C=m.select("line"),w=h.select("text").text(p),L=u.select("text"),k=m.select("text"),E="top"===a||"left"===a?-1:1,V,I,G,R;if("bottom"===a||"top"===a?(A=$r,V="x",G="y",I="x2",R="y2",w.attr("dy",0>E?"0em":".71em").style("text-anchor","middle"),v.attr("d","M"+S[0]+","+E*r+"V0H"+S[1]+"V"+E*r)):(A=Jr,V="y",G="x",I="y2",R="x2",w.attr("dy",".32em").style("text-anchor",0>E?"end":"start"),v.attr("d","M"+E*r+","+S[0]+"H0V"+S[1]+"H"+E*r)),P.attr(R,E*i),L.attr(G,E*f),C.attr(I,0).attr(R,E*i),k.attr(V,0).attr(G,E*f),c.rangeBand){var D=c,x=D.rangeBand()/2;l=c=function(e){return D(e)+x}}else l.rangeBand?l=c:y.call(A,c,l);u.call(A,l,c),m.call(A,c,c)})}var t=_o.scale.linear(),a=Qd,i=6,r=6,n=3,o=[10],s=null,d;return e.scale=function(a){return arguments.length?(t=a,e):t},e.orient=function(t){return arguments.length?(a=t in Zd?t+"":Qd,e):a},e.ticks=function(){return arguments.length?(o=yo(arguments),e):o},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(t){return arguments.length?(d=t,e):d},e.tickSize=function(t){var a=arguments.length;return a?(i=+t,r=+arguments[a-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(r=+t,e):r},e.tickPadding=function(t){return arguments.length?(n=+t,e):n},e.tickSubdivide=function(){return arguments.length&&e},e};var Qd="bottom",Zd={top:1,right:1,bottom:1,left:1};_o.svg.brush=function(){function e(r){r.each(function(){var r=_o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),d=r.selectAll(".background").data([0]);d.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),r.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=r.selectAll(".resize").data(p,O);l.exit().remove(),l.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Kd[e]}).append("rect").attr("x",function(e){return /[ew]$/.test(e)?-3:null}).attr("y",function(e){return /^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",e.empty()?"none":null);var c=_o.transition(r),g=_o.transition(d),h;o&&(h=Zi(o),g.attr("x",h[0]).attr("width",h[1]-h[0]),a(c)),s&&(h=Zi(s),g.attr("y",h[0]).attr("height",h[1]-h[0]),n(c)),t(c)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+l[+/e$/.test(e)]+","+c[+/^s/.test(e)]+")"})}function a(e){e.select(".extent").attr("x",l[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function n(e){e.select(".extent").attr("y",c[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function i(){function i(){var e=_o.mouse(y),i=!1;I&&(e[0]+=I[0],e[1]+=I[1]),L||(_o.event.altKey?(!w&&(w=[(l[0]+l[1])/2,(c[0]+c[1])/2]),E[0]=l[+(e[0]<w[0])],E[1]=c[+(e[1]<w[1])]):w=null),P&&p(e,o,0)&&(a(v),i=!0),C&&p(e,s,1)&&(n(v),i=!0),i&&(t(v),b({type:"brush",mode:L?"move":"resize"}))}function p(e,t,a){var n=Zi(t),i=n[0],r=n[1],o=E[a],s=a?c:l,p=s[1]-s[0],u,x;if(L&&(i-=o,r-=p+o),u=(a?g:d)?T(i,f(r,e[a])):e[a],L?x=(u+=o)+p:(w&&(o=T(i,f(r,2*w[a]-u))),o<u?(x=u,u=o):x=o),s[0]!=u||s[1]!=x)return a?m=null:h=null,s[0]=u,s[1]=x,!0}function x(){i(),v.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),_o.select("body").style("cursor",null),V.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),b({type:"brushend"})}var y=this,S=_o.select(_o.event.target),b=r.of(y,arguments),v=_o.select(y),A=S.datum(),P=!/^(n|s)$/.test(A)&&o,C=!/^(e|w)$/.test(A)&&s,L=S.classed("extent"),k=pe(y),E=_o.mouse(y),V=_o.select(u(y)).on("keydown.brush",function(){32==_o.event.keyCode&&(!L&&(w=null,E[0]-=l[1],E[1]-=c[1],L=2),H())}).on("keyup.brush",function(){32==_o.event.keyCode&&2==L&&(E[0]+=l[1],E[1]+=c[1],L=0,H())}),w,I;if(_o.event.changedTouches?V.on("touchmove.brush",i).on("touchend.brush",x):V.on("mousemove.brush",i).on("mouseup.brush",x),v.interrupt().selectAll("*").interrupt(),L)E[0]=l[0]-E[0],E[1]=c[0]-E[1];else if(A){var G=+/w$/.test(A),R=+/^n/.test(A);I=[l[1-G]-E[0],c[1-R]-E[1]],E[0]=l[G],E[1]=c[R]}else _o.event.altKey&&(w=E.slice());v.style("pointer-events","none").selectAll(".resize").style("display",null),_o.select("body").style("cursor",S.style("cursor")),b({type:"brushstart"}),i()}var r=B(e,"brushstart","brush","brushend"),o=null,s=null,l=[0,0],c=[0,0],d=!0,g=!0,p=$d[0],h,m;return e.event=function(e){e.each(function(){var e=r.of(this,arguments),a={x:l,y:c,i:h,j:m},t=this.__chart__||a;this.__chart__=a,Wd?_o.select(this).transition().each("start.brush",function(){h=t.i,m=t.j,l=t.x,c=t.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=In(l,a.x),i=In(c,a.y);return h=m=null,function(r){l=a.x=n(r),c=a.y=i(r),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){h=a.i,m=a.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(o=t,p=$d[!o<<1|!s],e):o},e.y=function(t){return arguments.length?(s=t,p=$d[!o<<1|!s],e):s},e.clamp=function(t){return arguments.length?(o&&s?(d=!!t[0],g=!!t[1]):o?d=!!t:s&&(g=!!t),e):o&&s?[d,g]:o?d:s?g:null},e.extent=function(a){var n,i,r,d,g;return arguments.length?(o&&(n=a[0],i=a[1],s&&(n=n[0],i=i[0]),h=[n,i],o.invert&&(n=o(n),i=o(i)),i<n&&(g=n,n=i,i=g),(n!=l[0]||i!=l[1])&&(l=[n,i])),s&&(r=a[0],d=a[1],o&&(r=r[1],d=d[1]),m=[r,d],s.invert&&(r=s(r),d=s(d)),d<r&&(g=r,r=d,d=g),(r!=c[0]||d!=c[1])&&(c=[r,d])),e):(o&&(h?(n=h[0],i=h[1]):(n=l[0],i=l[1],o.invert&&(n=o.invert(n),i=o.invert(i)),i<n&&(g=n,n=i,i=g))),s&&(m?(r=m[0],d=m[1]):(r=c[0],d=c[1],s.invert&&(r=s.invert(r),d=s.invert(d)),d<r&&(g=r,r=d,d=g))),o&&s?[[n,r],[i,d]]:o?[n,i]:s&&[r,d])},e.clear=function(){return e.empty()||(l=[0,0],c=[0,0],h=m=null),e},e.empty=function(){return!!o&&l[0]==l[1]||!!s&&c[0]==c[1]},_o.rebind(e,r,"on")};var Kd={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$d=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Jd=ms.format=As.timeFormat,el=Jd.utc,tl=el("%Y-%m-%dT%H:%M:%S.%LZ");Jd.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eo:tl,eo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},eo.toString=tl.toString,ms.second=at(function(e){return new fs(1e3*r(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*r(t))},function(e){return e.getSeconds()}),ms.seconds=ms.second.range,ms.seconds.utc=ms.second.utc.range,ms.minute=at(function(e){return new fs(6e4*r(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*r(t))},function(e){return e.getMinutes()}),ms.minutes=ms.minute.range,ms.minutes.utc=ms.minute.utc.range,ms.hour=at(function(e){var t=e.getTimezoneOffset()/60;return new fs(36e5*(r(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*r(t))},function(e){return e.getHours()}),ms.hours=ms.hour.range,ms.hours.utc=ms.hour.utc.range,ms.month=at(function(e){return e=ms.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ms.months=ms.month.range,ms.months.utc=ms.month.utc.range;var al=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],nl=[[ms.second,1],[ms.second,5],[ms.second,15],[ms.second,30],[ms.minute,1],[ms.minute,5],[ms.minute,15],[ms.minute,30],[ms.hour,1],[ms.hour,3],[ms.hour,6],[ms.hour,12],[ms.day,1],[ms.day,2],[ms.week,1],[ms.month,1],[ms.month,3],[ms.year,1]],il=Jd.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Yt]]),rl={range:function(e,t,a){return _o.range(d(e/a)*a,+t,a).map(ao)},floor:O,ceil:O};nl.year=ms.year,ms.scale=function(){return to(_o.scale.linear(),nl,il)};var ol=nl.map(function(e){return[e[0].utc,e[1]]}),sl=el.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Yt]]);ol.year=ms.year.utc,ms.scale.utc=function(){return to(_o.scale.linear(),ol,sl)},_o.text=Ne(function(e){return e.responseText}),_o.json=function(e,t){return Ye(e,"application/json",no,t)},_o.html=function(e,t){return Ye(e,"text/html",io,t)},_o.xml=Ne(function(e){return e.responseXML}),(this.d3=_o,l=_o,p="function"==typeof l?l.call(t,a,t,e):l,!(void 0!==p&&(e.exports=p)))}()},function(e){e.exports={name:"solar-exchange",version:"0.1.0",description:"",main:"index.js",scripts:{test:"jest --",start:"webpack-dev-server --inline","build:production":"NODE_ENV=production && webpack -p --config webpack.config.prod.js",build:"webpack"},keywords:[],author:"",license:"ISC",devDependencies:{"babel-minify-webpack-plugin":"^0.2.0",bulma:"^0.5.3",c3:"^0.4.18","css-loader":"^0.28.7","html-webpack-plugin":"^2.30.1",jest:"^21.1.0",lodash:"^4.17.4","node-sass":"^4.5.3","sass-loader":"^6.0.6","style-loader":"^0.18.2","uglify-js":"git://github.com/mishoo/UglifyJS2#harmony-v2.8.22","uglifyjs-webpack-plugin":"^0.4.6",webpack:"^3.6.0","webpack-dev-server":"^2.8.2","webpack-merge":"^4.1.0"},jest:{testURL:"http://someapi.com",setupFiles:["./__tests__/jestsetup.js"],testPathIgnorePatterns:["setup"],moduleNameMapper:{"\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$":"<rootDir>/__mocks__/fileMock.js","\\.(css|less)$":"<rootDir>/__mocks__/styleMock.js"}}}},function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(8),i=a(1),r=a(24);const o=(e)=>{let t=[],a=[],o=[],s=[],l=[],c=[],g=[],p=[],h=[],u=[],d=[],x=[],y,m;for(let t=0;t<n.a;t++){let{result:a,avg_wstorage:n,avg_pstorage:o,total_storage:s,sunpower:l,hconsume:y,battery_hist:m,generation_hist:f}=i.a.start(e).getLines();c[t]=Object(r.a)(n,e.tinterval),g[t]=Object(r.a)(o,e.tinterval),p[t]=Object(r.a)(s,e.tinterval),h[t]=Object(r.a)(l,e.tinterval),u[t]=Object(r.a)(y,e.tinterval),d[t]=m,x[t]=f}let f=c[0].length;for(let n=0;n<f;n++)t[n]=_.mean(Object(r.b)(g,n)),a[n]=_.mean(Object(r.b)(c,n)),o[n]=_.mean(Object(r.b)(p,n)),s[n]=_.mean(Object(r.b)(h,n)),l[n]=_.mean(Object(r.b)(u,n));return y=d[0],m=x[0],{avg_psto:t,avg_wsto:a,total_sto:o,avg_sunpo:s,avg_hcon:l,avg_bhist:y,avg_ghist:m}}},function(e,t,a){"use strict";function n(e,t){let a=[],n=0;for(let r=0;r<e.length;r+=3600/t)a[n]=e[r],n++;return a}function i(e,t){let a=[];for(let n=0;n<e.length;n++)a[n]=e[n][t];return a}a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})}]);